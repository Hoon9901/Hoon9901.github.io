{"componentChunkName":"component---src-templates-post-tsx","path":"/spring-deploy-alert/","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQ4y6VTy5LSUBDl//0BdWHVlDvXlhs3Vun4qGHATCBP8oAQICEE8g5ocuy+EEaGceWtOnT6Jvfcc7qb3iZu8OqmxIePv+H7CwwlCaOxClWR8PlbCdvNEUUB5v4SYbhG0zRo2pbiE9BeS+jlRYO37yp8+rKHH7YYSxoc08A2yRBvI6yjCEHIcYMsL55HxrE8EgItDr9aAA1mIXDz4jXev3kJWdUgywqkhxHu+gOMSXWS5OJgkubY0YUMfmakRMpKe/zDzLwm7p7sWphYNhbLAObEhqLqmHk+dGNCuQNvvkBR1iirvUBeVJeE7akeZ0LFwmA4FKrC9UbY5ZpyzuR8eB3F0HQTqmbAXyyF6kvCk0KTCFXdJXsKLNsVH7KCwVDC7dfvkEcKqvogLuELpAcZq2B9TdieCWsYEw+O64pDHeFyFYqD8TYRdlnlKoiwiXf/sNzVcHrAT0lH//5eqGKSI9mx01xXfxGIZnSqrppyYdmpqSFzWKemzGZzuFOPcge2MxVNctyZIOzIOKZZLkbnitAihf2hih93fbJHI5HXpKRCSjHJKrJXi71tUmDHo9MhYZXFcQ7/ruHEKaG4KRQvx2iaY0zQ5zk0ymU3ozwV0LwM8jSD6vFeJt4FcUEj/UShbtfQqSmGaUE3bYxpTDjqhkXW50IFq2FsT+ien+3yzK+pc/xvoA9EfR7BNSoKtl0KFGdUp7x6tMyri/+7/gA9QyDqgAshAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png\"\n        srcset=\"/static/91333e774a3680dbc8ce3d502fdd286b/12f09/image-1.png 148w,\n/static/91333e774a3680dbc8ce3d502fdd286b/e4a3f/image-1.png 295w,\n/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png 371w\"\n        sizes=\"(max-width: 371px) 100vw, 371px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>매번 개발 서버나 프로덕션 서버에 배포 한 후 따로 팀원들에게 \"서버 방금 올렸습니다~\" 라고 전하는게 귀찮을 수 있다.\n우아하고 개발자스럽게 불필요한 행위없이 서버가 정상적으로 배포되면 자동으로 디스코드에 알림을 보내는 서비스를 만들어보자.</p>\n<p>일단 배포 알리미에 대한 기능 요구사항은 다음과 같다.</p>\n<ul>\n<li>서버가 정상적으로 작동하는지 판별할 수 있어야 한다.</li>\n<li>서버가 정상 작동하면 Webhook을 이용해 메시지를 보낼 수 있다.</li>\n<li>여러 환경에 따라 알리미가 작동할 수 있으면 한다.</li>\n</ul>\n<p>Webhook 전송 방식은 필자가 예전에 작성한 <a href=\"https://seonghoon.xyz/springboot-disord-webhook/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[SpringBoot] 디스코드 WebHook으로 알림 보내기</a>를 참고하면 더 좋다.</p>\n<h2 id=\"prerequisite\" style=\"position:relative;\"><a href=\"#prerequisite\" aria-label=\"prerequisite permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prerequisite</h2>\n<ul>\n<li>디스코드 채널 웹훅 URL</li>\n<li>Spring 기반의 서버</li>\n</ul>\n<p>추가적인 라이브러리를 사용하지 않고 스프링이 제공하는 기능만으로 기능을 구현할 것 이다.</p>\n<h2 id=\"서버-정상-작동-판별하기\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EC%A0%95%EC%83%81-%EC%9E%91%EB%8F%99-%ED%8C%90%EB%B3%84%ED%95%98%EA%B8%B0\" aria-label=\"서버 정상 작동 판별하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 정상 작동 판별하기</h2>\n<p>우선 서버 작동에 이상이 없는지 알 수 있는 방법을 알아보자.</p>\n<h3 id=\"헬스체크-api\" style=\"position:relative;\"><a href=\"#%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC-api\" aria-label=\"헬스체크 api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>헬스체크 API</h3>\n<p>일반적으로 서버를 배포하면 데이터베이스나 여러 서버와 통합적으로 연결이 끝난 후 API가 정상 호출이 되는지 확인한다.\n여러 API가 있겠지만 아주 간단하게 헬스체크 용도의 GET 방식 API를 만들어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>  \n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/test\"</span><span class=\"token punctuation\">)</span>  \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TestController</span> <span class=\"token punctuation\">{</span>  \n  \n    <span class=\"token annotation punctuation\">@GetMapping</span>  \n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Good\"</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">/api/test</code> URL로 GET 요청을 보내면 서버에서 <code class=\"language-text\">Good</code> 이라는 문자열을 반환하는 아주 간단한 API 이다.</p>\n<p>서버가 잘 동작하고 해당 URL로 요청을 보내면 언제든지 <code class=\"language-text\">Good</code> 이라는 메시지를 통해 잘 돌아가는구나 라고 안심할 수 있는 API 이다.</p>\n<p>그러면 이 API를 언제 호출해야할까?\n개발자가 직접 서버가 작동되면 주기적으로 API 요청을 보내는 것은 매우 효율적이지 못하다\n따라서 스프링에서 제공하는 기능을 이용해 자동으로 API 요청을 보내도록 해보자.</p>\n<h3 id=\"api-자동-호출\" style=\"position:relative;\"><a href=\"#api-%EC%9E%90%EB%8F%99-%ED%98%B8%EC%B6%9C\" aria-label=\"api 자동 호출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API 자동 호출</h3>\n<p>Java를 이용해 코드를 작성해본 분들은 잘 알다시피 main() 메소드가 프로그램의 진입점이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>  \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebApplication</span> <span class=\"token punctuation\">{</span>  \n  \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n\t    <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WebApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드는 스프링 부트 프로젝트 생성 시 기본적으로 생성되는 코드이다.</p>\n<p>서버를 실행하면 main 함수의 <code class=\"language-text\">SpringApplication.run()</code> 메소드를 통해 스프링 컨테이너가 생성되어 Bean을 등록하고 의존성을 주입하는 여러 작업들이 수행된다.</p>\n<p>혹시 <code class=\"language-text\">run()</code> 메소드 다음 라인을 디버깅 해본적 있는가?\n당장 IDE를 켜서 <code class=\"language-text\">run()</code> 다음으로 아무 로그를 출력해보자. 스프링이 정상적으로 실행된 후 제일 마지막에 로그가 출력 될 것이다.\n스프링을 이용해 개발하다보면 main 함수를 건드리는 일이 대부분 없고 스프링 컨테이너 덕분에 직접 인스턴스를 main에서 생성하고 의존성을 주입하는 일이 없다 (DI 와 Bean 덕분에) </p>\n<p>하지만 main 함수에서 스프링 컨테이너가 생성되고 Bean이 등록된 후에 특정 작업을 수행하게 할 수 있다.\n우선 배포 알림을 전송하는 서비스를 만들어보자.</p>\n<h2 id=\"배포-알림-서비스-구현하기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC-%EC%95%8C%EB%A6%BC-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\" aria-label=\"배포 알림 서비스 구현하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포 알림 서비스 구현하기</h2>\n<h3 id=\"deployalertservice-클래스\" style=\"position:relative;\"><a href=\"#deployalertservice-%ED%81%B4%EB%9E%98%EC%8A%A4\" aria-label=\"deployalertservice 클래스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DeployAlertService 클래스</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>  \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DeployAlertService</span> <span class=\"token punctuation\">{</span>  \n  \n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${webhook.url}\"</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> webhookUrl<span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token annotation punctuation\">@Value</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"${spring.profiles.active}\"</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> activeProfile<span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">deployAlert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>  \n            <span class=\"token class-name\">RestTemplate</span> restTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RestTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n            <span class=\"token function\">healthCheck</span><span class=\"token punctuation\">(</span>restTemplate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n            <span class=\"token function\">webHook</span><span class=\"token punctuation\">(</span>restTemplate<span class=\"token punctuation\">,</span> <span class=\"token function\">makeMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n  \n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">healthCheck</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token class-name\">String</span> url <span class=\"token operator\">=</span> <span class=\"token string\">\"http://localhost:8080/api/test\"</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token class-name\">String</span> result <span class=\"token operator\">=</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">getForObject</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n        <span class=\"token keyword\">assert</span> result <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Good\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"서버가 정상적으로 배포되지 않았습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n  \n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> <span class=\"token function\">makeMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token class-name\">String</span> json <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">\"\"\"\n\t        {\n\t\t        \"content\": \"%s 환경 서버가 정상적으로 배포되었습니다.\"\n\t        }\n        \"\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> message <span class=\"token operator\">=</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">,</span> activeProfile<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> message<span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>\n  \n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">webHook</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RestTemplate</span> restTemplate<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token class-name\">HttpHeaders</span> headers <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpHeaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        headers<span class=\"token punctuation\">.</span><span class=\"token function\">setContentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">APPLICATION_JSON</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n        <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> entity <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HttpEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> headers<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token class-name\">String</span> string <span class=\"token operator\">=</span> restTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">postForObject</span><span class=\"token punctuation\">(</span>webhookUrl<span class=\"token punctuation\">,</span> entity<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>string <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"웹훅 전송에 실패하였습니다.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">deployAlert()</code> 메소드를 이용해 테스트 API 호출하고 API 응답이 정상이면 서버가 정상작동하는 것이므로\njson 형식의 메시지를 만들고 프로필을 담아 Webhook을 전송하게 된다.</p>\n<p>테스트 API 호출과 WebHook시  Spring 에서 제공하는 <code class=\"language-text\">RestTemplate</code>을 이용하여 HTTP 요청을 보내게된다.</p>\n<p>해당 클래스는 스프링 컨테이너에 등록되어야 하므로 Bean으로 등록해야 한다.</p>\n<h3 id=\"bean-등록\" style=\"position:relative;\"><a href=\"#bean-%EB%93%B1%EB%A1%9D\" aria-label=\"bean 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bean 등록</h3>\n<p>스프링에서 어떤 객체를 Bean으로 등록하기 위해선 <code class=\"language-text\">@Configuration</code>가 달린 설정 클래스에서 <code class=\"language-text\">@Bean</code>을 이용하거나 <code class=\"language-text\">@Component</code>를 클래스에 부착한다. 별도의 설정 클래스를 만들어야 하는데 <code class=\"language-text\">@SpringBootApplication</code> 어노테이션 내부를 살펴보면 <code class=\"language-text\">@Configuration</code> 어노테이션이 내장되어있고 그 말은 메인 함수가 위치한 WebApplication 클래스에서 <code class=\"language-text\">@Bean</code> 어노테이션을 이용해 Bean을 등록할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>  \n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">WebApplication</span> <span class=\"token punctuation\">{</span>  \n  \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token class-name\">ConfigurableApplicationContext</span> context <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WebApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span>  \n    <span class=\"token punctuation\">}</span>\n  \n    <span class=\"token annotation punctuation\">@Bean</span>  \n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DeployAlertService</span> <span class=\"token function\">deployAlertService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DeployAlertService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>그러면 <code class=\"language-text\">DeployAlertService</code> 클래스는 Bean으로 등록되어 스프링 컨테이너가 관리하게 되는데 해당 Bean을 사용할려면 스프링 컨테이너에게 요청을 해야한다.</p>\n<h3 id=\"스프링-컨테이너에게-요청하기\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90%EA%B2%8C-%EC%9A%94%EC%B2%AD%ED%95%98%EA%B8%B0\" aria-label=\"스프링 컨테이너에게 요청하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 컨테이너에게 요청하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token keyword\">var</span> context <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ArtBackendApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n  \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">containsBean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deployAlertService\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        context<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DeployAlertService</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">deployAlert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">run()</code> 메소드의 반환은 스프링 컨테이너 이므로 bean을 사용할 수 있도록 로직을 작성할 수 있다 컨테이너으로 부터 Bean을 가져와 배포 알림 메소드를 호출한다.</p>\n<p>이렇게 하여 스프링 서버 실행 시 여러 작업 이후에 <code class=\"language-text\">DeployAlertService</code> 클래스의 <code class=\"language-text\">deployAlert()</code> 메소드가 호출되어 Webhook을 통해 알림을 전송하게 된다.</p>\n<h3 id=\"배포-환경에-따라-알림-전송하기\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%95%8C%EB%A6%BC-%EC%A0%84%EC%86%A1%ED%95%98%EA%B8%B0\" aria-label=\"배포 환경에 따라 알림 전송하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포 환경에 따라 알림 전송하기</h3>\n<p>개발환경이나 프로덕션 환경에서 서버 배포 시 호출하게 할려면 Spring 에서 제공하는 Profile 설정을 이용해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Bean</span>  \n<span class=\"token annotation punctuation\">@Profile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"dev\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"prod\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// dev, prod 환경에서 Bean을 생성한다.</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">DeployAlertService</span> <span class=\"token function\">deployAlertService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DeployAlertService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 <code class=\"language-text\">@Profile</code> 어노테이션을 이용해 <code class=\"language-text\">spring.profiles.active</code> 옵션에 따라 Bean이 생성되게 할 수 있다.</p>\n<p>자 그러면 이제 <code class=\"language-text\">application.properties</code> 파일에 Webhook URL 등록하고 프로필을 설정해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token key attr-name\">spring.profiles.active</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">dev</span>\n<span class=\"token key attr-name\">webhook.url</span><span class=\"token punctuation\">=</span><span class=\"token value attr-value\">...</span></code></pre></div>\n<p>이제 서버가 정상적으로 배포되면 디스코드에 알림이 전송된다.</p>\n<h2 id=\"실행-결과\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC\" aria-label=\"실행 결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실행 결과</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 349px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY032Qz0+DQBCF+f+vHvXo1ZPnpiZq0BSTFiy0lP6Qaq1NKgcXurvAfu5i5ODBl7zMZCaZvG88URqMgaapqaoKrTVKKaTU1DW0bdvbGNPb6W/v5F1cVgzvWvb7Hb7vMxoFPD7cMhjOubmHw+GDfPvK2+6d4/GT/+SOemfnFVfXmqIoWK83zOYpQfDEavXCJExYZBlhGNk+Ik5mTKcxUfRMHCeMxxPSRUaeby1N/ZMwXTZ8CRvXNBb5ZFElZVl22EpJa40QZTd373D1JGW3F0L0b/pF/gZvYS4R/PUZzwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png\"\n        srcset=\"/static/ec62707fa6c33ee4be2e726b480e61d0/12f09/image.png 148w,\n/static/ec62707fa6c33ee4be2e726b480e61d0/e4a3f/image.png 295w,\n/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png 349w\"\n        sizes=\"(max-width: 349px) 100vw, 349px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>기본적으로 위와 같은 형식으로 알림 메시지가 전송되는데</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 370px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKElEQVQ4y4WTSY/TQBCF5/dzBYkbBy5I/AY4zIYYhhkyytJe2nZiO4vjNXG3Y8dJHtWdISRKBJY+V6sOr15VdV/V9Q53Dw3iFJhOffR7fQwGBDPRN1okSYk8z4gCQgj877vqsRZv3kp8vdkgCCP40zmC8QRhOAX3WmS51GJZViBJM6zXLZpmfYbK73Y7XK1WO3y5bjCPt/DGW3x69wHP99ck5iMIPFg2Jxx4Qx/VqsFiKc4oFgKlqPaCx3YNt8bn9x9J8AYm98CYhV6foT9gsLlLDnPkxRLLUp6gRMUfQfVr250WZFzCcEI43gjDUaBFHHcI7nhamBkW4iSDkKszlycOt9u/go8/u7i9vUO3N0BIs/z+8EPjB2M8PXfo/KhHIKv6xOVlQVuCmUOaZ6KrBuGERF7QeeliFsUwLa5dKteqAxVNk1PhmS5w0eGvDrXGDL0EVbVYlDoeoxxl+UKjZqoQ8oLDATl86dp6CcywSTQ44NLWOTlS7Y788UF4v5R/tNzrW+DcRlHQvaPWkyTVMU0SxBTjeYw0TWmrUl90+RovOmS8wrcnG48dA+NkhUlaIcorHYcRxaSifIUwlhjHAuFcwI9o1lGJYlmRwplDAdMv4UwFum4GY5TDCvYwfwFnUh7ghDctYYX7c35JsGcKmtFIt+w4Dmx6JY7jwiWiWQQpaVal2Ld4xD531LI6qC/N16jqFu1mg3V7SkNvta7XqJsLUL55fcu/AVwiHb1922MAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"alt text\"\n        src=\"/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png\"\n        srcset=\"/static/9b75266ad987b8a9d41a4c0ace93fd14/12f09/image-2.png 148w,\n/static/9b75266ad987b8a9d41a4c0ace93fd14/e4a3f/image-2.png 295w,\n/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png 370w\"\n        sizes=\"(max-width: 370px) 100vw, 370px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://discord.com/developers/docs/resources/webhook\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">디스코드 공식 Webhook 문서</a> 참고하면 여러 형식으로 메시지를 전송할 수 있다.</p>\n<h1 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h1>\n<p>이번 포스트를 통해 스프링 컨테이너가 생성된 후에 특정 작업을 수행하는 방법과 스프링 프로파일을 이용해 Bean을 생성하는 방법을 알아보았다.\n또한 이러한 방식을 이용해 서버가 정상적으로 배포되면 Webhook 알림을 전송하는 서비스를 구현해보았다.</p>\n<p>해당 방식은 간단하게 스프링 컨테이너가 정상적으로 생성 된 후 알림을 전송하는 것이라 어떤 이유로 스프링 배포가 실패한다면 알람을 전송할 수 없다.\n실제 운영 환경을 모니터링하는것은 매우 안정적으로 동작해야하므로 여러 모니터링 서비스가 다양하게 있으므로 이러한 서비스를 이용하는게 더 좋을 수 있다.</p>","excerpt":"매번 개발 서버나 프로덕션 서버에 배포 한 후 따로 팀원들에게 \"서버 방금 올렸습니다~\" 라고 전하는게 귀찮을 수 있다. \n우아하고 개발자스럽게 불필요한 행위없이 서버가 정상적으로 배포되면 자동으로 디스코드에 알림을 보내는 서비스를 만들어보자. 일단…","tableOfContents":"<ul>\n<li>\n<ul>\n<li><a href=\"/spring-deploy-alert/#prerequisite\">Prerequisite</a></li>\n<li>\n<p><a href=\"/spring-deploy-alert/#%EC%84%9C%EB%B2%84-%EC%A0%95%EC%83%81-%EC%9E%91%EB%8F%99-%ED%8C%90%EB%B3%84%ED%95%98%EA%B8%B0\">서버 정상 작동 판별하기</a></p>\n<ul>\n<li><a href=\"/spring-deploy-alert/#%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC-api\">헬스체크 API</a></li>\n<li><a href=\"/spring-deploy-alert/#api-%EC%9E%90%EB%8F%99-%ED%98%B8%EC%B6%9C\">API 자동 호출</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/spring-deploy-alert/#%EB%B0%B0%ED%8F%AC-%EC%95%8C%EB%A6%BC-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0\">배포 알림 서비스 구현하기</a></p>\n<ul>\n<li><a href=\"/spring-deploy-alert/#deployalertservice-%ED%81%B4%EB%9E%98%EC%8A%A4\">DeployAlertService 클래스</a></li>\n<li><a href=\"/spring-deploy-alert/#bean-%EB%93%B1%EB%A1%9D\">Bean 등록</a></li>\n<li><a href=\"/spring-deploy-alert/#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90%EA%B2%8C-%EC%9A%94%EC%B2%AD%ED%95%98%EA%B8%B0\">스프링 컨테이너에게 요청하기</a></li>\n<li><a href=\"/spring-deploy-alert/#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%95%8C%EB%A6%BC-%EC%A0%84%EC%86%A1%ED%95%98%EA%B8%B0\">배포 환경에 따라 알림 전송하기</a></li>\n</ul>\n</li>\n<li><a href=\"/spring-deploy-alert/#%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC\">실행 결과</a></li>\n</ul>\n</li>\n<li><a href=\"/spring-deploy-alert/#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></li>\n</ul>","fields":{"slug":"/spring-deploy-alert/"},"frontmatter":{"title":"[Spring] 서버가 정상적으로 배포되면 알림을 보낼 수 있는 서비스 구현하기","date":"Mar 07, 2024","tags":["Spring","Webhook"],"keywords":["Spring","SpringBoot","Webhook","서버배포","알리미","알림","배포"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/spring-deploy-alert/","series":[],"lastmod":"2024-03-07"}},"staticQueryHashes":["2027115977","694178885"]}