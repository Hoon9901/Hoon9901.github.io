{"componentChunkName":"component---src-templates-post-tsx","path":"/spring-cloud-config/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"spring-cloud---config-serverclient\" style=\"position:relative;\"><a href=\"#spring-cloud---config-serverclient\" aria-label=\"spring cloud   config serverclient permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Cloud - Config Server/Client</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/665b35f946fefa0dcc9899ada69dbcd9/fcda8/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB60lEQVQoz32S608aURDF95/vB2PTpvqliR+MjWljg1JLeZhaVNQFQUpFjTzCQ0xZlgV2b1lZ7iL+eoVgSIM9yeQmc89M5swc7axk8jZSYjfdYDwe84THx8cXY9G/9Ed4UuL7PtqHowrLoQKrsTJGRzCPacH4OZi9/6Df6+L3BbZjo1UMh+C5wVnJwnX7nFyl2D4JcZA7njadK5y1kr7EtC3Mrsn9wxg7q9MIb/E58BFtMJRc1LuK4E7IyUKGoP6NxJXOYODhti6xaoeUyvv075IMRYtbq8n7yDqrX9fIFn8hFU96A8UfoO1mbnkTrbB+WKPr/CFT+kkovUcin1QTu4ibAFH9FXs3X6jm1xC3acRgSNWoU2s16HvuZPeOEBO+tpOqsxQqshavKAkOp9cpto6CHOZPEcLBKQTRD5b5EX9HKbWipsziKlWmaGM4pjrGcKLMcRzFF2j3npJcs54lp8s5Irl9Epc6npJi353TuIxRu4hhFr8jhUGjY7B5GmDjeIvrRoF2q43V6SDVpbW6KQhlm2QrlmpwP5nsU3yb/dwRL0GOJIZt0uy1kA8+4XCEaDSGrutoGwdlXofLrCjb/LbsBbZZ7MV52LaN53n0eso2qYLBUiDHTrI6LeD/Jp7lxnO5kTL2k9zRaMRfB5jidVNGodAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring cloud config server 구성 아키텍쳐\"\n        title=\"spring cloud config server 구성 아키텍쳐\"\n        src=\"/static/665b35f946fefa0dcc9899ada69dbcd9/fcda8/1.png\"\n        srcset=\"/static/665b35f946fefa0dcc9899ada69dbcd9/12f09/1.png 148w,\n/static/665b35f946fefa0dcc9899ada69dbcd9/e4a3f/1.png 295w,\n/static/665b35f946fefa0dcc9899ada69dbcd9/fcda8/1.png 590w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>spring cloud config server 구성 아키텍쳐</p>\n<ul>\n<li>\n<p>Spring Cloud Config Server 의 저장소는</p>\n<ul>\n<li>git, vault, aws s3, redis, jdbc 등 과 같은 저장소를 사용할 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"스프링-클라우드-config\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%94%84%EB%A7%81-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-config\" aria-label=\"스프링 클라우드 config permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스프링 클라우드 Config</h1>\n<ul>\n<li>스프링 클라우드 구성 서버는 애플리케이션의 모든 마이크로서비스가 구성에 의존할 수 있는 서버를 사용해서중앙 집중식 구성을 제공할 수 있습니다.</li>\n</ul>\n<h3 id=\"중앙-집중식-구성의-장점--스프링-클라우드-구성-서버의-장점-\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EC%95%99-%EC%A7%91%EC%A4%91%EC%8B%9D-%EA%B5%AC%EC%84%B1%EC%9D%98-%EC%9E%A5%EC%A0%90--%EC%8A%A4%ED%94%84%EB%A7%81-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84%EC%9D%98-%EC%9E%A5%EC%A0%90-\" aria-label=\"중앙 집중식 구성의 장점  스프링 클라우드 구성 서버의 장점  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중앙 집중식 구성의 장점 (= 스프링 클라우드 구성 서버의 장점 )</h3>\n<ol>\n<li>구성이 더 이상 애플리케이션 코드에 패키징되어 배포되지 않는다. 따라서 애플리케이션을 다시 빌드하거나 배포하지 않고 구성을 변경하거나 원래 값으로 환원할 수 있다.</li>\n<li>공통적인 구성을 공유하는 마이크로서비스가 자신의 속성 설정으로 유지/관리하지않고도 동일한 속성들을 공유할 수 있다. 그리고 속성 변경이 필요하면 한 곳에서 한번만 변경해도 모든 마이크로서비스에 적용할 수 있다.</li>\n<li>보안에 민감한 구성 속성은 애플리케이션 코드와는 별도로 암호화하고 유지/관리할 수 있다. 그리고 복호화된 속성 값을 언제든지 애플리케이션에서 사용할 수 있으므로 복호화를 하는 코드가 애플리케이션에 없어도 된다.</li>\n</ol>\n<h3 id=\"구성서버---자동-속성-갱신\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1%EC%84%9C%EB%B2%84---%EC%9E%90%EB%8F%99-%EC%86%8D%EC%84%B1-%EA%B0%B1%EC%8B%A0\" aria-label=\"구성서버   자동 속성 갱신 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성서버 - 자동 속성 갱신</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/34938c65d75a5bb41532e42e2be2988a/d8817/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.05405405405405%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABfUlEQVQoz41Sa2+CQBDk//+sWvSDFkMDFtQEDC9FRQEFn0xvzhxF0zTdZHN7+5jdnTutaRpQKcpW91f5T0zrOrqyTlM4Xw622y0Oh8NT/H6/43Q64Xw+S+2K1u1aliXW67UESVcrJHGMVAD7ni/9U3eKyWSC5XKJOIrhOA4MY4wgCGXt9Xp9BowFgGl+wrIsrAQgp1BN5rM5xqKYIPRRmDOxbcxELEkSHI/Hn5UpBKjrWq6RZZmYIpJNsmyHy+WC2+0mT7Um74oC2jw1GuzEwqIofiWcOaWIlUWJuqpQVXULxgZ5nuMoeC7y4jEhkdmVZ5cCckKbqwRBILkjt/t9LnPV44RhKPhOEImNNE7leV67Bs9IJBiGAf1dl49Sial8f4HhcCh5JMhms4Ft2ei99WR9+8okc9AfYLfbtYCu66Kv9yUAueRKo9GH9JmmKXlm05GI68K3EM0Uvxqa53/IAEG5JgvVI3BK/kfl56nuVOY8AF9+e9dWPHWVDf/SbwedTCiBj+X9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"spring actuator 를 통한 속성 자동 리프레시\"\n        title=\"spring actuator 를 통한 속성 자동 리프레시\"\n        src=\"/static/34938c65d75a5bb41532e42e2be2988a/fcda8/2.png\"\n        srcset=\"/static/34938c65d75a5bb41532e42e2be2988a/12f09/2.png 148w,\n/static/34938c65d75a5bb41532e42e2be2988a/e4a3f/2.png 295w,\n/static/34938c65d75a5bb41532e42e2be2988a/fcda8/2.png 590w,\n/static/34938c65d75a5bb41532e42e2be2988a/efc66/2.png 885w,\n/static/34938c65d75a5bb41532e42e2be2988a/c83ae/2.png 1180w,\n/static/34938c65d75a5bb41532e42e2be2988a/d8817/2.png 1238w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>spring actuator 를 통한 속성 자동 리프레시</p>\n<p>구성 서버를 중앙 속성 서버로 두고, 스프링 Actuator 와, cloud bus, RabbitMQ 를 통해</p>\n<p>해당 이미지 처럼 개발자가 속성을 새롭게 수정하였으면, WebHook (/actuator/bus-refresh) 경로로 요청을 보내 변경된 속성을 갱신하고, 운영중인 서버로 부터 설정을 업데이트 하라고 요청을 할 수 있습니다.</p>\n<h2 id=\"구성-서버\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84\" aria-label=\"구성 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 서버</h2>\n<p>config server 를 구성서버라고 부르겠습니다.</p>\n<p>스프링 구성 서버를 제작하고, 설정을 받는 것을 해보겠습니다</p>\n<h3 id=\"구성-서버-설정\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95\" aria-label=\"구성 서버 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 서버 설정</h3>\n<ul>\n<li>Main 클래스</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token annotation punctuation\">@EnableConfigServer</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VaultdemoApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">VaultdemoApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>EnableConfigServer</strong> 어노테이션을 달아서, 구성서버 자동 설정합니다.</p>\n<ul>\n<li>application.yml</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8888</span>\n\n<span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">profiles</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">active</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> native\n      <span class=\"token punctuation\">-</span> vault\n\n  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">native</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">search-locations</span><span class=\"token punctuation\">:</span> file<span class=\"token punctuation\">:</span>./config\n        <span class=\"token key atrule\">vault</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">kv-version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n          <span class=\"token key atrule\">authentication</span><span class=\"token punctuation\">:</span> token\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"vault token\"</span>\n          <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> localhost\n          <span class=\"token key atrule\">scheme</span><span class=\"token punctuation\">:</span> http\n          <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">8200</span></code></pre></div>\n<p>위 설정들은 구성 서버 자체 구성에 필요한 속성들입니다.</p>\n<p>구성 서버가 클라이언트(개발 서버[config가 필요한 곳])에 제공하는 config 는 git, vault, native 등(서버 파일 시스템)의 repository (저장소)에서 가져옵니다.</p>\n<p>현재 서버의 속성을 보시면은 구성을 가져올 저장소가 두 곳 인것을 볼 수 있습니다.</p>\n<ul>\n<li>native : 프로젝트 경로의 config 디렉터리 내부 파일(설정 파일들이 위치)</li>\n<li>\n<p>vault : vault 의 secret 경로</p>\n<ul>\n<li>클라이언트에서 vault의 token 을 발급 하지 않고 속성만 받을 수 있게 구성 서버에서 token을 지정하였습니다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"구성-서버-native-속성-파일\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-native-%EC%86%8D%EC%84%B1-%ED%8C%8C%EC%9D%BC\" aria-label=\"구성 서버 native 속성 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 서버 native 속성 파일</h3>\n<ul>\n<li>/config/test.yml</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">message:\n  hello: <span class=\"token string\">\"hi\"</span></code></pre></div>\n<p>native 저장소에 있는 설정 파일입니다.</p>\n<h3 id=\"구성-서버-vault-secret\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-vault-secret\" aria-label=\"구성 서버 vault secret permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 서버 vault secret</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">❯ <span class=\"token function\">curl</span> -X GET http://localhost:8200/v1/test-app/dev -H <span class=\"token string\">\"X-Vault-Token: token값\"</span> <span class=\"token operator\">|</span> jq\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"request_id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"0f62463e-fec4-7c60-7103-d6baf2fc04c7\"</span>,\n  <span class=\"token string\">\"lease_id\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"\"</span>,\n  <span class=\"token string\">\"renewable\"</span><span class=\"token builtin class-name\">:</span> false,\n  <span class=\"token string\">\"lease_duration\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">3153600000</span>,\n  <span class=\"token string\">\"data\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n    **<span class=\"token string\">\"hello\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"world\"</span>,\n    <span class=\"token string\">\"this\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"is\"</span>**\n  <span class=\"token punctuation\">}</span>,\n  <span class=\"token string\">\"wrap_info\"</span><span class=\"token builtin class-name\">:</span> null,\n  <span class=\"token string\">\"warnings\"</span><span class=\"token builtin class-name\">:</span> null,\n  <span class=\"token string\">\"auth\"</span><span class=\"token builtin class-name\">:</span> null\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>test-app/dev [key , value 저장소]</p>\n<ul>\n<li>hello : world</li>\n<li>this : is</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"구성-서버-테스트-하기\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%98%EA%B8%B0\" aria-label=\"구성 서버 테스트 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구성 서버 테스트 하기</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 464px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e63e75d0060915dc15354c324c0ae766/69096/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.486486486486484%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABB0lEQVQoz31RWYuDYAz0//+xCl2pLd1an8SriveJt7OdLErdhw0MxsyXZJgoeEfbtrheb1BVFZeLDl3XUZYlKazrKmA0TYM8zwVZlqEoCiRJsvP8KkxIhGGINE0RBAGiKJamvwP5jrxt2/A8T3Lf9zHP83EgY1kWdF33biqlcRgGVFW1D/sMLqvrGtM0Heoy0HFckR9FkWx0XVfUcrNlWXAcB8ErkBpBngp/1b2EZ30cRxmqcAtBhQTlE8xZp5dxHIsdVMX/je/7YRezqVXwT/BYBIfxILTkMzZbeBjyXKhspm9eUTofxHGC+/0bmqbh+TRhGE+Ypnm4bN/3eDwMnE4qzucvseIHP/8XxIfuJBYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/e63e75d0060915dc15354c324c0ae766/69096/3.png\"\n        srcset=\"/static/e63e75d0060915dc15354c324c0ae766/12f09/3.png 148w,\n/static/e63e75d0060915dc15354c324c0ae766/e4a3f/3.png 295w,\n/static/e63e75d0060915dc15354c324c0ae766/69096/3.png 464w\"\n        sizes=\"(max-width: 464px) 100vw, 464px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>localhost:8888 : 구성 서버의 호스트 이름과 포트</li>\n<li>application : 애플리케이션 이름(spring.application.name)</li>\n<li>default : 활성화된 스프링 프로파일(E.g. production) (14.2.2)</li>\n<li>master : Git 라벨/분기(생략 가능, master가 기본값)</li>\n<li>\n<p>test 속성 받기</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">❯ <span class=\"token function\">curl</span> -X GET http://localhost:8888/test/default <span class=\"token operator\">|</span> jq\n<span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"test\"</span>,\n<span class=\"token string\">\"profiles\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"default\"</span>\n<span class=\"token punctuation\">]</span>,\n<span class=\"token string\">\"label\"</span><span class=\"token builtin class-name\">:</span> null,\n<span class=\"token string\">\"version\"</span><span class=\"token builtin class-name\">:</span> null,\n<span class=\"token string\">\"state\"</span><span class=\"token builtin class-name\">:</span> null,\n<span class=\"token string\">\"propertySources\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    **<span class=\"token string\">\"name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"file:config/test.yml\"</span>,**\n    <span class=\"token string\">\"source\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n      **<span class=\"token string\">\"message.hello\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"hi\"</span>**\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"http://localhost:8888\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">localhost:8888</a>/test/default 로 요청을 보냈습니다.\ntest.yml 속성을 받아온것을 볼 수 있습니다.</p>\n</li>\n</ul>\n<h1 id=\"레퍼런스\" style=\"position:relative;\"><a href=\"#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\" aria-label=\"레퍼런스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레퍼런스</h1>\n<p><a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/#_environment_repository\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://cloud.spring.io/spring-cloud-config/reference/html/#_environment_repository</a></p>\n<p><a href=\"https://lejewk.github.io/vault-get-started/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://lejewk.github.io/vault-get-started/</a></p>\n<p><a href=\"https://www.vaultproject.io/docs/commands\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.vaultproject.io/docs/commands</a></p>\n<p><a href=\"https://wonit.tistory.com/502\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://wonit.tistory.com/502</a></p>\n<p><a href=\"https://velog.io/@ha0kim/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9D%B8-%EC%95%A1%EC%85%98-14.%EB%A6%AC%EC%95%A1%ED%8B%B0%EB%B8%8C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8D%BC%EC%8B%9C%EC%8A%A4%ED%84%B4%EC%8A%A4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://velog.io/@ha0kim/스프링-인-액션-14.리액티브-데이터-퍼시스턴스</a></p>","excerpt":"Spring Cloud - Config Server/Client  spring cloud config server 구성 아키텍쳐 Spring Cloud Config Server 의 저장소는 git, vault, aws s3, redis, jdbc 등…","tableOfContents":"<ul>\n<li><a href=\"/spring-cloud-config/#spring-cloud---config-serverclient\">Spring Cloud - Config Server/Client</a></li>\n<li>\n<p><a href=\"/spring-cloud-config/#%EC%8A%A4%ED%94%84%EB%A7%81-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-config\">스프링 클라우드 Config</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/spring-cloud-config/#%EC%A4%91%EC%95%99-%EC%A7%91%EC%A4%91%EC%8B%9D-%EA%B5%AC%EC%84%B1%EC%9D%98-%EC%9E%A5%EC%A0%90--%EC%8A%A4%ED%94%84%EB%A7%81-%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C-%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84%EC%9D%98-%EC%9E%A5%EC%A0%90-\">중앙 집중식 구성의 장점 (= 스프링 클라우드 구성 서버의 장점 )</a></li>\n<li><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1%EC%84%9C%EB%B2%84---%EC%9E%90%EB%8F%99-%EC%86%8D%EC%84%B1-%EA%B0%B1%EC%8B%A0\">구성서버 - 자동 속성 갱신</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84\">구성 서버</a></p>\n<ul>\n<li><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-%EC%84%A4%EC%A0%95\">구성 서버 설정</a></li>\n<li><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-native-%EC%86%8D%EC%84%B1-%ED%8C%8C%EC%9D%BC\">구성 서버 native 속성 파일</a></li>\n<li><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-vault-secret\">구성 서버 vault secret</a></li>\n<li><a href=\"/spring-cloud-config/#%EA%B5%AC%EC%84%B1-%EC%84%9C%EB%B2%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%95%98%EA%B8%B0\">구성 서버 테스트 하기</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/spring-cloud-config/#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\">레퍼런스</a></li>\n</ul>","fields":{"slug":"/spring-cloud-config/"},"frontmatter":{"title":"Spring Cloud Config Server/Client","date":"Mar 07, 2022","tags":["SpringBoot","Cloud","Config"],"keywords":["스프링","스프링부트","SpringBoot","CloudConfig","Config"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/spring-cloud-config/","series":[],"lastmod":"2022-03-07"}},"staticQueryHashes":["2027115977","694178885"]}