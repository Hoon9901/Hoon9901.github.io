{"componentChunkName":"component---src-templates-post-tsx","path":"/springboot-mail-auth-smtp-gmail/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"1-의존성-설정\" style=\"position:relative;\"><a href=\"#1-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%84%A4%EC%A0%95\" aria-label=\"1 의존성 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 의존성 설정</h1>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">implementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-mail'</span></code></pre></div>\n<p>build.gradle 에 추가</p>\n<h1 id=\"2smtp-설정\" style=\"position:relative;\"><a href=\"#2smtp-%EC%84%A4%EC%A0%95\" aria-label=\"2smtp 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.SMTP 설정</h1>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">mail</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> smtp.gmail.com <span class=\"token comment\"># SMTP 서버 호스트</span>\n    <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">587</span> <span class=\"token comment\"># SMTP 서버 포트</span>\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> id <span class=\"token comment\"># SMTP 서버 로그인 아이디 (발신자)</span>\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> pw <span class=\"token comment\"># SMTP 서버 로그인 패스워드 (앱 비밀번호)</span>\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">mail</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">smtp</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">socketFactory.class</span><span class=\"token punctuation\">:</span> javax.net.ssl.SSLSocketFactory <span class=\"token comment\"># 필수 아님</span>\n          <span class=\"token key atrule\">auth</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 사용자 인증 시도 여부 (기본값 : false)</span>\n          <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5000</span> <span class=\"token comment\"># Socket Read Timeout 시간(ms) (기본값 : 무한대)</span>\n          <span class=\"token key atrule\">starttls</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># StartTLS 활성화 여부 (기본값 : false)</span></code></pre></div>\n<p>구글 STMP 설정을 적용합니다.</p>\n<h1 id=\"3-controller-작성\" style=\"position:relative;\"><a href=\"#3-controller-%EC%9E%91%EC%84%B1\" aria-label=\"3 controller 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Controller 작성</h1>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token annotation punctuation\">@Autowired</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> MailSendService mailService<span class=\"token punctuation\">;</span>\n    \n<span class=\"token annotation punctuation\">@ApiOperation</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string gstring\">\"이메일 인증 API\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@PreAuthorize</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\"isAnonymous() or permitAll()\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\"/mail\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> ResponseEntity <span class=\"token function\">checkMail</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> String email<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\"이메일 인증 요청 발생 \\n 요청 이메일 : \"</span> <span class=\"token operator\">+</span> email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>mailService<span class=\"token punctuation\">.</span><span class=\"token function\">joinEmail</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token punctuation\">,</span> HttpStatus<span class=\"token punctuation\">.</span>OK<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>RuntimeException e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> HttpStatus<span class=\"token punctuation\">.</span>BAD_REQUEST<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">Get</code> 메소드 코드를 작성합니다. </p>\n<p><code class=\"language-text\">RequestParm</code>을 통해 email을 받아오고 <code class=\"language-text\">mailService.joinEmail(email)</code> 메소드를 호출하여 </p>\n<p>사용자의 이메일로 인증 번호를 발송합니다.</p>\n<h1 id=\"4-service-작성\" style=\"position:relative;\"><a href=\"#4-service-%EC%9E%91%EC%84%B1\" aria-label=\"4 service 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Service 작성</h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MailSendService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">JavaMailSender</span> emailSender<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MailSendService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JavaMailSender</span> emailSender<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>emailSender <span class=\"token operator\">=</span> emailSender<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">joinEmail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> email<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">MessagingException</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">String</span> setFrom <span class=\"token operator\">=</span> <span class=\"token string\">\"보내는 사람\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> toMail <span class=\"token operator\">=</span> email<span class=\"token punctuation\">;</span> <span class=\"token comment\">// 보낼 사람</span>\n        <span class=\"token class-name\">String</span> title <span class=\"token operator\">=</span> <span class=\"token string\">\"[Test] 회원가입 인증 이메일\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> authNumber <span class=\"token operator\">=</span> <span class=\"token function\">makeRandomNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> content <span class=\"token operator\">=</span>\n                <span class=\"token string\">\"내용1\"</span> <span class=\"token operator\">+</span>\n                        <span class=\"token string\">\"&lt;/br>&lt;/br>\"</span> <span class=\"token operator\">+</span>\n                        <span class=\"token string\">\"인증번호 : \"</span> <span class=\"token operator\">+</span> authNumber <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/br>&lt;/br>\"</span> <span class=\"token operator\">+</span>\n                        <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span>setFrom<span class=\"token punctuation\">,</span> toMail<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>authNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token function\">makeRandomNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> r <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> checkNum <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">888888</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">111111</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 111111 ~ 99999 사이의 난수 발생</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"이메일 인증번호 생성 : \"</span> <span class=\"token operator\">+</span> checkNum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> checkNum<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMail</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> setFrom<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> toMail<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> content<span class=\"token punctuation\">)</span>  <span class=\"token keyword\">throws</span> <span class=\"token class-name\">MessagingException</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MimeMessage</span> message <span class=\"token operator\">=</span> emailSender<span class=\"token punctuation\">.</span><span class=\"token function\">createMimeMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 스프링에서 제공하는 메일 API</span>\n        <span class=\"token class-name\">MimeMessageHelper</span> helper <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MimeMessageHelper</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        helper<span class=\"token punctuation\">.</span><span class=\"token function\">setFrom</span><span class=\"token punctuation\">(</span>setFrom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        helper<span class=\"token punctuation\">.</span><span class=\"token function\">setTo</span><span class=\"token punctuation\">(</span>toMail<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        helper<span class=\"token punctuation\">.</span><span class=\"token function\">setSubject</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        helper<span class=\"token punctuation\">.</span><span class=\"token function\">setText</span><span class=\"token punctuation\">(</span>content<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true -> html 형식</span>\n        emailSender<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"5-test-코드-작성\" style=\"position:relative;\"><a href=\"#5-test-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\" aria-label=\"5 test 코드 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Test 코드 작성</h1>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"이메일 인증 API 작동한다\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n\n        mockMvc<span class=\"token punctuation\">.</span><span class=\"token function\">perform</span><span class=\"token punctuation\">(</span>\n                        <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/mail\"</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">contentType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MediaType</span><span class=\"token punctuation\">.</span>APPLICATION_JSON<span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">param</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"수신자 이메일\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">andExpect</span><span class=\"token punctuation\">(</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isOk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">andDo</span><span class=\"token punctuation\">(</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"6-결과\" style=\"position:relative;\"><a href=\"#6-%EA%B2%B0%EA%B3%BC\" aria-label=\"6 결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 결과</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 265px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d8e465df94d1390304f0ffd3a451805/78e79/0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABgElEQVQ4y5WTW2vCQBCF8/9f+tLHglAofYw/IPTBeHlQUyLVeL+AxtqI4A0bYzz1jKxs09bGgSGb3ck3Z3YmRhRFoB8OB5ztqK3TWRzHUBxDbUbRAY7rwX8PEIaf8DwPvV4Pvu+j3++j0+mg0WjIXrfbFZ9MJrK/2+0ucIPUOD7BXt9wd5/B45OJ2ewDxWIRjuMIpFQqoVAowLZtWJYl75VKRc7L5TI2m825tuMRBuXSptMZHjLPsF5s7Pd7DIdDNJvN0/5UAIPBQJzKqY6JmJSCFEwU6nehDtfrNVzXxXg8RrVaxWKxEPBoNJKYMAwFwFJ1oChUC5WBxkDeG8G8M5ZE6HK5/LdBhgKpTrHDOlwvh8bza24kP1DvTKA/0/pFIcsyTVMaoZQQpjytfSt5tVr9UJssO7XC7XaLWq0mI8LRYEdzuRzy+byMiEqaWmEQBMhms2i1WrKez+dot9vyJ3Bkfrvrq0COSL1e/zMwDewy2MlgvcNqfbNCfURuUZS0Ly0hhdGtlccWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/8d8e465df94d1390304f0ffd3a451805/78e79/0.png\"\n        srcset=\"/static/8d8e465df94d1390304f0ffd3a451805/12f09/0.png 148w,\n/static/8d8e465df94d1390304f0ffd3a451805/78e79/0.png 265w\"\n        sizes=\"(max-width: 265px) 100vw, 265px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>해당 방식의 문제점으로는 API의 응답에서 인증번호가 반환된다는 것이다.</p>\n<p>사용자가 해당 API 만 가지고 실질적으로 메일에 적힌 인증 번호로 가입해야하는데</p>\n<p>현 방식으로는 API 응답만 보고도 메일 안봐도 인증번호를 알 수 있다는것.</p>\n<p>해당 문제를 해결하기 위해 Redis에 인증번호를 저장하고 유효 시간동안 인증 처리를 해보자.</p>\n<p>다음 글에서 계속..</p>\n<h1 id=\"레퍼런스\" style=\"position:relative;\"><a href=\"#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\" aria-label=\"레퍼런스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레퍼런스</h1>\n<p><a href=\"https://dev-aiden.com/spring/Spring-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">[Spring] SMTP 서버를 이용한 이메일 발송</a></p>","excerpt":"1. 의존성 설정 build.gradle 에 추가 2.SMTP 설정 구글 STMP 설정을 적용합니다. 3. Controller 작성  메소드 코드를 작성합니다.  을 통해 email을 받아오고  메소드를 호출하여  사용자의 이메일로 인증 번호를 발송…","tableOfContents":"<ul>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#1-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%84%A4%EC%A0%95\">1. 의존성 설정</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#2smtp-%EC%84%A4%EC%A0%95\">2.SMTP 설정</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#3-controller-%EC%9E%91%EC%84%B1\">3. Controller 작성</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#4-service-%EC%9E%91%EC%84%B1\">4. Service 작성</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#5-test-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\">5. Test 코드 작성</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#6-%EA%B2%B0%EA%B3%BC\">6. 결과</a></li>\n<li><a href=\"/springboot-mail-auth-smtp-gmail/#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\">레퍼런스</a></li>\n</ul>","fields":{"slug":"/springboot-mail-auth-smtp-gmail/"},"frontmatter":{"title":"[SpringBoot] 회원가입 시 이메일 인증을 구현해보자 (Gmail)","date":"Oct 08, 2022","tags":["SpringBoot"],"keywords":["Spring","SpringBoot","Gmail","SMTP","Auth"],"update":"Jan 01, 0001"}}},"pageContext":{"slug":"/springboot-mail-auth-smtp-gmail/","series":[],"lastmod":"2022-10-08"}},"staticQueryHashes":["2027115977","694178885"]}