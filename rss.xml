<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Hoon's Blog | Feed]]></title><description><![CDATA[Hoon's Backend Dev Blog]]></description><link>https://seonghoon.xyz</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 13 Oct 2024 16:19:35 GMT</lastBuildDate><item><title><![CDATA[Rails 첫걸음]]></title><description><![CDATA[rails 회사에서 지금까지 쭉 Rails 를 접하고 있었는데, Java 계열의 Spring 만 공부했다가 Rails 를 접하니까 너무나도 다른 느낌이었어서.. 제 나름대로 공부하고 블로그에 기록하기 위해서 Rails에 대한 글을 작성해보려고 합니다…]]></description><link>https://seonghoon.xyz/first-rails/</link><guid isPermaLink="false">https://seonghoon.xyz/first-rails/</guid><pubDate>Sun, 13 Oct 2024 15:34:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;img src=&quot;/6643cac4ba79c82d60441844043bb934/1.gif&quot; alt=&quot;rails&quot;&gt;&lt;/p&gt;
&lt;p&gt;회사에서 지금까지 쭉 Rails 를 접하고 있었는데, Java 계열의 Spring 만 공부했다가 Rails 를 접하니까 너무나도 다른 느낌이었어서.. 제 나름대로 공부하고 블로그에 기록하기 위해서 Rails에 대한 글을 작성해보려고 합니다.&lt;/p&gt;
&lt;p&gt;이번 게시글은 Rails 공식 홈페이지에서 제공하는 튜토리얼을 기반으로 제 나름으로 정리한 내용입니다 향후에는 Rails 최신버전이나 여러 기능에 대한 다양한 내용을 다루어보려고 합니다.&lt;/p&gt;
&lt;p&gt;Rails 를 접해봤거나 잘 아시는 분이라면 넘어가셔도 좋을 기본적인 내용만 정리했습니다.&lt;/p&gt;
&lt;h2 id=&quot;rails란-무엇인가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rails%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80&quot; aria-label=&quot;rails란 무엇인가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails란 무엇인가?&lt;/h2&gt;
&lt;p&gt;Rails는 Ruby 프로그래밍 언어로 작성된 웹 애플리케이션 개발 프레임워크로, 개발자들이 더 적은 코드로 더 많은 작업을 할 수 있게 해줍니다. 경험이 많은 개발자들은 Rails 웹 애플리케이션 개발이 다른 프레임워크 보다 더 재미있다고도 말합니다.&lt;/p&gt;
&lt;p&gt;Rails는 의견이 강한 소프트웨어로, &quot;가장 좋은&quot; 방법이 있다고 가정하고 그 방법을 권장하며, 다른 대안을 억제하기도 합니다. &quot;Rails Way&quot;를 배우면 생산성이 크게 증가할 수 있지만, 다른 언어에서 배운 습관을 고수하면 불편함을 겪을 수 있습니다.&lt;/p&gt;
&lt;p&gt;Rails 철학에는 두 가지 주요 원칙이 있습니다:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;반복하지 마세요 (Don&apos;t Repeat Yourself, DRY): 소프트웨어 개발 원칙으로, 시스템 내의 모든 정보는 단일하고 명확하며 권위 있는 표현을 가져야 한다는 것입니다. 반복을 피함으로써 코드 유지보수성, 확장성, 버그 발생 가능성을 줄일 수 있습니다.&lt;/li&gt;
&lt;li&gt;설정보다는 관례를 따르세요 (Convention Over Configuration): Rails는 웹 애플리케이션의 많은 부분에 대한 최선의 방법을 미리 정해놓고, 개발자가 세부 설정 파일을 끝없이 지정하는 대신 이 관례를 따르도록 합니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Rails 의 원칙을 따르면서 개발을 하다보면, 개발자들이 더 쉽게 협업하고, 코드를 이해하고, 유지보수할 수 있게 됩니다.
이러한 원칙에 대해 더 궁금하면 &lt;a href=&quot;https://rubyonrails.org/doctrine&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The Rails Doctrine.&lt;/a&gt;을 참고해주세요.&lt;/p&gt;
&lt;h2 id=&quot;rails-설치하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rails-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0&quot; aria-label=&quot;rails 설치하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails 설치하기&lt;/h2&gt;
&lt;p&gt;Ruby 설치가 되어있어야 합니다. Ruby가 설치되어있지 않다면 &lt;a href=&quot;https://www.ruby-lang.org/ko/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Ruby 설치하기&lt;/a&gt;를 참고해주세요.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;$ gem &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; rails

$ rails &lt;span class=&quot;token parameter variable&quot;&gt;--version&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;rails-프로젝트-생성하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rails-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;rails 프로젝트 생성하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails 프로젝트 생성하기&lt;/h2&gt;
&lt;p&gt;Rails에는 프로젝트를 시작하는 데 필요한 모든 것을 생성하여 개발 생활을 더 쉽게 만들도록 설계된 Rails Generator 라는 스크립트들을 사용할 수 있습니다. (bin/rails generate)
그 중 하나는 새로운 Rails 애플리케이션의 기초(= 코드베이스)를 제공하여 직접 작성할 필요가 없는 새로운 애플리케이션 생성기입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;$ rails new hello&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hello 라는 경로로 Rails 애플리케이션을 생성되고 Bundler를 사용하여 애플리케이션의 종속성(Gemfile 에 명시된)을 설치합니다.&lt;/p&gt;
&lt;h2 id=&quot;rails-프로젝트-구조&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rails-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EA%B5%AC%EC%A1%B0&quot; aria-label=&quot;rails 프로젝트 구조 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails 프로젝트 구조&lt;/h2&gt;
&lt;p&gt;Rails 프로젝트는 다음과 같은 구조로 이루어져 있습니다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;File/Folder&lt;/th&gt;
&lt;th&gt;Purpose&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;app/&lt;/td&gt;
&lt;td&gt;Contains the &lt;strong&gt;controllers, models, views, helpers, mailers, channels, jobs&lt;/strong&gt;, and &lt;strong&gt;assets&lt;/strong&gt; for your application. You&apos;ll focus on this folder for the remainder of this guide.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bin/&lt;/td&gt;
&lt;td&gt;Contains the &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;rails&lt;/code&gt; script&lt;/strong&gt; that starts your app and can contain other scripts you &lt;strong&gt;use to set up, update, deploy, or run&lt;/strong&gt; your application.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config/&lt;/td&gt;
&lt;td&gt;Contains &lt;strong&gt;configuration&lt;/strong&gt; for your application&apos;s &lt;strong&gt;routes, database, and more.&lt;/strong&gt; This is covered in more detail in &lt;a href=&quot;https://guides.rubyonrails.org/configuring.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Configuring Rails Applications&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config.ru&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Rack configuration&lt;/strong&gt; for &lt;strong&gt;Rack-based servers&lt;/strong&gt; used to start the application. For more information about Rack, see the &lt;a href=&quot;https://rack.github.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Rack website&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;db/&lt;/td&gt;
&lt;td&gt;Contains your current &lt;strong&gt;database schema&lt;/strong&gt;, as well as the &lt;strong&gt;database migrations&lt;/strong&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Dockerfile&lt;/td&gt;
&lt;td&gt;Configuration file for &lt;strong&gt;Docker&lt;/strong&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Gemfile  &lt;br&gt;Gemfile.lock&lt;/td&gt;
&lt;td&gt;These files allow you to specify what &lt;strong&gt;gem dependencies&lt;/strong&gt; are needed for your Rails application. These files are used by the &lt;strong&gt;Bundler gem&lt;/strong&gt;. For more information about Bundler, see the &lt;a href=&quot;https://bundler.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bundler website&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lib/&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Extended modules&lt;/strong&gt; for your application. (Rake Task, 일종의 스크립트나 배치잡을 사용할때 쓰는 라이브러리 폴더)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;log/&lt;/td&gt;
&lt;td&gt;Application log files.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public/&lt;/td&gt;
&lt;td&gt;Contains &lt;strong&gt;static files&lt;/strong&gt; and &lt;strong&gt;compiled assets&lt;/strong&gt;. When your app is running, this directory will be exposed as-is.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rakefile&lt;/td&gt;
&lt;td&gt;This file locates and loads tasks that can be run from the command line. The &lt;strong&gt;task definitions are defined throughout the components of Rails&lt;/strong&gt;. Rather than changing &lt;code class=&quot;language-text&quot;&gt;Rakefile&lt;/code&gt;, &lt;strong&gt;you should add your own tasks by adding files to the &lt;code class=&quot;language-text&quot;&gt;lib/tasks&lt;/code&gt; directory&lt;/strong&gt; of your application.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storage/&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Active Storage files&lt;/strong&gt; for Disk Service. This is covered in &lt;a href=&quot;https://guides.rubyonrails.org/active_storage_overview.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Active Storage Overview&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;test/&lt;/td&gt;
&lt;td&gt;Unit tests, fixtures, and other test apparatus. These are covered in &lt;a href=&quot;https://guides.rubyonrails.org/testing.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Testing Rails Applications&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tmp/&lt;/td&gt;
&lt;td&gt;Temporary files (like cache and pid files).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vendor/&lt;/td&gt;
&lt;td&gt;A place for &lt;strong&gt;all third-party code&lt;/strong&gt;. In a typical Rails application this includes vendored gems.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.dockerignore&lt;/td&gt;
&lt;td&gt;This file tells Docker which files it should not copy into the container.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.gitattributes&lt;/td&gt;
&lt;td&gt;This file defines metadata for specific paths in a git repository. This metadata can be used by git and other tools to enhance their behavior. See the &lt;a href=&quot;https://git-scm.com/docs/gitattributes&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;gitattributes documentation&lt;/a&gt; for more information.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.gitignore&lt;/td&gt;
&lt;td&gt;This file tells git which files (or patterns) it should ignore. See &lt;a href=&quot;https://help.github.com/articles/ignoring-files&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;GitHub - Ignoring files&lt;/a&gt; for more information about ignoring files.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.ruby-version&lt;/td&gt;
&lt;td&gt;This file contains the default Ruby version.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;gemfile-gemfilelock&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gemfile-gemfilelock&quot; aria-label=&quot;gemfile gemfilelock permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gemfile? Gemfile.lock?&lt;/h3&gt;
&lt;p&gt;Gemfile 과 Gemfile.lock 의 차이점은 다음과 같습니다.&lt;/p&gt;
&lt;h4 id=&quot;gemfile&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gemfile&quot; aria-label=&quot;gemfile permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gemfile&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;목적&lt;/strong&gt;: 프로젝트에서 사용할 gem과 그 버전을 명시합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;내용&lt;/strong&gt;: 각 gem의 이름과 선택적 버전 제약을 나열합니다. 예를 들어, 특정 gem의 버전을 고정하거나 범위를 지정할 수 있습니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;형식&lt;/strong&gt;: Ruby DSL (도메인 특화 언어) 형식을 사용하여 gem을 나열합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;gemfile&quot;&gt;&lt;pre class=&quot;language-gemfile&quot;&gt;&lt;code class=&quot;language-gemfile&quot;&gt;source &amp;#39;https://rubygems.org&amp;#39;

gem &amp;#39;rails&amp;#39;, &amp;#39;~&amp;gt; 6.1.0&amp;#39;
gem &amp;#39;pg&amp;#39;, &amp;#39;~&amp;gt; 1.1&amp;#39;
gem &amp;#39;puma&amp;#39;, &amp;#39;~&amp;gt; 5.0&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;gemfilelock&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#gemfilelock&quot; aria-label=&quot;gemfilelock permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gemfile.lock&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;목적&lt;/strong&gt;: 프로젝트에서 실제로 설치된 gem의 정확한 버전과 그 의존성을 기록합니다. 이는 모든 개발자가 동일한 gem 버전을 사용하도록 보장합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;내용&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;Gemfile&lt;/code&gt;에 나열된 gem과 그 의존성 gem의 정확한 버전, 그리고 의존성 트리를 포함합니다.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;생성 및 업데이트&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;bundle install&lt;/code&gt; 명령을 실행하면 &lt;code class=&quot;language-text&quot;&gt;Gemfile.lock&lt;/code&gt; 파일이 생성되거나 업데이트됩니다. 이 파일은 &lt;code class=&quot;language-text&quot;&gt;Gemfile&lt;/code&gt;에 정의된 제약 조건에 따라 해결된 gem 버전을 기록합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;gemfile.lock&quot;&gt;&lt;pre class=&quot;language-gemfile.lock&quot;&gt;&lt;code class=&quot;language-gemfile.lock&quot;&gt;GEM
  remote: https://rubygems.org/
  specs:
    actioncable (6.1.0)
      actionpack (= 6.1.0)
      nio4r (~&amp;gt; 2.0)
      websocket-driver (&amp;gt;= 0.6.1)
    actionmailer (6.1.0)
      actionpack (= 6.1.0)
      actionview (= 6.1.0)
      activejob (= 6.1.0)
      mail (~&amp;gt; 2.7.1)
      ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;rails-서버실행&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rails-%EC%84%9C%EB%B2%84%EC%8B%A4%ED%96%89&quot; aria-label=&quot;rails 서버실행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails 서버실행&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;$ bin/rails server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 명령어를 실행하면 Puma 웹 서버가 시작됩니다.
애플리케이션이 작동하는 모습은 &lt;a href=&quot;http://localhost:3000&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:3000&lt;/a&gt; 에서 확인할 수 있습니다.
추가적으로 Rails 에서는 변경한 소스코드가 서버에 자동으로 반영됩니다. (Spring 프레임워크 에서는 HotReload 기능을 별도로 설정했어야 했지만..)&lt;/p&gt;
&lt;h2 id=&quot;hello-world-출력해보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hello-world-%EC%B6%9C%EB%A0%A5%ED%95%B4%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;hello world 출력해보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hello World 출력해보기&lt;/h2&gt;
&lt;p&gt;Rails가 &quot;Hello World&quot;를 말하게 하려면 최소한 &lt;strong&gt;Route, Controller, View&lt;/strong&gt;를 만들어야 합니다. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Route는 요청을 Controller에 매핑합니다. &lt;/li&gt;
&lt;li&gt;Controller는 요청을 처리하는 데 필요한 작업을 수행하고 View에 대한 데이터를 준비합니다. &lt;/li&gt;
&lt;li&gt;View는 원하는 형식(HTML, JSON)으로 데이터를 표시합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;구현 측면에서 Route는 &lt;a href=&quot;https://en.wikipedia.org/wiki/Domain-specific_language&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Ruby DSL&lt;/a&gt;(Domain-Specific Language)로 작성된 Convention 입니다.&lt;/p&gt;
&lt;p&gt;Controller는 Ruby 클래스이고 해당 클래스의 public 메서드는 Action이라고 말합니다. 그리고 View는 일반적으로 HTML과 Ruby를 혼합하여 작성된 템플릿입니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;config/routes.rb&lt;/code&gt; 에 route를 추가하는 것부터 시작해 보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;rb&quot;&gt;&lt;pre class=&quot;language-rb&quot;&gt;&lt;code class=&quot;language-rb&quot;&gt;Rails&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;application&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;routes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;draw &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt;
  get &lt;span class=&quot;token string-literal&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token symbol&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string-literal&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello#index&quot;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;# For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 route는 GET / 요청이 HelloController의 index 액션에 매핑됨을 선언합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;$ bin/rails generate controller hello index --skip-routes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 HelloController 와 해당 index 액션을 생성하기 위해 컨트롤러 Generator를 실행합니다.(이미 경로를 선언했으므로 &lt;code class=&quot;language-text&quot;&gt;--skip-routes&lt;/code&gt; 옵션 사용)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;rb&quot;&gt;&lt;pre class=&quot;language-rb&quot;&gt;&lt;code class=&quot;language-rb&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HelloController&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; ApplicationController
  &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token method-definition&quot;&gt;&lt;span class=&quot;token function&quot;&gt;index&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 View를 생성해야 합니다. Rails는 컨트롤러와 액션 이름(메소드명)에 따라 View를 찾습니다.
따라서 &lt;code class=&quot;language-text&quot;&gt;app/views/hello/index.html.erb&lt;/code&gt; 파일을 생성하고 다음 내용을 추가합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;erb&quot;&gt;&lt;pre class=&quot;language-erb&quot;&gt;&lt;code class=&quot;language-erb&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Hello World&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 브라우저에서 &lt;a href=&quot;http://localhost:3000/hello%EB%A1%9C&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:3000/hello로&lt;/a&gt; 이동하면 &quot;Hello World&quot;라는 메시지가 표시됩니다.&lt;/p&gt;
&lt;h2 id=&quot;마치며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EC%B9%98%EB%A9%B0&quot; aria-label=&quot;마치며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마치며&lt;/h2&gt;
&lt;p&gt;이번 글에서는 Rails를 설치하고 프로젝트를 생성하고 간단한 Hello World를 출력하는 방법을 알아보았습니다.
향후에는 Rails의 다양한 기능에 대해서 포스팅해보려고 합니다. 읽어주셔서 감사합니다.&lt;/p&gt;
&lt;h2 id=&quot;읽어보면-좋을-것&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%BD%EC%96%B4%EB%B3%B4%EB%A9%B4-%EC%A2%8B%EC%9D%84-%EA%B2%83&quot; aria-label=&quot;읽어보면 좋을 것 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;읽어보면 좋을 것&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://guides.rubyonrails.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Ruby on Rails Guides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.dramancompany.com/2020/11/java-spring-ruby-on-rails/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Java&amp;#x26;Spring 개발자가 Ruby on Rails 를 해보고 마주친 생각들&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[이제는 주니어 개발자]]></title><description><![CDATA[23년도 하반기 회고 에 이어서. 작년 8월부터 시작한 취준이 끝났다. 이제는 주니어 개발자로 일하고 있다. 개발자는 서울에 가야한다는 생각으로 서울권이나 수도권 회사 지원을 예전 부터 했었는데 취준 기간이 점점 길어지며 이제는 아무데나 당장 취직을…]]></description><link>https://seonghoon.xyz/24-first-story/</link><guid isPermaLink="false">https://seonghoon.xyz/24-first-story/</guid><pubDate>Sat, 22 Jun 2024 22:47:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://seonghoon.xyz/23-second-half/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;23년도 하반기 회고&lt;/a&gt; 에 이어서.&lt;/p&gt;
&lt;p&gt;작년 8월부터 시작한 취준이 끝났다. 이제는 주니어 개발자로 일하고 있다.&lt;/p&gt;
&lt;p&gt;개발자는 서울에 가야한다는 생각으로 서울권이나 수도권 회사 지원을 예전 부터 했었는데 취준 기간이 점점 길어지며 이제는 아무데나 당장 취직을 하고 싶다는 생각이 들었고 내 자신에 대해 후회와 회의감이 들면서 나를 갉아먹고 있었다.&lt;/p&gt;
&lt;p&gt;밤에 잠에 들려고 누워있으면 불안감과 잡생각, 그리고 언제까지 해야할까라는 생각이 들며 잠이 오지 않고 새벽 늦게 눈꺼풀이 강제로 닫혀있을 때 까지 핸드폰을 봤다.&lt;/p&gt;
&lt;p&gt;밤낮이 바뀌고 마음이 계속 꺾이니 이러면 안될것같아 책이라도 읽을려고 이것저것 찾다가  &lt;a href=&quot;https://product.kyobobook.co.kr/detail/S000200329012&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;기분이 태도가 되지 말자&lt;/a&gt; 라는 책을 보게되었다. 이 책을 읽고 나름 생각 정리가 되었다 현명한 삶을 살기 위해서는 내 감정을 조절할 줄 알아야 하고 더 나아가 &apos;나&apos;를 다스릴 수 있다고 한다 라는 내용이고 가볍게 읽기 편해서 심적으로 힘들때가 오면 이 책을 읽고 감정을 조절하고 잡생각들을 잊기 위해 노력했다.&lt;/p&gt;
&lt;p&gt;이러한 노력덕인지 내 자신에 대한 회의감에서 벗어나 자신감을 기르게 되었고 내 자신에게 &apos;조금만 더 노력해보자&apos; 라는 말을 계속 건냈다. 내가 이 시기를 계속 이겨낼 수 있는 버팀목이 된것같다.&lt;/p&gt;
&lt;p&gt;작년에 이어 올해는 약 10% 정도의 확률로 서류 전형을 합격하고 이후 채용 과정을 진행했다. 그동안 여러 회사들의 면접을 보며 나만의 데이터베이스도 구축했고 이력서와 포폴도 꾸준하게 튜닝 파인을 하면서 이번에 합격 하지 않아도 다음에 합격할 수 있는 성장기를 지낸 것 같다.&lt;/p&gt;
&lt;p&gt;그런 성장할 수 있다는 생각이 면접 시 많은 긴장을 하지 않게하도록 해준것 같다. 예전에는 면접장 들어가면 내가 잘못 대답해서 떨어지면 어떡하지? 잘 할 수 있을까 라며 긴장했었는데 이제는 적절한 긴장과 여유를 통해 면접관들과 티키타카 대화하게 되었다. 이때 내가 &apos;성장했구나&apos; 라는 생각과 &apos;이렇게 계속 하면 될거같다&apos; 라는 생각이 들었다.&lt;/p&gt;
&lt;p&gt;그렇게 매일매일 코테 준비와 기업 조사, 이력서와 포폴 기반으로 예상 질문을 정리하며 이러한 반복적인 일상이 점차 쌓여 1개의 질문에서 300개에 달하는 예상 질문을 정리하고 코테 1문제에서 200개가 넘는 문제를 풀었다 그렇게 계속 달리다보니 목적지에 도달하게 되었다.&lt;/p&gt;
&lt;h3 id=&quot;이제는-주니어-개발자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C%EB%8A%94-%EC%A3%BC%EB%8B%88%EC%96%B4-%EA%B0%9C%EB%B0%9C%EC%9E%90&quot; aria-label=&quot;이제는 주니어 개발자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제는 주니어 개발자&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/760cada8886568e687ccf7360f4158e1/10017/1.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAXAQADAQAAAAAAAAAAAAAAAAABAgMF/9oADAMBAAIQAxAAAAHmRmLoIKAz/8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEQMh/9oACAEBAAEFAuz27Y4Wt+kn/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECAxESMf/aAAgBAwEBPwFVqUR654f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAAMAAAAAAAAAAAAAAAAAASEQMUH/2gAIAQEABj8CfRSmiYZ//8QAGxAAAwACAwAAAAAAAAAAAAAAAAERMUFRYbH/2gAIAQEAAT8h4UH2MmT2oltpoo9Tdn//2gAMAwEAAgADAAAAEMcP/8QAGREAAwADAAAAAAAAAAAAAAAAAAERIUGR/9oACAEDAQE/EEBXRmROH//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAcZ//EAB0QAQADAAEFAAAAAAAAAAAAAAEAESExQVFxgbH/2gAIAQEAAT8QoGBRjZkKnEZGz3Lh0u6eYFBLtOx0irnmj8J//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;왓챠 웰컴기프트&quot;
        title=&quot;왓챠 웰컴기프트&quot;
        src=&quot;/static/760cada8886568e687ccf7360f4158e1/1c72d/1.jpg&quot;
        srcset=&quot;/static/760cada8886568e687ccf7360f4158e1/a80bd/1.jpg 148w,
/static/760cada8886568e687ccf7360f4158e1/1c91a/1.jpg 295w,
/static/760cada8886568e687ccf7360f4158e1/1c72d/1.jpg 590w,
/static/760cada8886568e687ccf7360f4158e1/a8a14/1.jpg 885w,
/static/760cada8886568e687ccf7360f4158e1/fbd2c/1.jpg 1180w,
/static/760cada8886568e687ccf7360f4158e1/10017/1.jpg 1471w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6948a54f7f1dbaf585334a851787b5ec/9568a/2.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.1081081081081%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAABAADAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAABEoSpvsWT7wnFMLOP/8QAGxAAAwADAQEAAAAAAAAAAAAAAAECAxESISL/2gAIAQEAAQUCWRQaG5kccmGmh7p/LNz00t5PDLK5ls//xAAXEQADAQAAAAAAAAAAAAAAAAAAEBFB/9oACAEDAQE/AcK//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHhAAAQMEAwAAAAAAAAAAAAAAAQAQEQISITFBUWH/2gAIAQEABj8CsGu2gleIzpSVkBW0iKQ4PLf/xAAdEAEAAgIDAQEAAAAAAAAAAAABABEhMUFhgVGh/9oACAEBAAE/IWvdOeozhMV34YbRZMddQpUtg4VeRwhoH1nPflwiEwsZV23FDbzP/9oADAMBAAIAAwAAABCrMQ7/xAAWEQEBAQAAAAAAAAAAAAAAAAARASD/2gAIAQMBAT8QCK4f/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPxBLkZ//xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRYYGxwfD/2gAIAQEAAT8QKP07HmagYhEFF1L4p6nzDfPyXK49pfM1t/XiH5bhvaHSUTRY5W/1S6QA5yLd8au4Y9jKcxImpO0Y7G5qf//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/6948a54f7f1dbaf585334a851787b5ec/1c72d/2.jpg&quot;
        srcset=&quot;/static/6948a54f7f1dbaf585334a851787b5ec/a80bd/2.jpg 148w,
/static/6948a54f7f1dbaf585334a851787b5ec/1c91a/2.jpg 295w,
/static/6948a54f7f1dbaf585334a851787b5ec/1c72d/2.jpg 590w,
/static/6948a54f7f1dbaf585334a851787b5ec/a8a14/2.jpg 885w,
/static/6948a54f7f1dbaf585334a851787b5ec/fbd2c/2.jpg 1180w,
/static/6948a54f7f1dbaf585334a851787b5ec/9568a/2.jpg 3024w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;고2때 왓챠플레이로 처음 알게되었고 그 시기에 영화나 드라마를 자주 보면서 관심이 있게되었는데 그때 평점을 매기고 기록하는 용도로 왓챠피디아를 애용했었는데 이제는 왓챠에서 주니어 서버 개발자로 일하게 되었다.&lt;/p&gt;
&lt;p&gt;이제 정말 내가 회사를 다니는 직장인이라는게 실감이 안나면서 왓챠의 문화와 분위기에 놀라며 매일 출근할 때 마다 한배에 탄 기분에 스며들고 기쁘게 강남 출퇴근을 하고 있다.&lt;/p&gt;
&lt;p&gt;Java와 스프링을 여태까지 공부하고 주로 개발했는데 새로운 언어와 기술 스택을 배워야한다는 컨텍스트 스위칭 비용이 나름 있지만 이때까지 학교에서 공부할때도 그렇고 기본기와 언어와 도구에 매몰되지 않는 서버 개발자가 되기 위해 노력해왔기에 성장 비용으로 하루하루 출근할 때 마다 새로운것들과 내가 배우고 축적한 기반들에 차곡차곡 쌓아 올리고 있다.&lt;/p&gt;
&lt;p&gt;왓챠의 서비스들을 구성하는 기술들을 하루하루 지나며 접하고 배우고 알아가니 꿈꿔왔던 순간이 온 것 처럼 재미있고 즐겁게 일하고 있다. 서버 개발자라는 것을 꿈꿔왔을때 부터 많은 분들이 이용하는 서비스의 개발자로 일하고 싶었는데 그 꿈을 이룬것 같아서 너무 좋다 같이 일하는 동료분들도 너무나 서버 개발자로써 대단한 분들과 함께 일을 하고 있어서 많은 것을 물어보고 있다.&lt;/p&gt;
&lt;p&gt;주니어 개발자로써 더 좋은 서비스를 제공할 수 있도록 정진할 것이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Hibernate 6.4 부터 SoftDelete를 공식적으로 지원한다]]></title><description><![CDATA[기존에는 SoftDelete를 구현할려면 @Where 와 @SQLDelete 를 사용했어야했다. 는 Repository의  메서드를 호출했을 때, 대신 호출되는 SQL을 지정해주는 어노테이션인데 이를 통해 UPDATE 방식으로 삭제 처리를 하고 를 …]]></description><link>https://seonghoon.xyz/jpa-softdelete-annotation/</link><guid isPermaLink="false">https://seonghoon.xyz/jpa-softdelete-annotation/</guid><pubDate>Thu, 28 Mar 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;기존에는 SoftDelete를 구현할려면 @Where 와 @SQLDelete 를 사용했어야했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clause &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;deleted = false&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SQLDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sql &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;UPDATE member SET deleted = true WHERE id = ?&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; deleted&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SQLDelete&lt;/code&gt;는 Repository의 &lt;code class=&quot;language-text&quot;&gt;delete()&lt;/code&gt; 메서드를 호출했을 때, 대신 호출되는 SQL을 지정해주는 어노테이션인데 이를 통해 UPDATE 방식으로 삭제 처리를 하고 &lt;code class=&quot;language-text&quot;&gt;@Where&lt;/code&gt;를 통해 삭제되지 않은 데이터만 조회할 수 있다.&lt;/p&gt;
&lt;p&gt;이렇게 해서 SoftDelete를 구현할 수 있었지만, Hibernate 6.4 버전부터는 JPA에서 공식적으로 이를 SoftDelete를 지원하도록 하는 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 어노테이션을 제공한다.&lt;/p&gt;
&lt;h2 id=&quot;1-softdelete&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-softdelete&quot; aria-label=&quot;1 softdelete permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. @SoftDelete&lt;/h2&gt;
&lt;p&gt;Spring Data JPA 경우 3.2.1 이상, Hibernate 6.4 이상부터 지원한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDelete&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;columnName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;deleted&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 어노테이션을 사용하면 JPA가 자동으로 bool 타입의 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼을 추가하고 delete() 메소드 호출 시 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼을 true로 변경해주는 쿼리를 자동으로 생성해준다.
&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 어노테이션을 사용하면 &lt;code class=&quot;language-text&quot;&gt;@Where&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;@SQLDelete&lt;/code&gt; 어노테이션을 사용하지 않아도 되기 때문에 코드가 간결해지고 유지보수하기 좋게 된다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;는 다음 3가지 주요 기능을 제공한다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;strategy&lt;/code&gt; : 삭제 방식을 지정할 수 있다. (기본값은 &lt;code class=&quot;language-text&quot;&gt;SoftDeleteType.DELETED&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;columnName&lt;/code&gt; : 삭제 컬럼의 이름을 지정할 수 있다. (기본값은 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼명)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;converter&lt;/code&gt; : 삭제 컬럼의 데이터 타입을 지정할 수 있다. (기본값은 Bool 타입의 &lt;code class=&quot;language-text&quot;&gt;TrueFalseConverter&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;11-softdelete-컬럼-이름-변경하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#11-softdelete-%EC%BB%AC%EB%9F%BC-%EC%9D%B4%EB%A6%84-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;11 softdelete 컬럼 이름 변경하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.1 @SoftDelete 컬럼 이름 변경하기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDelete&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;columnName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;is_deleted&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약에 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼의 이름을 변경하고 싶다면 &lt;code class=&quot;language-text&quot;&gt;columnName&lt;/code&gt; 속성을 사용하면 된다.&lt;/p&gt;
&lt;h3 id=&quot;12-softdelete-삭제-방식-변경하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#12-softdelete-%EC%82%AD%EC%A0%9C-%EB%B0%A9%EC%8B%9D-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;12 softdelete 삭제 방식 변경하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.2 @SoftDelete 삭제 방식 변경하기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 는 삭제 방식도 변경할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDelete&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDeleteType&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SoftDeleteType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ACTIVE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;SoftDeleteType.ACTIVE&lt;/code&gt; 는 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;이면 삭제되지 않는 것 즉 활성화된 것을 의미한다.
&lt;code class=&quot;language-text&quot;&gt;SoftDeleteType.DELETED&lt;/code&gt;는 기본 전략인데 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;이면 삭제된 것을 의미하고 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;이면 삭제되지 않은 것을 의미한다.&lt;/p&gt;
&lt;h3 id=&quot;13-softdelete-converter를-이용해-bool이-아닌-다른-데이터-타입으로-삭제-표시하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#13-softdelete-converter%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4-bool%EC%9D%B4-%EC%95%84%EB%8B%8C-%EB%8B%A4%EB%A5%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85%EC%9C%BC%EB%A1%9C-%EC%82%AD%EC%A0%9C-%ED%91%9C%EC%8B%9C%ED%95%98%EA%B8%B0&quot; aria-label=&quot;13 softdelete converter를 이용해 bool이 아닌 다른 데이터 타입으로 삭제 표시하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.3 @SoftDelete Converter를 이용해 BOOL이 아닌 다른 데이터 타입으로 삭제 표시하기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;Converter&lt;/code&gt;를 통해 &lt;code class=&quot;language-text&quot;&gt;Bool&lt;/code&gt; 타입이 아닌 다른 데이터 타입으로 삭제 표시 할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDelete&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDeleteType&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;YesNoConverter&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;strategy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SoftDeleteType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ACTIVE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; converter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;YesNoConverter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;YesNoConverter&lt;/code&gt;를 사용하면 &lt;code class=&quot;language-text&quot;&gt;Y&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;N&lt;/code&gt; 문자로 삭제 표시를 할 수 있다.&lt;/p&gt;
&lt;p&gt;그리고 여러 Convert를 사용해 다르게 삭제 표시를 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;NumericBooleanConverter&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;으로 삭제 표시를 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;TrueFalseConverter&lt;/code&gt; : &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 삭제 표시를 할 수 있다.&lt;/p&gt;
&lt;h2 id=&quot;2-기존-where-와-sqldelete-방식에서-softdelete-방식으로-변경하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EA%B8%B0%EC%A1%B4-where-%EC%99%80-sqldelete-%EB%B0%A9%EC%8B%9D%EC%97%90%EC%84%9C-softdelete-%EB%B0%A9%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;2 기존 where 와 sqldelete 방식에서 softdelete 방식으로 변경하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 기존 @Where 와 @SQLDelete 방식에서 @SoftDelete 방식으로 변경하기&lt;/h2&gt;
&lt;p&gt;기존 &lt;code class=&quot;language-text&quot;&gt;@Where&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;@SQLDelete&lt;/code&gt; 방식에서 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 방식으로 변경하고 싶다면 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 추가&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @Where(clause = &quot;deleted = false&quot;) // 제거&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// @SQLDelete(sql = &quot;UPDATE member SET deleted = true WHERE id = ?&quot;) // 제거&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// private boolean deleted; // @SoftDelete 어노테이션을 사용하면 deleted 컬럼을 추가하지 않아도 된다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt; 어노테이션을 추가하고 &lt;code class=&quot;language-text&quot;&gt;@Where&lt;/code&gt; 와 &lt;code class=&quot;language-text&quot;&gt;@SQLDelete&lt;/code&gt; 어노테이션을 제거하면 간단하게 된다.&lt;/p&gt;
&lt;h2 id=&quot;3-manytoone-관계에서-softdelete-사용하기-위해선&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-manytoone-%EA%B4%80%EA%B3%84%EC%97%90%EC%84%9C-softdelete-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%B4%EC%84%A0&quot; aria-label=&quot;3 manytoone 관계에서 softdelete 사용하기 위해선 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. ManyToOne 관계에서 SoftDelete 사용하기 위해선&lt;/h2&gt;
&lt;p&gt;ManyToOne 관계에서 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 사용하려면 즉시 전략으로 연관 관계를 조회해야한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; content&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;EAGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; member&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 즉시 로딩 (SoftDelete)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약에 지연 로딩 전략을 사용하면 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 사용할 수 없다. 컴파일 시 다음과 같은 &lt;code class=&quot;language-text&quot;&gt;UnsupportedMappingException&lt;/code&gt; 예외가 발생한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;UnsupportedMappingException: To-one attribute cannot be mapped as LAZY as its associated entity is defined with @SoftDelete&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;일반적으로 @ManyToOne에서 가리키는 엔티티(One쪽)가 삭제되면 지연 로딩 시 &lt;code class=&quot;language-text&quot;&gt;EntityNotFoundException&lt;/code&gt;이 발생하는데
&lt;code class=&quot;language-text&quot;&gt;FetchType.EAGER&lt;/code&gt;로 변경하면 초기화 시 엔티티를 가져오고 프록시가 호출되지 않으므로 작동하게 된다.
그리고 해당 엔티티를 사용하게 되면 삭제되었기 때문에 DB에 조회되지 않고 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;을 반환하게 된다.&lt;/p&gt;
&lt;p&gt;따라서 &lt;code class=&quot;language-text&quot;&gt;@ManyToOne&lt;/code&gt; 관계에서 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 사용하려면 &lt;strong&gt;즉시 로딩 전략&lt;/strong&gt;을 사용해야한다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26ba261ab2c91811addf0a1c9e07e5c4/5caea/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 101.35135135135135%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIklEQVQ4y52UW3KcMBRE2YxjkAChF0i8Z5hx2eV4/8vpNPLYTipJJcxHF5QQR+deCbJcNFiGK97aKza74OJ6XP2ExUYMcYbuJoimg7QDpO5QFAoF3/lbMqkczssLXqcX9G5G040YphXb+AxjAlTjIaSGTDGQlYUsb/n5/pZspw7zFe16QdNvNOlRW4JchHQTKpoWQmGvJC/2qN/yi+EHsCNQdQt8OyIEmtLuUbFE06PgtWS5yse0YGkiKu3hA8crfYO+wxNwJDCen2DiCYpGmnZtmBiC/Q5oWZ5BwbK/0nBMJ6svSwKF0IjjhrBsiNMFYVgxr1ectmeEeYPpCFQWQvy53Pc0n8nKSqGqNRtfselMWfO+5mpVuspSYZ9T1g3n/TuZ6zxCDHDeQxvD3mloa9J9rdThZNY6xC5yI9i3toUnuGka1DXNq/pwspqNdX6EtTZFa5YvxN3hLhewzmLbtpTdcH8gpbwr2f7ybrYsC6ZpSoMfwHvACWi4Aeu6IsbI3tUoy/JuywR0NFxpmKAhJKD8sNwnHoBn3woaOofT5YJ+mqFou4/lfJjfYOKIYSdyzDx335cRbyf+vnguW/GIIHM4blhx1PBJPmLwHc7OYNE1Ahdo828YigdcxcOn5X8Dd4DQPIOh5xdioXgOa23SRi1cLBf7xCNAWeCB33JlW7Tc5TgMsHFAYz0Wlp4MjwBflcCoG1yswtkorE2FSNCU31fyDxHvbDpC1p5vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;alt text&quot;
        src=&quot;/static/26ba261ab2c91811addf0a1c9e07e5c4/fcda8/image.png&quot;
        srcset=&quot;/static/26ba261ab2c91811addf0a1c9e07e5c4/12f09/image.png 148w,
/static/26ba261ab2c91811addf0a1c9e07e5c4/e4a3f/image.png 295w,
/static/26ba261ab2c91811addf0a1c9e07e5c4/fcda8/image.png 590w,
/static/26ba261ab2c91811addf0a1c9e07e5c4/efc66/image.png 885w,
/static/26ba261ab2c91811addf0a1c9e07e5c4/5caea/image.png 996w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
조회 시 JOIN ON 절에 &lt;code class=&quot;language-text&quot;&gt;is_deleted=false&lt;/code&gt; 조건이 추가되어 삭제되지 않은 데이터만 조회되는 모습이다.&lt;/p&gt;
&lt;p&gt;즉시 전략으로 N+1 문제를 방지할 수 있으나, Many 쪽에서 연관객체 조회 시 별도의 &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt; 체크를 해야하고 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 적용한 엔티티는 연관 관계 조회 시 성능적으로 잘 고려해서 사용해야한다.&lt;/p&gt;
&lt;h2 id=&quot;4-flyway를-사용하고-있다면&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-flyway%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B3%A0-%EC%9E%88%EB%8B%A4%EB%A9%B4&quot; aria-label=&quot;4 flyway를 사용하고 있다면 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. Flyway를 사용하고 있다면&lt;/h2&gt;
&lt;p&gt;만약에 Flyway를 사용하고 있어 JPA가 자동으로 DDL(ddl-auto)을 생성하지 않는다면
Flyway가 자동으로 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼을 추가하지 않으므로 &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 사용하려면 &lt;code class=&quot;language-text&quot;&gt;deleted&lt;/code&gt; 컬럼을 직접 추가해야한다.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; member &lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;COLUMN&lt;/span&gt; deleted &lt;span class=&quot;token keyword&quot;&gt;BOOLEAN&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 기존에 &lt;code class=&quot;language-text&quot;&gt;is_deleted&lt;/code&gt; 컬럼으로 SoftDelete를 직접하고 있고 &lt;code class=&quot;language-text&quot;&gt;@SoftDelete&lt;/code&gt;를 적용하게 된다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hibernate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotations&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SoftDelete&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SoftDelete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;columnName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;is_deleted&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// private boolean is_deleted; // @SoftDelete 어노테이션을 사용하면 is_deleted 컬럼을 추가하지 않아도 된다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;columnName 속성을 사용해 컬럼 이름을 변경하면 지정된 &lt;code class=&quot;language-text&quot;&gt;is_deleted&lt;/code&gt; 컬럼으로 JPA는 삭제 처리를 한다.&lt;/p&gt;
&lt;h2 id=&quot;레퍼런스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot;레퍼런스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;레퍼런스&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://hibernate.org/orm/releases/6.4/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Hibernate 6.4 Release Note&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.jboss.org/hibernate/orm/6.4/javadocs/org/hibernate/annotations/SoftDelete.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Hibernate 6.4 SoftDelete API&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.jboss.org/hibernate/orm/6.4/userguide/html_single/Hibernate_User_Guide.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Hibernate 6.4 UserGuide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.baeldung.com/java-hibernate-softdelete-annotation&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://www.baeldung.com/java-hibernate-softdelete-annotation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[[Spring] 서버가 정상적으로 배포되면 알림을 보낼 수 있는 서비스 구현하기]]></title><description><![CDATA[매번 개발 서버나 프로덕션 서버에 배포 한 후 따로 팀원들에게 "서버 방금 올렸습니다~" 라고 전하는게 귀찮을 수 있다. 
우아하고 개발자스럽게 불필요한 행위없이 서버가 정상적으로 배포되면 자동으로 디스코드에 알림을 보내는 서비스를 만들어보자. 일단…]]></description><link>https://seonghoon.xyz/spring-deploy-alert/</link><guid isPermaLink="false">https://seonghoon.xyz/spring-deploy-alert/</guid><pubDate>Thu, 07 Mar 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQ4y6VTy5LSUBDl//0BdWHVlDvXlhs3Vun4qGHATCBP8oAQICEE8g5ocuy+EEaGceWtOnT6Jvfcc7qb3iZu8OqmxIePv+H7CwwlCaOxClWR8PlbCdvNEUUB5v4SYbhG0zRo2pbiE9BeS+jlRYO37yp8+rKHH7YYSxoc08A2yRBvI6yjCEHIcYMsL55HxrE8EgItDr9aAA1mIXDz4jXev3kJWdUgywqkhxHu+gOMSXWS5OJgkubY0YUMfmakRMpKe/zDzLwm7p7sWphYNhbLAObEhqLqmHk+dGNCuQNvvkBR1iirvUBeVJeE7akeZ0LFwmA4FKrC9UbY5ZpyzuR8eB3F0HQTqmbAXyyF6kvCk0KTCFXdJXsKLNsVH7KCwVDC7dfvkEcKqvogLuELpAcZq2B9TdieCWsYEw+O64pDHeFyFYqD8TYRdlnlKoiwiXf/sNzVcHrAT0lH//5eqGKSI9mx01xXfxGIZnSqrppyYdmpqSFzWKemzGZzuFOPcge2MxVNctyZIOzIOKZZLkbnitAihf2hih93fbJHI5HXpKRCSjHJKrJXi71tUmDHo9MhYZXFcQ7/ruHEKaG4KRQvx2iaY0zQ5zk0ymU3ozwV0LwM8jSD6vFeJt4FcUEj/UShbtfQqSmGaUE3bYxpTDjqhkXW50IFq2FsT+ien+3yzK+pc/xvoA9EfR7BNSoKtl0KFGdUp7x6tMyri/+7/gA9QyDqgAshAQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;alt text&quot;
        src=&quot;/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png&quot;
        srcset=&quot;/static/91333e774a3680dbc8ce3d502fdd286b/12f09/image-1.png 148w,
/static/91333e774a3680dbc8ce3d502fdd286b/e4a3f/image-1.png 295w,
/static/91333e774a3680dbc8ce3d502fdd286b/d4635/image-1.png 371w&quot;
        sizes=&quot;(max-width: 371px) 100vw, 371px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;매번 개발 서버나 프로덕션 서버에 배포 한 후 따로 팀원들에게 &quot;서버 방금 올렸습니다~&quot; 라고 전하는게 귀찮을 수 있다.
우아하고 개발자스럽게 불필요한 행위없이 서버가 정상적으로 배포되면 자동으로 디스코드에 알림을 보내는 서비스를 만들어보자.&lt;/p&gt;
&lt;p&gt;일단 배포 알리미에 대한 기능 요구사항은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;서버가 정상적으로 작동하는지 판별할 수 있어야 한다.&lt;/li&gt;
&lt;li&gt;서버가 정상 작동하면 Webhook을 이용해 메시지를 보낼 수 있다.&lt;/li&gt;
&lt;li&gt;여러 환경에 따라 알리미가 작동할 수 있으면 한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Webhook 전송 방식은 필자가 예전에 작성한 &lt;a href=&quot;https://seonghoon.xyz/springboot-disord-webhook/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;[SpringBoot] 디스코드 WebHook으로 알림 보내기&lt;/a&gt;를 참고하면 더 좋다.&lt;/p&gt;
&lt;h2 id=&quot;prerequisite&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#prerequisite&quot; aria-label=&quot;prerequisite permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisite&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;디스코드 채널 웹훅 URL&lt;/li&gt;
&lt;li&gt;Spring 기반의 서버&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;추가적인 라이브러리를 사용하지 않고 스프링이 제공하는 기능만으로 기능을 구현할 것 이다.&lt;/p&gt;
&lt;h2 id=&quot;서버-정상-작동-판별하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%9C%EB%B2%84-%EC%A0%95%EC%83%81-%EC%9E%91%EB%8F%99-%ED%8C%90%EB%B3%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;서버 정상 작동 판별하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;서버 정상 작동 판별하기&lt;/h2&gt;
&lt;p&gt;우선 서버 작동에 이상이 없는지 알 수 있는 방법을 알아보자.&lt;/p&gt;
&lt;h3 id=&quot;헬스체크-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%97%AC%EC%8A%A4%EC%B2%B4%ED%81%AC-api&quot; aria-label=&quot;헬스체크 api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;헬스체크 API&lt;/h3&gt;
&lt;p&gt;일반적으로 서버를 배포하면 데이터베이스나 여러 서버와 통합적으로 연결이 끝난 후 API가 정상 호출이 되는지 확인한다.
여러 API가 있겠지만 아주 간단하게 헬스체크 용도의 GET 방식 API를 만들어보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;  
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/api/test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TestController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GetMapping&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Good&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;/api/test&lt;/code&gt; URL로 GET 요청을 보내면 서버에서 &lt;code class=&quot;language-text&quot;&gt;Good&lt;/code&gt; 이라는 문자열을 반환하는 아주 간단한 API 이다.&lt;/p&gt;
&lt;p&gt;서버가 잘 동작하고 해당 URL로 요청을 보내면 언제든지 &lt;code class=&quot;language-text&quot;&gt;Good&lt;/code&gt; 이라는 메시지를 통해 잘 돌아가는구나 라고 안심할 수 있는 API 이다.&lt;/p&gt;
&lt;p&gt;그러면 이 API를 언제 호출해야할까?
개발자가 직접 서버가 작동되면 주기적으로 API 요청을 보내는 것은 매우 효율적이지 못하다
따라서 스프링에서 제공하는 기능을 이용해 자동으로 API 요청을 보내도록 해보자.&lt;/p&gt;
&lt;h3 id=&quot;api-자동-호출&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#api-%EC%9E%90%EB%8F%99-%ED%98%B8%EC%B6%9C&quot; aria-label=&quot;api 자동 호출 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;API 자동 호출&lt;/h3&gt;
&lt;p&gt;Java를 이용해 코드를 작성해본 분들은 잘 알다시피 main() 메소드가 프로그램의 진입점이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootApplication&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebApplication&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
	    &lt;span class=&quot;token class-name&quot;&gt;SpringApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WebApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드는 스프링 부트 프로젝트 생성 시 기본적으로 생성되는 코드이다.&lt;/p&gt;
&lt;p&gt;서버를 실행하면 main 함수의 &lt;code class=&quot;language-text&quot;&gt;SpringApplication.run()&lt;/code&gt; 메소드를 통해 스프링 컨테이너가 생성되어 Bean을 등록하고 의존성을 주입하는 여러 작업들이 수행된다.&lt;/p&gt;
&lt;p&gt;혹시 &lt;code class=&quot;language-text&quot;&gt;run()&lt;/code&gt; 메소드 다음 라인을 디버깅 해본적 있는가?
당장 IDE를 켜서 &lt;code class=&quot;language-text&quot;&gt;run()&lt;/code&gt; 다음으로 아무 로그를 출력해보자. 스프링이 정상적으로 실행된 후 제일 마지막에 로그가 출력 될 것이다.
스프링을 이용해 개발하다보면 main 함수를 건드리는 일이 대부분 없고 스프링 컨테이너 덕분에 직접 인스턴스를 main에서 생성하고 의존성을 주입하는 일이 없다 (DI 와 Bean 덕분에) &lt;/p&gt;
&lt;p&gt;하지만 main 함수에서 스프링 컨테이너가 생성되고 Bean이 등록된 후에 특정 작업을 수행하게 할 수 있다.
우선 배포 알림을 전송하는 서비스를 만들어보자.&lt;/p&gt;
&lt;h2 id=&quot;배포-알림-서비스-구현하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%B0%ED%8F%AC-%EC%95%8C%EB%A6%BC-%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;배포 알림 서비스 구현하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;배포 알림 서비스 구현하기&lt;/h2&gt;
&lt;h3 id=&quot;deployalertservice-클래스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#deployalertservice-%ED%81%B4%EB%9E%98%EC%8A%A4&quot; aria-label=&quot;deployalertservice 클래스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DeployAlertService 클래스&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Slf4j&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${webhook.url}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; webhookUrl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${spring.profiles.active}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; activeProfile&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;deployAlert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
            &lt;span class=&quot;token function&quot;&gt;healthCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;restTemplate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
            &lt;span class=&quot;token function&quot;&gt;webHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;restTemplate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;makeMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            log&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;healthCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;http://localhost:8080/api/test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getForObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
        &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Good&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RuntimeException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;서버가 정상적으로 배포되지 않았습니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;makeMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; json &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
	        {
		        &quot;content&quot;: &quot;%s 환경 서버가 정상적으로 배포되었습니다.&quot;
	        }
        &quot;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; activeProfile&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;webHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RestTemplate&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt; headers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        headers&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setContentType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
        &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; entity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpEntity&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; string &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; restTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postForObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webhookUrl&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; entity&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;string &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RuntimeException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;웹훅 전송에 실패하였습니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;deployAlert()&lt;/code&gt; 메소드를 이용해 테스트 API 호출하고 API 응답이 정상이면 서버가 정상작동하는 것이므로
json 형식의 메시지를 만들고 프로필을 담아 Webhook을 전송하게 된다.&lt;/p&gt;
&lt;p&gt;테스트 API 호출과 WebHook시  Spring 에서 제공하는 &lt;code class=&quot;language-text&quot;&gt;RestTemplate&lt;/code&gt;을 이용하여 HTTP 요청을 보내게된다.&lt;/p&gt;
&lt;p&gt;해당 클래스는 스프링 컨테이너에 등록되어야 하므로 Bean으로 등록해야 한다.&lt;/p&gt;
&lt;h3 id=&quot;bean-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#bean-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;bean 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bean 등록&lt;/h3&gt;
&lt;p&gt;스프링에서 어떤 객체를 Bean으로 등록하기 위해선 &lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt;가 달린 설정 클래스에서 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt;을 이용하거나 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;를 클래스에 부착한다. 별도의 설정 클래스를 만들어야 하는데 &lt;code class=&quot;language-text&quot;&gt;@SpringBootApplication&lt;/code&gt; 어노테이션 내부를 살펴보면 &lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt; 어노테이션이 내장되어있고 그 말은 메인 함수가 위치한 WebApplication 클래스에서 &lt;code class=&quot;language-text&quot;&gt;@Bean&lt;/code&gt; 어노테이션을 이용해 Bean을 등록할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootApplication&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebApplication&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token class-name&quot;&gt;SpringApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WebApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;    
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;deployAlertService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그러면 &lt;code class=&quot;language-text&quot;&gt;DeployAlertService&lt;/code&gt; 클래스는 Bean으로 등록되어 스프링 컨테이너가 관리하게 되는데 해당 Bean을 사용할려면 스프링 컨테이너에게 요청을 해야한다.&lt;/p&gt;
&lt;h3 id=&quot;스프링-컨테이너에게-요청하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%94%84%EB%A7%81-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EC%97%90%EA%B2%8C-%EC%9A%94%EC%B2%AD%ED%95%98%EA%B8%B0&quot; aria-label=&quot;스프링 컨테이너에게 요청하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스프링 컨테이너에게 요청하기&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ArtBackendApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
  
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;containsBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;deployAlertService&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
        context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;deployAlert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;run()&lt;/code&gt; 메소드의 반환은 스프링 컨테이너 이므로 bean을 사용할 수 있도록 로직을 작성할 수 있다 컨테이너으로 부터 Bean을 가져와 배포 알림 메소드를 호출한다.&lt;/p&gt;
&lt;p&gt;이렇게 하여 스프링 서버 실행 시 여러 작업 이후에 &lt;code class=&quot;language-text&quot;&gt;DeployAlertService&lt;/code&gt; 클래스의 &lt;code class=&quot;language-text&quot;&gt;deployAlert()&lt;/code&gt; 메소드가 호출되어 Webhook을 통해 알림을 전송하게 된다.&lt;/p&gt;
&lt;h3 id=&quot;배포-환경에-따라-알림-전송하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD%EC%97%90-%EB%94%B0%EB%9D%BC-%EC%95%8C%EB%A6%BC-%EC%A0%84%EC%86%A1%ED%95%98%EA%B8%B0&quot; aria-label=&quot;배포 환경에 따라 알림 전송하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;배포 환경에 따라 알림 전송하기&lt;/h3&gt;
&lt;p&gt;개발환경이나 프로덕션 환경에서 서버 배포 시 호출하게 할려면 Spring 에서 제공하는 Profile 설정을 이용해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;  
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Profile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;prod&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// dev, prod 환경에서 Bean을 생성한다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;deployAlertService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DeployAlertService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같이 &lt;code class=&quot;language-text&quot;&gt;@Profile&lt;/code&gt; 어노테이션을 이용해 &lt;code class=&quot;language-text&quot;&gt;spring.profiles.active&lt;/code&gt; 옵션에 따라 Bean이 생성되게 할 수 있다.&lt;/p&gt;
&lt;p&gt;자 그러면 이제 &lt;code class=&quot;language-text&quot;&gt;application.properties&lt;/code&gt; 파일에 Webhook URL 등록하고 프로필을 설정해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;properties&quot;&gt;&lt;pre class=&quot;language-properties&quot;&gt;&lt;code class=&quot;language-properties&quot;&gt;&lt;span class=&quot;token key attr-name&quot;&gt;spring.profiles.active&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;dev&lt;/span&gt;
&lt;span class=&quot;token key attr-name&quot;&gt;webhook.url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token value attr-value&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 서버가 정상적으로 배포되면 디스코드에 알림이 전송된다.&lt;/p&gt;
&lt;h2 id=&quot;실행-결과&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%A4%ED%96%89-%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;실행 결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;실행 결과&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 349px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 18.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY032Qz0+DQBCF+f+vHvXo1ZPnpiZq0BSTFiy0lP6Qaq1NKgcXurvAfu5i5ODBl7zMZCaZvG88URqMgaapqaoKrTVKKaTU1DW0bdvbGNPb6W/v5F1cVgzvWvb7Hb7vMxoFPD7cMhjOubmHw+GDfPvK2+6d4/GT/+SOemfnFVfXmqIoWK83zOYpQfDEavXCJExYZBlhGNk+Ik5mTKcxUfRMHCeMxxPSRUaeby1N/ZMwXTZ8CRvXNBb5ZFElZVl22EpJa40QZTd373D1JGW3F0L0b/pF/gZvYS4R/PUZzwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;alt text&quot;
        src=&quot;/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png&quot;
        srcset=&quot;/static/ec62707fa6c33ee4be2e726b480e61d0/12f09/image.png 148w,
/static/ec62707fa6c33ee4be2e726b480e61d0/e4a3f/image.png 295w,
/static/ec62707fa6c33ee4be2e726b480e61d0/e9bf8/image.png 349w&quot;
        sizes=&quot;(max-width: 349px) 100vw, 349px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;기본적으로 위와 같은 형식으로 알림 메시지가 전송되는데&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 370px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKElEQVQ4y4WTSY/TQBCF5/dzBYkbBy5I/AY4zIYYhhkyytJe2nZiO4vjNXG3Y8dJHtWdISRKBJY+V6sOr15VdV/V9Q53Dw3iFJhOffR7fQwGBDPRN1okSYk8z4gCQgj877vqsRZv3kp8vdkgCCP40zmC8QRhOAX3WmS51GJZViBJM6zXLZpmfYbK73Y7XK1WO3y5bjCPt/DGW3x69wHP99ck5iMIPFg2Jxx4Qx/VqsFiKc4oFgKlqPaCx3YNt8bn9x9J8AYm98CYhV6foT9gsLlLDnPkxRLLUp6gRMUfQfVr250WZFzCcEI43gjDUaBFHHcI7nhamBkW4iSDkKszlycOt9u/go8/u7i9vUO3N0BIs/z+8EPjB2M8PXfo/KhHIKv6xOVlQVuCmUOaZ6KrBuGERF7QeeliFsUwLa5dKteqAxVNk1PhmS5w0eGvDrXGDL0EVbVYlDoeoxxl+UKjZqoQ8oLDATl86dp6CcywSTQ44NLWOTlS7Y788UF4v5R/tNzrW+DcRlHQvaPWkyTVMU0SxBTjeYw0TWmrUl90+RovOmS8wrcnG48dA+NkhUlaIcorHYcRxaSifIUwlhjHAuFcwI9o1lGJYlmRwplDAdMv4UwFum4GY5TDCvYwfwFnUh7ghDctYYX7c35JsGcKmtFIt+w4Dmx6JY7jwiWiWQQpaVal2Ld4xD531LI6qC/N16jqFu1mg3V7SkNvta7XqJsLUL55fcu/AVwiHb1922MAAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;alt text&quot;
        src=&quot;/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png&quot;
        srcset=&quot;/static/9b75266ad987b8a9d41a4c0ace93fd14/12f09/image-2.png 148w,
/static/9b75266ad987b8a9d41a4c0ace93fd14/e4a3f/image-2.png 295w,
/static/9b75266ad987b8a9d41a4c0ace93fd14/1efb2/image-2.png 370w&quot;
        sizes=&quot;(max-width: 370px) 100vw, 370px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://discord.com/developers/docs/resources/webhook&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;디스코드 공식 Webhook 문서&lt;/a&gt; 참고하면 여러 형식으로 메시지를 전송할 수 있다.&lt;/p&gt;
&lt;h1 id=&quot;마치며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EC%B9%98%EB%A9%B0&quot; aria-label=&quot;마치며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마치며&lt;/h1&gt;
&lt;p&gt;이번 포스트를 통해 스프링 컨테이너가 생성된 후에 특정 작업을 수행하는 방법과 스프링 프로파일을 이용해 Bean을 생성하는 방법을 알아보았다.
또한 이러한 방식을 이용해 서버가 정상적으로 배포되면 Webhook 알림을 전송하는 서비스를 구현해보았다.&lt;/p&gt;
&lt;p&gt;해당 방식은 간단하게 스프링 컨테이너가 정상적으로 생성 된 후 알림을 전송하는 것이라 어떤 이유로 스프링 배포가 실패한다면 알람을 전송할 수 없다.
실제 운영 환경을 모니터링하는것은 매우 안정적으로 동작해야하므로 여러 모니터링 서비스가 다양하게 있으므로 이러한 서비스를 이용하는게 더 좋을 수 있다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[@Component, @Autowired를 이용하지않고 CDI API를 이용해 @Bean 등록 및 의존성 주입하는법 그리고 @ComponentScan 동작원리]]></title><description><![CDATA[Spring에서는 , 를 이용하여 Bean을 등록하고 의존성을 주입하는 방법을 사용한다. 하지만 해당 어노테이션을 이용하지 않고 스프링 컨테이너에 Bean을 등록하고 의존성을 주입하는 방법이 있다. 1. Context and Dependency In…]]></description><link>https://seonghoon.xyz/jakarta-injection-api/</link><guid isPermaLink="false">https://seonghoon.xyz/jakarta-injection-api/</guid><pubDate>Thu, 22 Feb 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Spring에서는 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt;를 이용하여 Bean을 등록하고 의존성을 주입하는 방법을 사용한다. 하지만 해당 어노테이션을 이용하지 않고 스프링 컨테이너에 Bean을 등록하고 의존성을 주입하는 방법이 있다.&lt;/p&gt;
&lt;h2 id=&quot;1-context-and-dependency-injection-cdi란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-context-and-dependency-injection-cdi%EB%9E%80&quot; aria-label=&quot;1 context and dependency injection cdi란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Context and Dependency Injection (CDI)란?&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 530px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/debdf747dddd0fa962f3c810608887bb/b6a9b/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACxklEQVQoz1WSa0iTYRTHHxHU8hqokUFesm8FQiYUZtMkIxZoRgop4RdbF610rbznBbXIwnIRMUm8MTRFjWm56UzNlZfZdFM3bzMvQ+fu9T67PO/79KZ+qPPhcL78+f/+5xxAwMEt7WeNpsfuGNTpFs+cfhl0pPjY0bKQoNILsdyoyOpDBwv5/G9K1dKIRGk2WzHGFEXhnQLQqjAaJ02mHwjNmCx6zpNhFlt4h9OXkSPOyOm7zRGxskWiftW88qdsapWADlpLkoiiSHoAVptgdo43O8sjbB/R7+kRVqqIGd1/JU4cH9ubeq035ar4MkPR1qqanFqSjCDiF96x3nPG2I6xg6Lojq167ZfU+N6LkUImQ3TprPB6giCR+Sk6Qt3dtrkg18pGEaF3kBqTaZkgVjHeArsZEEljYLPFVlQxlJXfxynqzy0ZuHGrs7ZF3tqzwGZ3PczuLC8XIXKWgPw55dsNTR2FBWAXgCT/kqjV+v37HgCQ7uR009mZBUBaQmLt02ei8zE1MTHcpKQ6CCHG0G63OBw0P6TFCxaLzGSWYby0trbq41Pg51cQHFwaElIGwL2UlKbvo+rKCmH1q4HmJilC6xhLNjeFBBzGeALYHT3Ly/Uq1XtECrRahb9/oa9vflwcN/xUFQB3E5Mb2LmC8JNVUedeM5nvLBYdxloI10lyC+NtQFGQpCBCBL22lRWdu/tjADKdnLKcnbMAYCUn1ysUGi53mMeTtLfLHYjWKPT6MQLSpMr/Mq+vmwICit3cHnl45Hh55QFwPy29NZPddTig8PiJSgajxmyhsZUGgxRa5RjPA7tdaTTJjEYZQnM2m6GjY7q5eZzPn/jQIn3Dk7R2TIn7lY2N4w0NY93dMwhR/5wZ05mlBsPX7e0hCks3NIuBgSU0ubd3rqdnTkTEi9DQMhcXzoEDea6unLCw52Yz3MHc+7A/dgv17nX475oAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;alt text&quot;
        title=&quot;alt text&quot;
        src=&quot;/static/debdf747dddd0fa962f3c810608887bb/b6a9b/image.png&quot;
        srcset=&quot;/static/debdf747dddd0fa962f3c810608887bb/12f09/image.png 148w,
/static/debdf747dddd0fa962f3c810608887bb/e4a3f/image.png 295w,
/static/debdf747dddd0fa962f3c810608887bb/b6a9b/image.png 530w&quot;
        sizes=&quot;(max-width: 530px) 100vw, 530px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
Context and Dependency Injection (CDI)를 이용하면 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@Autowired&lt;/code&gt;를 이용하지 않고 Bean을 등록하고 의존성을 주입할 수 있다.&lt;/p&gt;
&lt;p&gt;CDI는 자바 엔터프라이즈 애플리케이션(EE)개발을 위한 스펙이며, Java EE (현재는 Jakarta EE)에서 사용되는 기술 중 하나이다. CDI는 컨텍스트와 의존성 주입을 통해 관리되는 Component-Based Application을 지원하고,
여러 Java EE 컴포넌트간에 통합적으로 사용할 수 있는 컨텍스트와 의존성 주입을 지원한다.&lt;/p&gt;
&lt;p&gt;즉 &lt;code class=&quot;language-text&quot;&gt;의존성 주입&lt;/code&gt;을 수행하는데 사용할 수 있는 표준 스펙(인터페이스)이다&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CDI에는 Injection 관련 API 어노테이션이 정의되어 있다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@&lt;strong&gt;Inject&lt;/strong&gt; (스프링의 @Autworired )&lt;/li&gt;
&lt;li&gt;@&lt;strong&gt;Named&lt;/strong&gt; (스프링의 @Component)&lt;/li&gt;
&lt;li&gt;@Qualifier &lt;/li&gt;
&lt;li&gt;@Scope&lt;/li&gt;
&lt;li&gt;@Singleton&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;2-cdi를-이용한-bean-등록-및-의존성-주입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-cdi%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-bean-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85&quot; aria-label=&quot;2 cdi를 이용한 bean 등록 및 의존성 주입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. CDI를 이용한 Bean 등록 및 의존성 주입&lt;/h2&gt;
&lt;p&gt;Spring Framework에서는 Bean으로 등록하기 위해선 @Component 어노테이션을 사용한다. 또한 의존성 주입을 위해 @Autowired 어노테이션을 사용한다.&lt;/p&gt;
&lt;p&gt;CDI를 이용하면 해당 어노테이션을 사용하지 않고 Bean을 등록하고 의존성을 주입할 수 있다.&lt;/p&gt;
&lt;h3 id=&quot;21-의존성-추가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#21-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80&quot; aria-label=&quot;21 의존성 추가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.1 의존성 추가&lt;/h3&gt;
&lt;p&gt;CDI를 사용하기 위해서는 jakarta.inject-api 의존성을 추가해야 한다.&lt;/p&gt;
&lt;p&gt;Maven을 사용한다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jakarta.inject&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;groupId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;jakarta.inject-api&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;artifactId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;2.0.1&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;dependency&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Gradle을 사용한다면&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;groovy&quot;&gt;&lt;pre class=&quot;language-groovy&quot;&gt;&lt;code class=&quot;language-groovy&quot;&gt;implementation &lt;span class=&quot;token string&quot;&gt;&apos;jakarta.inject:jakarta.inject-api:2.0.1&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;22-component-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#22-component-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;22 component 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.2 Component 등록&lt;/h3&gt;
&lt;p&gt;CDI를 이용하여 Bean을 등록하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt; 어노테이션을 사용한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;jakarta&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Named&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Named&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyBean&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;23-의존성-주입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#23-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85&quot; aria-label=&quot;23 의존성 주입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.3 의존성 주입&lt;/h3&gt;
&lt;p&gt;CDI를 이용하여 의존성을 주입하기 위해서는 &lt;code class=&quot;language-text&quot;&gt;@Inject&lt;/code&gt; 어노테이션을 사용한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;jakarta&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inject&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Inject&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Named&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Inject&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyBean&lt;/span&gt; myBean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; myBean&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;24-main-application&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#24-main-application&quot; aria-label=&quot;24 main application permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.4 Main Application&lt;/h3&gt;
&lt;p&gt;스프링 컨테이너를 생성하고 &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt;로 선언한 클래스들을 Bean으로 가져와 사용할 수 있다.
또한 &lt;code class=&quot;language-text&quot;&gt;@Inject&lt;/code&gt;로 선언한 필드에 의존성이 주입된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@ComponentScan&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CdiContextApplication&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigApplicationContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CdiContextApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Arrays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBeanDefinitionNames&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// MyBean, MyService&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MyService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sayHello&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Hello&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;25-실행결과&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#25-%EC%8B%A4%ED%96%89%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;25 실행결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.5 실행결과&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;org.springframework.context.annotation.internalConfigurationAnnotationProcessor
org.springframework.context.annotation.internalAutowiredAnnotationProcessor
org.springframework.context.annotation.internalCommonAnnotationProcessor
org.springframework.context.event.internalEventListenerProcessor
org.springframework.context.event.internalEventListenerFactory
cdiContextApplication
myBean
myService
Hello &lt;span class=&quot;token comment&quot;&gt;# MyService.sayHello() 메소드 실행결과&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;스프링 컨테이너에 MyBean, MyService가 Bean으로 등록되어 있고 &lt;code class=&quot;language-text&quot;&gt;myService.sayHello()&lt;/code&gt; 메소드를 실행하면 &lt;code class=&quot;language-text&quot;&gt;myBean.sayHello()&lt;/code&gt; 메소드가 실행되어 &quot;Hello&quot;가 출력된다. 정상적으로 Bean이 등록되고 의존성이 주입된 것을 확인할 수 있다.&lt;/p&gt;
&lt;h2 id=&quot;3-스프링에선-어떻게-cdi-어노테이션이-부착된-클래스를-bean으로-인식하는-걸까-componentscan-동작원리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-%EC%8A%A4%ED%94%84%EB%A7%81%EC%97%90%EC%84%A0-%EC%96%B4%EB%96%BB%EA%B2%8C-cdi-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EC%9D%B4-%EB%B6%80%EC%B0%A9%EB%90%9C-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%A5%BC-bean%EC%9C%BC%EB%A1%9C-%EC%9D%B8%EC%8B%9D%ED%95%98%EB%8A%94-%EA%B1%B8%EA%B9%8C-componentscan-%EB%8F%99%EC%9E%91%EC%9B%90%EB%A6%AC&quot; aria-label=&quot;3 스프링에선 어떻게 cdi 어노테이션이 부착된 클래스를 bean으로 인식하는 걸까 componentscan 동작원리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. 스프링에선 어떻게 CDI 어노테이션이 부착된 클래스를 Bean으로 인식하는 걸까? (@ComponentScan 동작원리)&lt;/h2&gt;
&lt;p&gt;스프링 컨테이너를 생성할 때 &lt;code class=&quot;language-text&quot;&gt;@ComponentScan&lt;/code&gt; 어노테이션을 사용하여 스캔할 패키지를 지정한다. 일반적으로 스프링 컨테이너는 해당 패키지를 스캔하여 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt; 어노테이션이 붙은 클래스를 찾아 Bean으로 등록한다.&lt;/p&gt;
&lt;p&gt;하지만 &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt; 어노테이션은 스프링에서 제공하는 어노테이션이 아니기 때문에 컴포넌트 스캔 시 어떻게 인식하는지 코드를 확인해보자.&lt;/p&gt;
&lt;p&gt;우선 스프링 컨테이너 내부를 살펴보자 (&lt;code class=&quot;language-text&quot;&gt;AnnotationConfigApplicationContext&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// AnnotationConfigApplicationContext (스프링 컨테이너) 내부에 멤버 변수를 보면 ClassPathBeanDefinitionScanner가 있다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigApplicationContext&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GenericApplicationContext&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigRegistry&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotatedBeanDefinitionReader&lt;/span&gt; reader&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassPathBeanDefinitionScanner&lt;/span&gt; scanner&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// scanner.doScan() 메소드를 통해 컴포넌트 후보를 찾는다.&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ComponentScan 시 Component 어노테이션이 붙은 클래스를 찾아 Bean으로 등록하는데 해당 기능을 수행하는 클래스는
스프링 프레임워크에서 제공하는 &lt;code class=&quot;language-text&quot;&gt;ClassPathBeanDefinitionScanner&lt;/code&gt; 클래스이다. &lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;scanner.doScan()&lt;/code&gt; 메소드를 통해 컴포넌트 후보를 찾는다.&lt;/p&gt;
&lt;p&gt;해당 클래스의 &lt;code class=&quot;language-text&quot;&gt;doScan()&lt;/code&gt; 메소드는 스프링 컨테이너의 생성방식에 따라 호출되는 경로가 다르지만 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@ComponentScan&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CdiContextApplication&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigApplicationContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CdiContextApplication&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt; 어노테이션을 기반으로 스프링 컨테이너를 생성했다면 &lt;code class=&quot;language-text&quot;&gt;AnnotationConfigApplicationContext(Class&amp;lt;?&gt;... componentClasses)&lt;/code&gt; 생성자에 의해 &lt;code class=&quot;language-text&quot;&gt;refresh()&lt;/code&gt; 메소드 내부에서 &lt;code class=&quot;language-text&quot;&gt;doScan()&lt;/code&gt; 이 호출된다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;doScan()&lt;/code&gt; 메소드 내부를 살펴보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassPathBeanDefinitionScanner&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// doScan() 메소드를 통해 컴포넌트를 찾는다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanDefinitionHolder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doScan&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; basePackages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanDefinitionHolder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; beanDefinitions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LinkedHashSet&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; basePackage &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; basePackages&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanDefinition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; candidates &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findCandidateComponents&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;basePackage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 컴포넌트 후보를 찾는다. &lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// (이때 어노테이션을 기반으로 클래스를 Bean 후보로 등록함)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanDefinition&lt;/span&gt; candidate &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; candidates&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
                beanDefinitions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanDefinitionHolder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; beanDefinitions&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;doScan()&lt;/code&gt; 메소드 내부에서는 &lt;code class=&quot;language-text&quot;&gt;findCandidateComponents()&lt;/code&gt; 메소드를 통해 컴포넌트 후보를 찾는다.
해당 메소드는 상속받은 &lt;code class=&quot;language-text&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/code&gt; 클래스의 메소드이다.&lt;/p&gt;
&lt;p&gt;해당 클래스를 살펴보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnvironmentCapable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResourceLoaderAware&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// includeFilters에 등록된 어노테이션을 기반으로 클래스를 찾는다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TypeFilter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; includeFilters &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 해당 메소드를 통해 includeFilters에 기본적으로 인식할 어노테이션을 등록하는데 살펴보면 @Component 어노테이션, @ManagedBean 어노테이션, @Named 어노테이션을 필터로 등록되있다.&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;registerDefaultFilters&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;includeFilters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationTypeFilter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token class-name&quot;&gt;ClassLoader&lt;/span&gt; cl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getClassLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;includeFilters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationTypeFilter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Annotation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassUtils&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;jakarta.annotation.ManagedBean&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;JSR-250 &apos;jakarta.annotation.ManagedBean&apos; found and supported for component scanning&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ClassNotFoundException&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// JSR-250 1.1 API (as included in Jakarta EE) not available - simply skip.&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;includeFilters&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AnnotationTypeFilter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
					&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Annotation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassUtils&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;jakarta.inject.Named&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;JSR-330 &apos;jakarta.inject.Named&apos; annotation found and supported for component scanning&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ClassNotFoundException&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token comment&quot;&gt;// JSR-330 API not available - simply skip.&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;


    &lt;span class=&quot;token comment&quot;&gt;// 해당 메소드를 통해 includeFilters에 등록된 어노테이션을 기반으로 클래스가 컴포넌트 인지 판별한다&lt;/span&gt;
	&lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isCandidateComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MetadataReader&lt;/span&gt; metadataReader&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TypeFilter&lt;/span&gt; tf &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;excludeFilters&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metadataReader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMetadataReaderFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TypeFilter&lt;/span&gt; tf &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;includeFilters&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tf&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metadataReader&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getMetadataReaderFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// @Component,@ManagedBean, @Named 어노테이션이 등록된 클래스인지 확인한다.&lt;/span&gt;
				&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isConditionMatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metadataReader&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;isCandidateComponent() 메소드를 통해 includeFilters에 등록된 어노테이션을 이용하여 metadataReader (패키지에 있는 클래스 정보) 와 filter를 하나씩 match 하면서 컴포넌트 후보 판별을 수행한다, 즉 스캔된 클래스가 Component 후보 인지 판별하게 된다.&lt;/p&gt;
&lt;p&gt;includeFilters는 List&lt;TypeFilter&gt; 타입으로 기본적으로 &lt;code class=&quot;language-text&quot;&gt;@Component&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@ManagedBean&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt; 어노테이션을 필터로 등록되어 있다.&lt;/p&gt;
&lt;p&gt;즉 &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt; 어노테이션이 스프링 컨테이너에 Bean으로 등록되는 이유는 &lt;code class=&quot;language-text&quot;&gt;ClassPathBeanDefinitionScanner&lt;/code&gt; 클래스 내부에서 &lt;code class=&quot;language-text&quot;&gt;ClassPathScanningCandidateComponentProvider&lt;/code&gt; 클래스를 통해 &lt;code class=&quot;language-text&quot;&gt;@Named&lt;/code&gt; 어노테이션이 등록된 클래스를 찾아 Bean으로 등록하기 때문이다.&lt;/p&gt;
&lt;h2 id=&quot;4-마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;4 마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. 마무리&lt;/h2&gt;
&lt;p&gt;Java 표준 스펙인 CDI를 이용해 여러 Java EE 컴포넌트간에 통합적으로 사용할 수 있는 컨텍스트와 의존성 주입을 지원하는 방법을 알 수 있다.&lt;/p&gt;
&lt;p&gt;해당 방법을 꼭 알고 사용할 필요는 없지만 Java 진영에서 예전부터 이러한 기술을 표준 스펙으로 제공하고 있었음을 알 수 있다.
따라서 Spring Framework가 아닌 Java 진영의 여러 IoC 컨테이너를 사용할 때 해당 기술을 사용할 수 있다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[23년도 하반기 회고 - 우물 안 개구리]]></title><description><![CDATA[벌써 12월 상반기 회고를 작성한게 얼마안된거 같은데 이제 하반기 회고를 작성할 시기가 되었다.
이전 회고와 달리 미루지 않고 글을 올리려고 마음을 먹어서.. 올 한해 내가 무엇을 얻고 깨닫게 되었는지 얘기해볼려고 한다. 본격 취준생 여름방학 8월달…]]></description><link>https://seonghoon.xyz/23-second-half/</link><guid isPermaLink="false">https://seonghoon.xyz/23-second-half/</guid><pubDate>Wed, 06 Dec 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;벌써 12월 상반기 회고를 작성한게 얼마안된거 같은데 이제 하반기 회고를 작성할 시기가 되었다.
이전 회고와 달리 미루지 않고 글을 올리려고 마음을 먹어서.. 올 한해 내가 무엇을 얻고 깨닫게 되었는지 얘기해볼려고 한다.&lt;/p&gt;
&lt;h2 id=&quot;본격-취준생&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%B8%EA%B2%A9-%EC%B7%A8%EC%A4%80%EC%83%9D&quot; aria-label=&quot;본격 취준생 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;본격 취준생&lt;/h2&gt;
&lt;p&gt;여름방학 8월달 부터 취준을 시작했다.
&lt;code class=&quot;language-text&quot;&gt;개발자는 무조건 서울이다&lt;/code&gt; 라는 생각을 가지고 서울권에 있는 여러 회사에 지원해보고 이 중 몇 군데 면접과 좋은 결과를 받았다. 그 중 좋은 결과를 받거나 영향을 받은 회사에 대해 얘기 해볼려고 한다.&lt;/p&gt;
&lt;p&gt;이 중 AI 스타트업은 개인적으로 고민도 많이하고 결정을 내렸다.
서울 중심에서 근무를 하게되는데 준비 과정에서 회사에 대한 얘기를 많이 찾아보고 보게되었는데 금전적인 보상이 많이 아쉽다는 말이 나왔다. 월급이 밀린다는게 큰 문제점이라 입사 프로세스를 포기했다.&lt;/p&gt;
&lt;p&gt;서울에서 취직을 하는 목표를 달성 하겠지만 금전적 보상이 밀린다는 것은 나에겐 하이 리스크이다. 스타트업이라 역량을 키우기에는 좋겠지만 서울 스타트업이나 지방 스타트업이나 좋은 아이템으로 회사를 운영한다면 차이가 없다고 생각한다. 그리고 나는 지방에 있는 대학교에서 생활하고 지방에서 생활하는 사람이다. 즉 서울에 집이 없다 이게 큰 문제점이다.&lt;/p&gt;
&lt;p&gt;불확실한 미래에 투자하기에는 내가 금전적으로 가진게 많이 없다. 그래서 포기하게 되었다&lt;/p&gt;
&lt;p&gt;이후 인프랩 서류 전형을 합격했고 과제 전형을 진행했다.
과제는 인프런의 기술 스택을 적용해 요구조건에 맞는 프로젝트를 구현하게 되었다.
이때까지 스프링에 대한 역량을 키우고 있었지만 백엔드 개발자가 지녀야할 기본적인 원리를 이해한다면 NodeJs 라도 충분히 할 수 있겠다고 생각해서 전형을 진행했다.&lt;/p&gt;
&lt;p&gt;올해 3월에는 NestJs로 졸업작품을 진행했었고, 에트리 인턴때도 NodeJs로 백엔드 서버를 개발했었으니 기본적인 구현은 가능했다.&lt;/p&gt;
&lt;p&gt;그렇게 과제를 제출하게 되었고 결과를 기다리니 합격 했고 면접을 보라고 메일이 왔다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f5d4feaa006dad57c02d42605f4593af/5fd3e/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.54054054054055%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAElEQVQ4y51T227TQBD1j/I58BvtQ58wD1RIQYiKRCgSIEFoc3Pi3JrYjePYSXxL4vVeDrvr1i00PMDIRzM7M3t8vDs2IIASApxzDeil0HhmAlWeS58L+liSayNhOQZsgwXSqqBIHwifEj+NPZHiA5vgDbXwlbnYi0Lnjf3xgFb7Gt9+fEfr+ifG4zFOmSZDSZbJzRO+RZ8H+CLJHB5jynelwnC3wfk7ExeXJs7PzmCaJqIogu/7CMMQ6/X6N4XKiGB4S4ewJamyBpujxbxSYUj3MNMumukM9UYDtVoNH6+u8FoS1+t1fJJIs6w6MybKM76gXbzIL/GSNPFKQinUhOL+MiAfwcpmXlAIyh+/lz+/HEckeM/GaHIHbb4GASsJc07hFQmWEh5NpY91rLybR7gjEZYkxt19rOBK+CRBTA7YkT1Ckum6yhlUqouOOZL8gPiYIZVNR17gyIrSV6AVlIiDzO05kSh0rHqIzBtZEmLY/ozb6RT20MZ65Vfz9j9mFHmM7aqHzSaU2IAU9J8I/pxXQxH4wVaOSowwWOLWamBkW1gsHMxmM4xGIxkv4DgOVquVHiPP8/TLT/1VRpqm6Pe6enO324E9uEG/30On08FgMNDesizYtq0xlUejeufz+ckZNfI814UgUAiw3UVa0WQygeu62isoEqXwb5/9YL8AvoPfCiNI8aEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/f5d4feaa006dad57c02d42605f4593af/fcda8/1.png&quot;
        srcset=&quot;/static/f5d4feaa006dad57c02d42605f4593af/12f09/1.png 148w,
/static/f5d4feaa006dad57c02d42605f4593af/e4a3f/1.png 295w,
/static/f5d4feaa006dad57c02d42605f4593af/fcda8/1.png 590w,
/static/f5d4feaa006dad57c02d42605f4593af/5fd3e/1.png 594w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그렇게 백엔드 개발을 공부하는 학생이라면 대부분 알고 있을 이동욱(&lt;a href=&quot;https://jojoldu.tistory.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;기억보단 기록을 블로그&lt;/a&gt;)님을 만나 뵙게되었다.&lt;/p&gt;
&lt;p&gt;처음으로 개발자 도시 판교에 가게 되었고 두근두근 하는 마음으로 면접에 임하게 되었다 3분이 참석하셨고 이력서와 내가 제출한 과제를 기반으로 여러 질문이 오갔다. &lt;/p&gt;
&lt;p&gt;좋은 영향을 주시는 분들과 얘기를 하게 되어서 매우 좋은 경험과 기회였고 개인적으로 취준을 위한 역량이 아직 안올라왔다고 생각해 많이 아쉬웠지만 다음에도 기회가 있다면 가고싶은 회사라 생각이 든다.&lt;/p&gt;
&lt;p&gt;그렇게 해서 바쁜 여름방학이 흘러가게되었다.&lt;/p&gt;
&lt;h2 id=&quot;아트스코프는-꾸준히-성장-중&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%95%84%ED%8A%B8%EC%8A%A4%EC%BD%94%ED%94%84%EB%8A%94-%EA%BE%B8%EC%A4%80%ED%9E%88-%EC%84%B1%EC%9E%A5-%EC%A4%91&quot; aria-label=&quot;아트스코프는 꾸준히 성장 중 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;아트스코프는 꾸준히 성장 중&lt;/h2&gt;
&lt;p&gt;10월달 부터 아트스코프에 새로운 백엔드 개발자가 합류하게 되었다.
백엔드 길을 걷게된 시기가 6개월도 안된 후배인데 인턴 느낌으로 참여하게 되었다.
개인적으로 아트스코프 백엔드를 혼자 하다보니 피로감이 매우 컸었는데 덕분에 많이 부담을 덜게 되었다.&lt;/p&gt;
&lt;p&gt;온보딩을 시작했고 프로젝트에서 사용하는 기술스택에 대해 개념을 설명해 드렸다. 그리고 전체적인 서버 구성과 데이터베이스 모델에 대해서도 알려드렸다.
그리고 본격적으로 Task를 배정했다.&lt;/p&gt;
&lt;p&gt;백엔드 개발 시작이 얼마 안되셨지만 잘 따라오셨고 좋은 성과를 내셨다.
덕분에 기능 구현이 우선이였던게 이제는 설계와 리팩터링을 더욱더 집중해서 할 수 있게 되었다.&lt;/p&gt;
&lt;p&gt;그렇게 해서 아트스코프는 더욱 더 예술 플랫폼을 확장하고 정체성을 가꾸게 되었다.&apos;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9da6dd1b2e80f640cfd5506b445a3d74/62da8/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0UlEQVQoz3WTa0gUURTHhwgl6EHSBz+sWra2goqGSfgC06S2KFB7qCXVSrWrSKVZIaUfokisiD6IlFiIYJQllejquhumVhaVWdqDdNf1sS9tcx8z+3D8d+/oWn7owOXMnDv3d8/5nzOMyWSCxWIBNZ7nYbfb4WRZeDweITY3Nycs375ndhZOrR72ga9wcRwcTid4EmM9XozbWDBWqxWzJECNQrS6URiNJtA4BfiAlEkPesl3lqoaGA4VQT+iw+fBIejIGZ2OXDJjA2M2m8GRm6i5XC6MaHWC92XkWxTq9XoJlMfTznbcrq/D1PQvaLXzsJ/DWlh/z4CZnDTA4XAsAmj5HMcSAI//Wb1ahQt1d2CZmsLY+ARYlhMWx7nA2O0O4YFa39sPSJNmIzP7BLJyFDhwuBAZB08iL78UNbXNuFX9AJkknpEhw5FcOQaHvi1KZLMR7Z1EQ7fbs9iAtvYXWBEgQVBYAoI2JRGfiMDQeCSl5eDajXu4XFmLuPjdWL4yBIEhMQT4XcjSaDIvZMiBoSBfU5SqLvitDkNweAo2RqUjLFpKgMnIPXYOMnk59hw4jZQdufBfI0ZErBRfhn6QDHUwGOikTINWy1CxeX5+LOhNd+sa8fBxKzo1r6Dp6kOHuhcqTS+6e9+j581H8t6D560awU9MGjE8ohUaOUyaQkeO8TWDWn//APZn5+FofgHyFcWQnypDSdlVnC+vQuml6yi5WIWC4grIFCU4XniWlDsNt9uNGTIuLJldmtiSktuUHVjmvxYBokiERqchWZqHzYl7sT4yBeKYdIgkCVgniiD7UQiWxGNUP4F/E6LVLtWwXQW/VYGQxO3C9iwFZEXlkJ+pQNy2fQiP3QlxdCpE4i3YEJWKiK1S6Mf+Auel45eWPKofw5XKm6iubUBLRzfUL/vw+t0nKImOTc9UeNKixqNmJeobm3G/oQn2hfn1/ZrU/wFmrQEo8MG5DQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/9da6dd1b2e80f640cfd5506b445a3d74/fcda8/2.png&quot;
        srcset=&quot;/static/9da6dd1b2e80f640cfd5506b445a3d74/12f09/2.png 148w,
/static/9da6dd1b2e80f640cfd5506b445a3d74/e4a3f/2.png 295w,
/static/9da6dd1b2e80f640cfd5506b445a3d74/fcda8/2.png 590w,
/static/9da6dd1b2e80f640cfd5506b445a3d74/efc66/2.png 885w,
/static/9da6dd1b2e80f640cfd5506b445a3d74/c83ae/2.png 1180w,
/static/9da6dd1b2e80f640cfd5506b445a3d74/62da8/2.png 1262w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Elasticsearch를 이용한 통합검색과 도메인 별 &lt;code class=&quot;language-text&quot;&gt;검색 기능&lt;/code&gt;이 추가되었다.
기존에 검색 기능은 있었다. MySQL RDB 상에서 LIKE 절을 사용해 검색어를 포함하는 게시글과 작품을 검색하는 기능이였다. 향후 많은 글과 작품이 여러개 추가될 것을 고려했고 또한 &lt;code class=&quot;language-text&quot;&gt;LIKE &apos;%...&apos;&lt;/code&gt; 인덱스를 사용하지 못하므로 더 나은 검색을 도입해야한다고 생각했다. &lt;/p&gt;
&lt;p&gt;그렇게 해서 Elasticsearch를 도입했다.
그냥 도입만 해서 검색 API를 개선해서 사용하는게 아닌 기존에 가지고 있던 게시글과 작품 여러 도메인 문서들을 검색엔진에 추가하는 과정이 필요했다.&lt;/p&gt;
&lt;p&gt;그렇게 해서 Logstash를 이용해서 주기적으로 SQL문을 이용해 MySQL 데이터를 스크랩해 ES에 저장해주는 데이터 파이프라인을 구축했고 현재 잘 사용하고 있다.&lt;/p&gt;
&lt;p&gt;이 관련 내용은 메가콘(학술동아리 기술 컨퍼런스)에서 발표도 했고 관련 영상도 있다.
추후에 블로그에 검색 관련 게시글을 작성할 예정이다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/88c2bda7852bea3f6899a4db07a387ba/a016c/3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 136.48648648648648%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAADh0lEQVRIx31UyU7bUBTld/oV7aLqrv/QVT+gn9CqAwtUVrBpaUVbqRuEgIqmEAgtYyCQxMQZHGciI3EmMtuOc/ruMwmxMzzpyvbTe9f3nHvOnev3+8gXCojKMXS7KmjRnj0G+7Q6nQ7a7TYMw+DR6/XQZns6e87RgWJRQUSKIp3OIJvN8cP2NZq40WiwO0W0Wq3hXk/r0inM0UalWkWVBf2FDlerNdzd3fF3elIV0yqnqk59ITiOriAls5ijw+lMFnIsjlK5jHg8gUAgAL9fQDgcRqlUsiQcrZiWpvfwY8eD+e+7cJwFGWS2TxdUVYOmacjmcixpnEPPsXdVVS0J7LxSwpUDEYu/vdj1JUwORxfxN43DSd89VsxxKIm9QBzRfOkBcjJ1gxrjizgjmIqicF7pnbo4DTJxuLHvxtJPB058YbMp5XKFJ200mpAkCVdXXng8lxAEgTfIDtPO4dpREMtb53B5Y1bIXJP5PJLJFK+OgnidBVllCZd2vfjAEjp8MbNCCoJuv2S/PKlCw+jDJyVxLERwU7jnkCQTCkcY9DLvMMkmEBAhyzLrdnYmhwR59dcR3q1sYuf02qyw2WyxZtRZdzvMLWlEIhLTYITxGWVuaI85xdoUA5sXCXx1hXAkpsdlU6vVeKUDn06Ca+GQVf/pnweLznM4xdQDh4ND9XqdJTWlQx4nGU2rkH9pBoRvRRx/lNA6ue/yA8EGfD4/lwxZLxaL8QEwySHDhG0Na0/DeP1oD8H5M2tCehbYKCPYs9YwOU+oQnjuxtuXfyAv+K0JaVFFZD2aeQSXvpvNJp88FANbDotgsmkJCho7GWjJ6jiHJJtQKIxgMMgdQxWT2BOJBDKZDCqVilU27BmSblG4jqLSHkk4CLKeKIo8MTllFmQ+HLo6Eu44pFQEt6X8uGy63e50zkY7PeDQuG8o06Om6aZTFKXEYBU4VxQEq1KpcglRlbMGbI8l2vp7gc/rTnjEqJmQhqosmxObprTn8hJu9zmXEI2xWV4m660filjecOPganQ4sD9RKEzQ5F8aW1TdJB/bp83yvg/z225s+2N2DvucQ5LM4JKu6zO9TEWcuBNwuuJISopVNgQ/GpU5bEG4ZtIJcQvOtF5Hh+PFDVYfH+L2y+m49Ug2NGWoUaMingTZdEoXe0+8ePVsH/43wrj1qLODKT2tEZaEqo78+wBcCyeobkXwH2t/CZRi+XNIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/88c2bda7852bea3f6899a4db07a387ba/fcda8/3.png&quot;
        srcset=&quot;/static/88c2bda7852bea3f6899a4db07a387ba/12f09/3.png 148w,
/static/88c2bda7852bea3f6899a4db07a387ba/e4a3f/3.png 295w,
/static/88c2bda7852bea3f6899a4db07a387ba/fcda8/3.png 590w,
/static/88c2bda7852bea3f6899a4db07a387ba/a016c/3.png 762w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
그리고 이벤트가 추가되었다.
여러 전시와 행사들을 모아서 보여주는 기능인데 간단해 보이지만 생각보다 많은 시간을 쏟았다.  &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/98d01554272e7734d4901d1da0e29a83/898f6/4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 147.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE6klEQVRIx6WWWUycVRTHJ7UuDyZqXGpRocwwDExtsTGWmJrogz4ZrVtt2pTYBaTLUGAKbYGy72spNcbEtBqjiUJjfDA+6INarGkoMAwMtFhbYJiFGZgywDClzPLz3g+YUB+Utif5z73fd8/3v+fce5ZRzc/P037hTzoudTI0PMzFjg6uDw0hJRwOK/gvWa5z69YtVMFgUCG6+vc1QTTM8MgI4xMTuN3jBAKByEcrJpQWdvf0MCSJPB48k5PcnJvD5/czLzYLhkIEIgguQ+g2SL25OUEYmA8wZnficrhw2ce4FwkFQ6hm525y9ucf+eyHc5z55Se+72jnu44/aOu9RFtfJ+cGepR5q0SneN95gVbTRVoHzbReNtFmkTrdnOu6gMMzgco9M8W6jJ3Epm8n+mgaUbu3ElV0iKjKI6ytEijPYk2VkScqsomqyyeqPJe1dQU801LG000nWHPqBM82FxJdZOBXcxeqcZ+Pjceyic9KJS4nHe3R/WgLMogvy0N/uhZ9QxUJzTXE1Rajb6xC21xLYstJEutrSWisRtdYwfqiPBILczhvMQvC6Wn0RgPrDqWgy96LpuQwamGZNv8wcSW56KuKSKwrRFuUSUJ+FnHVheg+EaR1FcRXFxNfItaMGagPfMT5gT5BOONjfXEu67K3C8t2oys/RNzpo+LDDHSVBvSl+0koTkNXmkpigfAiL41Y8RxXl4mmLBVt5WE0TXnEHkuhvb9HnOGUl4SCvcRkf4A6fxfqkr3CLSOalkziWoxoW7LQnjIS35yDpt6AujwVdUU6z1UL4po9xDbvQ/1pFrH16fw+KF32etDvfBXdti1syN3Jprw9vJizg5cNW9l84G02p71J8sF32ZL5Ia8YtvGS4X2SM3awKeUNNhx8i6TMd0gq3IWmYR+/DfWjco25UD+cROwDetY/lczzj21BuzoJzaqN6B9KRn/fC2hWb0a/KoYEVQzq+9TErF5DtOpJou9/Dc2DW4l99D0ef+R1zrebUPl9fsoM9RxJqSBvdxmlH5dSfqCKyqwWanLOUJ1zltrj39BU9BUNeV/SdPxzGnOKqTNWUnPkC1pOfMvJY200GL9m5KoTlYzwm67LWAfasQ9exO8aEElpB78VZq6JuUNqyDwQmBJwC0yKJJ6AgNAL2BYQFAjNoQqJHHQ7HYzZbNhGhkUa2kQa2nGMjirvJsbGxDjK6NB17FarWLeLFLXhFVkxOzWFz+vFJy5WjrKYCMIwloErokD00tndg7mvn47ObgWXukxY+i9jMvdF1rtNZmX03JjEN+tnZmZWwbRAIBBEJUuPpX+AHnMvph6zMpp7+wRhF13dJoWgz9KvwGodxTpqw+Fw4vNJIp8COfeJjIsQLq9t8qU8BlknJZbm0p0l3QW9gKIrMT09w+SkV+iFFghdLpdSZO1i57sRySE3lhIhdLncyk5yIaQohBfGFSC8DAqhx3MD9/i4Qhb+l8JKsWSEEocOp5Nei0W4PaKc16Ifd+H2ooV2h4MREWOylyxvPHds5RKhUwSv7HgLN3mPhNJ3l9uNze6IuHtPZygfZA+W5zcrIn9OuL0UAishuq3rKRaKH3l+Vwb/UkjHRAjJXr0SQilTooXcEGk4IzJFGqJYKElsNnvEsjsRmXZeUSRmxR+DCKESzKHwYpqFFp//H8FlBixd5j+gNa+2s+83cQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/98d01554272e7734d4901d1da0e29a83/fcda8/4.png&quot;
        srcset=&quot;/static/98d01554272e7734d4901d1da0e29a83/12f09/4.png 148w,
/static/98d01554272e7734d4901d1da0e29a83/e4a3f/4.png 295w,
/static/98d01554272e7734d4901d1da0e29a83/fcda8/4.png 590w,
/static/98d01554272e7734d4901d1da0e29a83/898f6/4.png 798w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이벤트에는 장소도 포함이 되어야하고 여러 일정을 하루 단위로 작성할 수 있도록 했어야 했다. 이렇게 해서 완성된 모습은 위 사진처럼 나오게 되는데 현재는 일부 요구사항이 변경되어 바뀔 예정이다.&lt;/p&gt;
&lt;p&gt;전시에 관심이 있거나 여러 예술 이벤트를 쉽게 접할 수 있도록 관람 일정을 하루 단위로 뿌리도록 하였고 원하는 일정을 캘린더에 추가해서 참가를 유도할 수 있도록 하였다.&lt;/p&gt;
&lt;p&gt;해당 도메인은 새로 참가한 인턴 후배가 구현했다. 과정 속에는 여러 기술적인 얘기를 많이 했었고 최선의 방향으로 백엔드 개발을 진행할 수 있도록 이끌었다.&lt;/p&gt;
&lt;p&gt;마지막으로 &lt;code class=&quot;language-text&quot;&gt;아고라&lt;/code&gt;가 추가되었다.
아트스코프 참가하시는 분들과 오프라인 미팅에서 이런 저런 아이디어를 얘기를 하다가 학교에서 트렌드 코리아 공저자의 강연을 참석했었는데 발표 중 일부 내용이 생각이 났었다.&lt;/p&gt;
&lt;p&gt;최근 AI 미술 작품이 미국 미술 경연에서 1등을 했다고 한다.
많이 화두가 되었는데 예술계에서는 AI 로 인해 많은 변화가 일어나고 있다. 미팅때 관련 발표 내용과 AI 얘기를 하다가 문득 작가분들, 예술을 좋아하시는 분들의 생각이 궁금해졌다. 이런 주제로 얘기할 수 있는 공간이 있었으면 좋겠다고 얘기했었다. &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c59b40793fc226d6d2d03915abcf9742/96e92/Pasted%20image%2020231206155525.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 110.8108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADg0lEQVQ4y5VVy44bRRTtVbb5A4SUz0DABhAIBRbsiKL8Q6KskNiw5QfYIBGBWCQoESgPkkmQooF5+P32+Dluu9ueftj9dLufh3vLMxPPMEpCWUdVdev2rVO36lxLYRjiSNPg+T4cx8V0NoM5n0PTdSwWFuaLBRzXFf3s6AiGaYo1y7Jh0th2HHDLsgxpmkHyKVCn10N/MMThaIR8sYjB8BCFUgn1RhPdXh8jeYzWwQHKlSpKlQpK5QoUdYpao4GJouCkJUkKCW/RFEWljUqI4/jCdWbHLU0poKBKyDbAC9z4qANi3u8P0Gy3iWWXjmucBtnEawOeOMRRDOaUiHEkRsxSLF8YMHvzke3dOjrXvsHXt7fw7R8zjnTmmP85sumlkPWAGKzg+0sEQQDf87BKExj1Lrbe/QI7l9/HO5/eg/T5Nr67N1izT14xOxNQM3WUa1UokwlkWcaE+iHlTPcdNL7/CQ8vf4jclS9x9cYdSNf/wZVbNQqWngl00otbTscy9L0dqIYBlZ7AdDrFeEQ2z0H3x/t4dukD5N/7Cs7Da8j9ch1PHvyASHyfXnwpaZwiDhPKDP3S9eNMk0RkKvJ85D65ieHNjxE9/wjZo88Ac3vNilKSXfA63ngp2TJEMniKbHgXmSu/1nfNkBgtSFamORfSY2kJyc0XWBBsuiDLjzB3QsxtX/guLEtIj/0ckh73lm0jDCNI/K4azTYKxTLaBx0hK55Xa3XU6iS9bh8NkliFJFckOdbqDZJkC81Wm6RYO/ZtCDtvchywhf1cAfv5AvZyefqwTJqtIl8oicAFkl2BbPxRqVwV4DH7sb7X44pgKQL2egN0uj3a9UD0zIxtvBEXB57zWrvdEWxkeSJSpGk6dJIip0fTDHh0iUJ6Gf5/y+gCXiGD7/pYBStIEU1YpStaCOhhrs5hSZiHMcxVDDdKTu38zSZCQkCQIjqyrM7gLAN4QQiXdvEIm721ZATks1r70Hj2sgT16R6mL/KY/VWA8mQH9lClgFRFWpQfwzBFDvjpuOdBZcxzvY25RwGLUB//TUF3Md3ag/JoG+5IXTPkhAbE5G3BRcSsdKDv12HkmwLabhX+zIDE/ylc6kejsSj1h6RjmXp5PDm1McYThQqHKuw2vTfl95eQf/0T47tbmPz2AqOfH8NqDSElpNsTlZzCXR9r08ZzYaM1Znn+UqLjQvwvuwdp0HKcl/0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/c59b40793fc226d6d2d03915abcf9742/fcda8/Pasted%20image%2020231206155525.png&quot;
        srcset=&quot;/static/c59b40793fc226d6d2d03915abcf9742/12f09/Pasted%20image%2020231206155525.png 148w,
/static/c59b40793fc226d6d2d03915abcf9742/e4a3f/Pasted%20image%2020231206155525.png 295w,
/static/c59b40793fc226d6d2d03915abcf9742/fcda8/Pasted%20image%2020231206155525.png 590w,
/static/c59b40793fc226d6d2d03915abcf9742/96e92/Pasted%20image%2020231206155525.png 779w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그렇게 해서 익명, 실명으로 한 주제에 대해 토론할 수 있고 투표할 수 있는 아고라를 개발하고 출시하게 되었다.&lt;/p&gt;
&lt;p&gt;현재 아트스코프는 예술가들을 위해 여러 경험을 얘기하고 영향을 줄 수 있도록 오늘 보다 내일 더 나은 사이트로 거듭나게 위해 여러 시도를 하고 있다. 개발과 기획하시는 분들이 열정페이로 일을 하고 계시는데 많은 분들이 편하게 작품을 보고 얘기할 수 있는 공간이 되었으면 한다.&lt;/p&gt;
&lt;h2 id=&quot;우리끼리-우아한-백엔드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9A%B0%EB%A6%AC%EB%81%BC%EB%A6%AC-%EC%9A%B0%EC%95%84%ED%95%9C-%EB%B0%B1%EC%97%94%EB%93%9C&quot; aria-label=&quot;우리끼리 우아한 백엔드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;우리끼리 우아한 백엔드&lt;/h2&gt;
&lt;p&gt;채성이(&lt;a href=&quot;https://puleugo.tistory.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;푸르고 개발 블로그&lt;/a&gt;)와 동현이(아트스코프 인턴 후배)와 함께 우아한 백엔드라는 그룹을 만들었다.
어느 배달 플랫폼이 생각날 수 있긴한데 비슷한 느낌이다.&lt;/p&gt;
&lt;p&gt;매번 1시간 이상 우아하게 이것저것 얘기하는 모임이라 그룹명을 이렇게 짓게 되었는데 만족스럽다.
이 모임은 조금이라도 우아하게 객체지향적인 코드를 작성할 수 있게 오브젝트 책을 함께 스터디하고 우아하게 데이터베이스의 동작 원리를 이해하고 싶어서 Real MySQL 책을 함께 읽고 얘기하는 우리끼리하는 모임이다.&lt;/p&gt;
&lt;p&gt;책을 읽고 스터디를 하는데 그냥? 하진 않는다.
필기도 노트북이나 공책에 하지 않는다 바로 책 에다가 하고 있다.
매번 필기를 노트나 외부 매체에 기록하다보면 책 따로 보고 필기 따로 보는 경향이 있어서 이렇게 하고 있다. 책을 보면 어떤 생각으로 적었는지 볼 수 있어서 좋은 것 같다.&lt;/p&gt;
&lt;p&gt;스터디 진행도 어떤 체계가 있지는 않다 저번 스터디때 읽었던 부분을 다시 복습하며 한명 씩 읽고 읽은 사람이 정리하고 그거에 대해서 바로 얘기하고 토론한다.
그 후 진도를 나가는데 새로운 페이지들을 읽으며 서로의 견해를 나누고 얘기하며 또 토론하게 된다. 이해가 안되는 부분이 있다면 종이를 꺼내서 그림을 그리며 이렇게 코드가 될 것 같다, 협력이 이렇게 구성되지 않을까? 얘기하게 된다.&lt;/p&gt;
&lt;p&gt;우리는 그렇게해서 1달간 오브젝트를 3장까지 밖에 못 읽었다.
스터디를 하면 1시간 이상은 기본적으로 얘기하게 된다. 그런데 이 스터디가 책을 다읽는게 목표가 아닌 평소의 생각과 코드를 작성할 때 바로 적용할 수 있도록 여러 얘기를 하고 있어서 책 진도와 트레이드 오프 했다.&lt;/p&gt;
&lt;p&gt;우리는 항상 왜?를 말하며 깊게 파면서 얘기하는 모임이다.&lt;/p&gt;
&lt;p&gt;사람이 적어서 이렇게 체계없이 스터디해도 많이 배우고 있고 아직까지는 어떤 템플릿이 필요하지 않고 서로 좋은 영향을 주고 있어서 우리끼리 우아하게 진행하고 있다.&lt;/p&gt;
&lt;h2 id=&quot;지방-컨퍼런스-참가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A7%80%EB%B0%A9-%EC%BB%A8%ED%8D%BC%EB%9F%B0%EC%8A%A4-%EC%B0%B8%EA%B0%80&quot; aria-label=&quot;지방 컨퍼런스 참가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;지방 컨퍼런스 참가&lt;/h2&gt;
&lt;p&gt;지방에서는 컨퍼런스의 기회가 많이 없다 대부분 서울에서 진행한다.
그래서 평소에 많이 아쉽다고 생각했지만 찾아보면은 좋은 컨퍼런스가 있다는 것을 깨달았다. 왜 이런곳을 미리 가지 않았을까? 라는 생각을 가지게 되었다. 내 자신이 너무 서울 서울 거리지 않는지 반성하게 되었는데 부산에도 좋은 컨퍼런스가 있다는 것을 알게되었다. (미리 좀 찾아볼걸)&lt;/p&gt;
&lt;p&gt;그래서 &lt;a href=&quot;http://m.centumdigitalweek.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;센텀 디지털 위크&lt;/a&gt;와 &lt;a href=&quot;https://festa.io/events/4248&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;GDG 부산 Devfest 2023&lt;/a&gt; 에 참가하게 되었다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7c65704be7048040731f1d70d47df78d/d2602/IMG_7630.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABTUhVziD/xAAZEAACAwEAAAAAAAAAAAAAAAABAgARIQP/2gAIAQEAAQUC29lGBXYFiI3Sj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/AYf/xAAcEAACAgIDAAAAAAAAAAAAAAAAEQEhEjEyUXH/2gAIAQEABj8Ci7no5SbMn4zVCR//xAAbEAACAwADAAAAAAAAAAAAAAAAAREhMUFRgf/aAAgBAQABPyFpMnYJvNe2MdaFHoJL04GwMI//2gAMAwEAAgADAAAAEEjP/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EKys/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERQf/aAAgBAgEBPxClzD//xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMXGh4f/aAAgBAQABPxDcGgEAiFScDVwVU0Szfksa1z065l1OF1RVa44eKYeQAdRX1P/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/7c65704be7048040731f1d70d47df78d/1c72d/IMG_7630.jpg&quot;
        srcset=&quot;/static/7c65704be7048040731f1d70d47df78d/a80bd/IMG_7630.jpg 148w,
/static/7c65704be7048040731f1d70d47df78d/1c91a/IMG_7630.jpg 295w,
/static/7c65704be7048040731f1d70d47df78d/1c72d/IMG_7630.jpg 590w,
/static/7c65704be7048040731f1d70d47df78d/a8a14/IMG_7630.jpg 885w,
/static/7c65704be7048040731f1d70d47df78d/fbd2c/IMG_7630.jpg 1180w,
/static/7c65704be7048040731f1d70d47df78d/d2602/IMG_7630.jpg 4032w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;센텀 디지털 위크는 올해 처음으로 열리는 컨퍼런스인데 카카오페이 백엔드 개발자, LINE PM, 토스 개발자, 디자이너 등 유명한 회사에 계시는 분들이 발표를 하셨고 행사 퀄리티도 좋고 좋은 영향을 받을 수 있어 좋았다.&lt;/p&gt;
&lt;p&gt;GDG 부산은 대학교 1학년때 부터 알고있던 그룹인데 이번에 Devfest에 참가하게 되었다. 발표는 개인적으로 센텀 디지털 위크에서 인상 깊게 봐서 꽤 비교되긴 했다. 기술적으로 깊거나 내용이 인상 깊었던 것은 센텀이였고 DevFest는 발표 대부분 커뮤니티 관련 얘기였다 그래도 나름 괜찮았다 다음에도 가보고 싶다.&lt;/p&gt;
&lt;p&gt;이런 컨퍼런스가 앞으로도 많이 기획되고 열렸으면 좋겠다고 생각했다. 그리고 후배 학생 개발자분들이 이런곳을 앞으로 많이 가서 네트워킹하면서 작은 우물에서 큰 바다로 갔으면 한다.&lt;/p&gt;
&lt;h2 id=&quot;올해-마무리는-메가콘&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%98%AC%ED%95%B4-%EB%A7%88%EB%AC%B4%EB%A6%AC%EB%8A%94-%EB%A9%94%EA%B0%80%EC%BD%98&quot; aria-label=&quot;올해 마무리는 메가콘 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;올해 마무리는 메가콘&lt;/h2&gt;
&lt;p&gt;작년에 이어 올해도 교내 학술동아리 메가브레인에서 메가콘 기술 컨퍼런스를 열었다. 작년에는 동아리의 과거, 현재, 미래 시스템에 대해서 그리고 Spring Security 인증과 인가 동작에 대해서 발표를 했었고 올해는 Elasticsearch를 이용한 검색 개발을 발표하게 되었다. 발표 영상도 있다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://youtu.be/1SX-sG26jIk&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;img src=&quot;https://img.youtube.com/vi/1SX-sG26jIk/0.jpg&quot;&gt;&lt;/a&gt;
(&lt;a href=&quot;https://youtu.be/1SX-sG26jIk&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;유튜브 링크&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;외부 컨퍼런스에 참가하면서 좋은 영향을 받았어서 나도 내 발표가 누군가에게 좋은 영향을 줬으면 하는 생각으로 진행하고 준비했다.&lt;/p&gt;
&lt;p&gt;기술적인 발표는 듣는 분들의 관심도와 집중도, 그리고 개인 역량에 따라 반응이 갈리는데 최대한 어려운 내용을 쉽게 풀어 말할려고 노력 했다. 그래서 총 50장의 슬라이드의 대부분을 예시를 들며 설명하고 코드는 적게 풀어냈다.&lt;/p&gt;
&lt;p&gt;지방대에서 학술 동아리 활동을 하며 기술적으로 많은 성장을 이뤄내고 싶고 우물 안 개구리를 벗어나고 싶어서 2학년때 부터 여러 활동을 했었는데 메가콘이라는 교내 기술 컨퍼런스을 통해서 후배 학생 개발자분들이 더욱 더 참가하고 관심을 가졌으면 좋겠다고 생각이 든다.&lt;/p&gt;
&lt;h2 id=&quot;우물-안-개구리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9A%B0%EB%AC%BC-%EC%95%88-%EA%B0%9C%EA%B5%AC%EB%A6%AC&quot; aria-label=&quot;우물 안 개구리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;우물 안 개구리&lt;/h2&gt;
&lt;p&gt;예전엔 우물 안 개구리 처럼 나 정도면은 4학년 때 당연히 취직하겠지? 라는 안일한 생각을 했었다. 개발자의 취직 시장이 많이 힘들고 얼어있는데 주변에도 취직을 못하고 있는 상황이고 정작 나도 못하는 거를 보면 우울하기도 하고 기분도 안좋고 하는데 내 현재 위치를 파악하고 당장 해야할 것을 정리하며 꾸준하게 공부를 할려고 한다. 언젠간 취직 하겠지 라는 생각으로 앞으로는 근거없는 자신감으로 여러 회사에 지원도 하고 개발도 하고 이것 저것 좋은 영향을 받고 주는 그런 개발자가 되고 싶다고 생각이 든다.&lt;/p&gt;
&lt;p&gt;이렇게 언젠가 나도 그들 처럼 되고 싶어서 더욱 더 열심히 공부하고 개발해 우물을 떠날려고 한다.&lt;/p&gt;
&lt;p&gt;내년에는 어떤 일이 개인적으로 일어날지 기대가 되며 회고를 읽어주시는 분들에게 감사의 말을 전한다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[AWS] CodeDeploy, Github action, docker-compose를 이용한 CI/CD 구축 그리고 시행착오]]></title><description><![CDATA[Artscope 서비스를 AWS에 배포하기 위해 CI/CD를 구축하였는데 구축 과정과 시행착오를 기록했습니다. 기존에는 개발 환경에서 깃허브로 커밋을 하게 되면 (develop 브랜치) GitAction을 통해서 Build와 Test과정을 진행하게 …]]></description><link>https://seonghoon.xyz/aws-codedeploy/</link><guid isPermaLink="false">https://seonghoon.xyz/aws-codedeploy/</guid><pubDate>Fri, 28 Jul 2023 19:17:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;http://artscope.kr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Artscope&lt;/a&gt; 서비스를 AWS에 배포하기 위해 CI/CD를 구축하였는데 구축 과정과 시행착오를 기록했습니다.&lt;/p&gt;
&lt;p&gt;기존에는 개발 환경에서 깃허브로 커밋을 하게 되면 (develop 브랜치) GitAction을 통해서 Build와 Test과정을 진행하게 되는데
Docker 이미지를 저장소에 업로드 하게 되고 온프레미스로 운영중인 개발 서버의 ArgoCD가 해당 이미지를 감지하여 Kubernetes 오브젝트로 배포를 (CD) 진행하게 됩니다. 개발 환경까지는 배포가 자동으로 진행되지만 배포 환경 (main 브랜치)에서는 업로드된 도커 이미지를 직접 가져와 AWS EC2로 배포해야하는 번거로움이 있었습니다.&lt;/p&gt;
&lt;p&gt;그래서 이번에 AWS CodeDeploy를 이용해 배포 환경까지 자동으로 배포를 진행하고자 합니다.
CI/CD 과정은 다음과 같습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;github 저장소로 commit&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;git action을 통해 build, test 진행 (CI)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;spring boot 프로젝트를 docker 이미지로 빌드&lt;/li&gt;
&lt;li&gt;빌드된 이미지를 docker hub에 업로드&lt;/li&gt;
&lt;li&gt;AWS S3에 새로운 이미지 버전에 대한 정보를 저장&lt;/li&gt;
&lt;li&gt;AWS CodeDeploy에 배포 요청&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;AWS CodeDeploy를 통해 AWS EC2에 배포 (CD)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;고민한-부분&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%A0%EB%AF%BC%ED%95%9C-%EB%B6%80%EB%B6%84&quot; aria-label=&quot;고민한 부분 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;고민한 부분&lt;/h3&gt;
&lt;h4 id=&quot;aws-인스턴스는-도커-이미지를-pull하고-run만-하도록-고안&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#aws-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EB%8A%94-%EB%8F%84%EC%BB%A4-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-pull%ED%95%98%EA%B3%A0-run%EB%A7%8C-%ED%95%98%EB%8F%84%EB%A1%9D-%EA%B3%A0%EC%95%88&quot; aria-label=&quot;aws 인스턴스는 도커 이미지를 pull하고 run만 하도록 고안 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS 인스턴스는 도커 이미지를 Pull하고 Run만 하도록 고안&lt;/h4&gt;
&lt;p&gt;위 과정을 구성하며 고민한 부분은 AWS CodeDeploy 이용한 배포 레퍼런스를 찾아보니 S3에 애플리케이션 빌드 파일을 업로드 후 EC2 상에서 Docker 이미지를 빌드하고 실행하거나 곧 바로 Java 애플리케이션을 실행하는데 이런 과정으로 진행하지 않고싶었습니다. 이유는 AWS 인스턴스는 한정된 자원으로 운영중인 서비스가 있어서 S3로 부터 무거운 빌드 파일을 받아오거나 Docker 이미지 빌드 과정으로 운영중인 서비스에 조금이라도 영향이 없도록 하고 싶었습니다. &lt;/p&gt;
&lt;p&gt;그래서 고안한 방법으로 GitAction의 Task 중 새롭게 갱신된 도커 이미지명을 파일로 저장해 S3 저장소에 이미지명이 담긴 파일을 업로드하고 CodeDeploy Script상에서 해당 파일 내용을 환경변수로 저장해 컨테이너로 실행하는 방법으로 진행하였습니다.&lt;/p&gt;
&lt;p&gt;위 방법을 적용하니 스프링 빌드 파일(jar, 약 75MB)을 S3에 업로드하지 않아도 되고 도커 이미지 빌드를 EC2가 진행하지 않고 GitAction이 담당하게 되니 최종적으로 EC2 인스턴스에서는 해당 이미지를 Pull 하고 Run하는 과정만 진행하면 되어서 효율적인 방법이라고 생각해 적용했습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;1-iam-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-iam-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;1 iam 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. IAM 설정&lt;/h2&gt;
&lt;h3 id=&quot;11-github-action-iam-사용자-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#11-github-action-iam-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;11 github action iam 사용자 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.1 Github Action IAM 사용자 생성&lt;/h3&gt;
&lt;p&gt;Github Action에서 사용할 IAM 사용자를 생성합니다. (IAM - 사용자 - 사용자 추가)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;사용자 이름 : artscope-deploy&lt;/li&gt;
&lt;li&gt;액세스 유형 : 프로그래밍 방식 액세스&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;권한 정책&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;인라인 정책 생성&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2012-10-17&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;Statement&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Effect&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;autoscaling:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;codedeploy:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;ec2:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;lambda:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;elasticloadbalancing:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;s3:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;cloudwatch:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;logs:*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;sns:*&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token property&quot;&gt;&quot;Resource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;생성 후 보안 자격 증명 - 액세스 키 발급 (Access Key ID, Secret Access Key)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;발급받은 Key를 Github 저장소의 Secrets에 등록합니다.&lt;/p&gt;
&lt;h3 id=&quot;12-ec2-iam-역활-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#12-ec2-iam-%EC%97%AD%ED%99%9C-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;12 ec2 iam 역활 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.2 EC2 IAM 역활 생성&lt;/h3&gt;
&lt;p&gt;EC2에서 사용할 IAM 역활을 생성합니다. (IAM - 역활 - 역활 생성)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;역활 이름 : ec2-deploy&lt;/li&gt;
&lt;li&gt;역활 유형 : AWS 서비스&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;권한 정책&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AmazonEC2RoleforAWSCodeDeploy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;EC2에서 CodeDeploy Agent가 S3에 접근할 수 있도록 권한을 추가합니다.&lt;/p&gt;
&lt;h3 id=&quot;13-codedeploy-iam-역활-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#13-codedeploy-iam-%EC%97%AD%ED%99%9C-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;13 codedeploy iam 역활 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.3 CodeDeploy IAM 역활 생성&lt;/h3&gt;
&lt;p&gt;그리고 CodeDeploy에서 사용할 IAM 역활을 생성합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;역활 이름: artscope-codedeploy&lt;/li&gt;
&lt;li&gt;역활 유형: AWS 서비스&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;권한 정책&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWSCodeDeployRole&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CodeDeploy가 EC2에 접근할 수 있도록 권한을 추가합니다.&lt;/p&gt;
&lt;h3 id=&quot;14-ec2에-iam-역활-연결&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#14-ec2%EC%97%90-iam-%EC%97%AD%ED%99%9C-%EC%97%B0%EA%B2%B0&quot; aria-label=&quot;14 ec2에 iam 역활 연결 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.4 EC2에 IAM 역활 연결&lt;/h3&gt;
&lt;p&gt;EC2에 IAM 역활을 연결합니다.
저는 사용중인 EC2가 있어서 IAM 역활 수정을 했습니다 (EC2 - 인스턴스 - 인스턴스 선택 - IAM 역활 수정)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IAM 역활 : ec2-deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;만약에 EC2를 새로 생성한다면 인스턴스 생성 시 생성한 IAM 역활을 선택하면 됩니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;2-ec2-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-ec2-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;2 ec2 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. EC2 설정&lt;/h2&gt;
&lt;h3 id=&quot;21-aws-cli-설치&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#21-aws-cli-%EC%84%A4%EC%B9%98&quot; aria-label=&quot;21 aws cli 설치 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.1 AWS CLI 설치&lt;/h3&gt;
&lt;p&gt;저는 Ubuntu 22.04.2 LTS를 사용하고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; awscli&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;설치 후 &lt;code class=&quot;language-text&quot;&gt;aws configure&lt;/code&gt; 명령어를 통해 AWS 계정 정보를 입력합니다.
저는 EC2에 IAM 역활을 연결했기 때문에 Access Key ID, Secret Access Key는 입력하지 않습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; aws configure
AWS Access Key ID &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;None&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: 
AWS Secret Access Key &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;None&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: 
Default region name &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;None&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: ap-northeast-2
Default output &lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;None&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;:     &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 다음 명령어를 통해 iam-role을 확인합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; aws configure list
      Name                    Value             Type    Location
      ----                    -----             ----    --------
   profile                &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;not set&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;             None    None
access_key     ****************24FZ         iam-role    
secret_key     ****************xJAl         iam-role    
    region           ap-northeast-2      config-file    ~/.aws/config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 처럼 나오면 정상적으로 설정이 된 것입니다.
만약에 iam-role 관련 access_key, secret_key 가 안나온다면 &lt;code class=&quot;language-text&quot;&gt;~/.aws&lt;/code&gt; 폴더에 credentials 파일을 확인하거나
EC2 역활을 다시 확인하면 됩니다.&lt;/p&gt;
&lt;p&gt;이렇게 하면 EC2에서 AWS CLI, CodeDeploy Agent에 필요한 설정이 완료됩니다.&lt;/p&gt;
&lt;h3 id=&quot;22-codedeploy-agent-설치&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#22-codedeploy-agent-%EC%84%A4%EC%B9%98&quot; aria-label=&quot;22 codedeploy agent 설치 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.2 CodeDeploy Agent 설치&lt;/h3&gt;
&lt;p&gt;다음 명령어를 실행해 CodeDeploy Agent를 설치합니다. (Ubuntu 22.04.2 LTS 기준)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; ruby-full
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~ &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://aws-codedeploy-ap-northeast-2.s3.ap-northeast-2.amazonaws.com/latest/install
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x ./install
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; ./install auto&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;설치가 완료되면 다음 명령어를 통해 CodeDeploy Agent가 정상적으로 실행되는지 확인합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt; codedeploy-agent status&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;EC2 재시작되면 CodeDeploy Agent가 자동으로 실행되도록 설정합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 다음 명령어를 실행합니다&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vim&lt;/span&gt; /etc/init.d/codedeploy-startup.sh

&lt;span class=&quot;token comment&quot;&gt;# 다음 내용으로 작성합니다&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#!/bin/bash &lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Starting codedeploy-agent&apos;&lt;/span&gt; 
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt; codedeploy-agent restart


&lt;span class=&quot;token comment&quot;&gt;# 실행 권한을 추가합니다&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x /etc/init.d/codedeploy-startup.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 EC2에 CodeDeploy Agent가 정상적으로 설치되었습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;3-codedeploy-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-codedeploy-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;3 codedeploy 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. CodeDeploy 설정&lt;/h2&gt;
&lt;h3 id=&quot;31-codedeploy-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#31-codedeploy-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;31 codedeploy 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.1 CodeDeploy 생성&lt;/h3&gt;
&lt;p&gt;CodeDeploy 애플리케이션을 생성합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CodeDeploy - 애플리케이션 - 애플리케이션 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;애플리케이션 이름 : artscope-codedeploy&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그리고 배포 그룹을 생성합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CodeDeploy - 배포 그룹 - 배포 그룹 생성&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;배포 그룹 이름 : artscope-codedeploy-group&lt;/li&gt;
&lt;li&gt;서비스 역활 : artscope-codedeploy (이전에 생성한 IAM 역활입니다.)&lt;/li&gt;
&lt;li&gt;배포 유형 : 현재 위치&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;환경 구성 &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Amazon EC2 인스턴스&lt;/li&gt;
&lt;li&gt;키 : Name&lt;/li&gt;
&lt;li&gt;값 : artscope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;배포 설정 : CodeDeployDefault.OneAtATime&lt;/li&gt;
&lt;li&gt;로드 밸런싱 : 없음&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;32-codedeploy-appspec-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#32-codedeploy-appspec-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;32 codedeploy appspec 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.2 CodeDeploy AppSpec 생성&lt;/h3&gt;
&lt;p&gt;CodeDeploy에서 배포할 때 필요한 설정 파일입니다.
프로젝트에서 다음 파일을 생성했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;./appspec.yml&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.0&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; linux
&lt;span class=&quot;token key atrule&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /
    &lt;span class=&quot;token key atrule&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /home/ubuntu/deploy/
    &lt;span class=&quot;token key atrule&quot;&gt;overwrite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yes

&lt;span class=&quot;token key atrule&quot;&gt;permissions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /home/ubuntu/deploy/
    &lt;span class=&quot;token key atrule&quot;&gt;pattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;**&quot;&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; root
    &lt;span class=&quot;token key atrule&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; root
    &lt;span class=&quot;token key atrule&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;777&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;hooks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;ApplicationStop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scripts/stop.sh
      &lt;span class=&quot;token key atrule&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;runas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; root

  &lt;span class=&quot;token key atrule&quot;&gt;ApplicationStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scripts/start.sh
      &lt;span class=&quot;token key atrule&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;runas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; root&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CodeDeploy에는 다음과 같은 단계가 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ApplicationStop&lt;/li&gt;
&lt;li&gt;DownloadBundle&lt;/li&gt;
&lt;li&gt;BeforeInstall&lt;/li&gt;
&lt;li&gt;Install&lt;/li&gt;
&lt;li&gt;AfterInstall&lt;/li&gt;
&lt;li&gt;ApplicationStart&lt;/li&gt;
&lt;li&gt;ValidateService&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;저는 ApplicationStop, ApplicationStart 단계에서 스크립트를 실행하도록 했습니다.&lt;/p&gt;
&lt;h3 id=&quot;33-codedeploy-배포-스크립트-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#33-codedeploy-%EB%B0%B0%ED%8F%AC-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;33 codedeploy 배포 스크립트 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.3 CodeDeploy 배포 스크립트 생성&lt;/h3&gt;
&lt;p&gt;CodeDeploy에서 배포할 때 필요한 스크립트 파일입니다.
프로젝트에서 다음 파일을 생성했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;./scripts/stop.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;CONTAINER_NAME&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;art-backend

&lt;span class=&quot;token comment&quot;&gt;# 도커 컨테이너가 있는지 확인 (-a 옵션으로 정지된 컨테이너도 확인)&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;RUNNING_CONTAINER_ID&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ps&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-aq&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;--filter&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name=&lt;span class=&quot;token variable&quot;&gt;$CONTAINER_NAME&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;실행중인 컨테이너 ID: &lt;span class=&quot;token variable&quot;&gt;$RUNNING_CONTAINER_ID&lt;/span&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# 이전 도커 컨테이너 종료&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$RUNNING_CONTAINER_ID&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;이전 도커 컨테이너 종료 및 삭제합니다&quot;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; stop &lt;span class=&quot;token variable&quot;&gt;$CONTAINER_NAME&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$CONTAINER_NAME&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 스크립트는 실행 중인 컨테이너가 있다면 종료하고 삭제합니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;./scripts/start.sh&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;IMAGE_FILE_PATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/home/ubuntu/deploy/image.txt&quot;&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;IMAGE_NAME&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$IMAGE_FILE_PATH&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;CONTAINER_ENV_PATH&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/home/ubuntu/env/.env&quot;&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;SERVICE_NAME&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;art-be

&lt;span class=&quot;token comment&quot;&gt;# Docker Compose YAML을 새로운 도커 버전으로 작성해서 저장&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;version: &apos;3.8&apos;

services:
  art-be:
    container_name: art-backend
    image: &lt;span class=&quot;token variable&quot;&gt;${IMAGE_NAME}&lt;/span&gt;
    ports:
      - 8080:8080
    env_file:
      - &lt;span class=&quot;token variable&quot;&gt;${CONTAINER_ENV_PATH}&lt;/span&gt;
    volumes:
      - logs_data:/logs
      - /home/ubuntu/art-be/pinpoint/profiles:/pinpoint-agent/profiles:rw
      - pinpoint-volumes:/pinpoint-agent
    depends_on:
      - redis
      - pinpoint-agent
      - filebeat

  pinpoint-agent:
    container_name: art-pinpoint-agent
    image: pinpointdocker/pinpoint-agent:2.5.2
    volumes:
      - pinpoint-volumes:/pinpoint-agent

  redis:
    image: redis:7.0-alpine
    command: redis-server --port 6379
    container_name: art-redis
    labels:
      - &quot;&lt;/span&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;redis&lt;span class=&quot;token string&quot;&gt;&quot;
      - &quot;&lt;/span&gt;mode&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;standalone&lt;span class=&quot;token string&quot;&gt;&quot;
    ports:
      - 6379:6379

  filebeat:
    image: filebeat-custom:0.18
    container_name: art-filebeat
    volumes:
      - logs_data:/logs
    ports:
      - 5044:5044

volumes:
  logs_data:
  pinpoint-volumes:

networks:
  default:
    name: art
    external: true&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; docker-compose.yaml

&lt;span class=&quot;token comment&quot;&gt;# 새로운 도커 컨테이너 실행&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;IMAGE_NAME: &lt;span class=&quot;token variable&quot;&gt;$IMAGE_NAME&lt;/span&gt; 도커 실행&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; up &lt;span class=&quot;token parameter variable&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$SERVICE_NAME&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;새로운 도커 이미지 버전을 알기위해 &lt;code class=&quot;language-text&quot;&gt;/home/ubuntu/deploy/&lt;/code&gt; 경로에 저장된 &lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 파일을 읽어 &lt;code class=&quot;language-text&quot;&gt;IMAGE_NAME&lt;/code&gt; 환경변수에 저장합니다.
그리고 저는 스프링 애플리케이션 뿐만 아니라 pinpoint, redis, filebeat도 함께 실행하기 때문에 docker-compose를 이용해 실행하고 싶어서 갱신된 스프링 서버의 이미지 버전 (&lt;code class=&quot;language-text&quot;&gt;$IMAGE\_NAME&lt;/code&gt;)을 이용하는 docker-compose.yaml을 생성합니다. 그리고 &lt;code class=&quot;language-text&quot;&gt;docker-compose up -d {서비스_이름}&lt;/code&gt; 명령어로 컨테이너를 실행합니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 파일은 Github Action에서 생성하고 S3에 업로드합니다. 그리고 CodeDeploy 배포 요청이 시작되면 Agent가 EC2 인스턴스에서 S3에서 &lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 파일이 담긴 zip을 다운로드 받아 사용합니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;4-github-action-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-github-action-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;4 github action 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. GitHub Action 설정&lt;/h2&gt;
&lt;h3 id=&quot;41-github-action-tasks-작성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#41-github-action-tasks-%EC%9E%91%EC%84%B1&quot; aria-label=&quot;41 github action tasks 작성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.1 Github Action Tasks 작성&lt;/h3&gt;
&lt;p&gt;프로젝트에서 다음 파일을 생성했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.github/workflows/prod-ci.yml&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Docker Prod CI

&lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;main&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;pull_request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;main&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;REGISTRY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker.io
  &lt;span class=&quot;token key atrule&quot;&gt;IMAGE_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; repository/image&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;name
  &lt;span class=&quot;token key atrule&quot;&gt;DOCKER_REGISTRY_USERNAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKERHUB_USERNAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;DOCKER_REGISTRY_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.DOCKERHUB_PASSWORD &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;JASYPT_ENCRYPTOR_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.JASYPT_ENCRYPTOR_PASSWORD &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;AWS_S3_BUCKET_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_S3_BUCKET_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# S3 버킷 이름&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;AWS_CODE_DEPLOY_NAME&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; artscope&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;codedeploy &lt;span class=&quot;token comment&quot;&gt;# CodeDeploy 애플리케이션 이름&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;AWS_CODE_DEPLOY_GROUP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; artscope&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;codedeploy&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;group &lt;span class=&quot;token comment&quot;&gt;# CodeDeploy 배포 그룹 이름&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    
  &lt;span class=&quot;token key atrule&quot;&gt;build-dockerized-production&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build and push Docker image
    &lt;span class=&quot;token key atrule&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ubuntu&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;latest

    &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;token key atrule&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/checkout@v3

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Set up JDK 11
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;java@v3
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;java-version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;11&apos;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;distribution&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;temurin&apos;&lt;/span&gt;

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Cache Gradle packages
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; actions/cache@v2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            ~/.gradle/caches
            ~/.gradle/wrapper&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; runner.os &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;gradle&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; hashFiles(&apos;&lt;span class=&quot;token important&quot;&gt;**/*.gradle*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &apos;&lt;span class=&quot;token important&quot;&gt;**/gradle-wrapper.properties&apos;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;restore-keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            ${{ runner.os }}-gradle-    &lt;/span&gt;

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Grant execute permission for gradlew
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; chmod +x ./gradlew

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build with Gradle
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; gradle/gradle&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;build&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@v2.4.2
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
            build&lt;/span&gt;

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Setup Docker buildx
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker/setup&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;buildx&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;action@79abd3f86f79a9d68a23c75a09a9a85889262adf

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Build the Docker image
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tag $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.IMAGE_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MAJOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;.$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MINOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;f Dockerfile.prod .

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Login to registry $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.REGISTRY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; echo &quot;$DOCKER_REGISTRY_PASSWORD&quot; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt; docker login &quot;$REGISTRY&quot; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;u &quot;$DOCKER_REGISTRY_USERNAME&quot; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;stdin

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Push to $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.REGISTRY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; docker push $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.IMAGE_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MAJOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;.$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MINOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;# Docker 이미지 이름을 image.txt 파일에 쓰기&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Write Docker image name to file
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; echo &quot;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.IMAGE_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MAJOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;.$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.MINOR &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&quot; &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt; image.txt

      &lt;span class=&quot;token comment&quot;&gt;# CodeDeploy 배포를 위한 관련 파일 압축&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Create zip file for AWS CodeDeploy
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; mkdir $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.AWS_CODE_DEPLOY_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token important&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cp &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;r appspec.yml image.txt scripts $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.AWS_CODE_DEPLOY_NAME &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;# AWS 설정&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; AWS Configure
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;actions/configure&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;aws&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;credentials@v1
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;aws-access-key-id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_ACCESS_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;aws-secret-access-key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.AWS_SECRET_KEY &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;aws-region&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ap&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;northeast&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;# AWS S3로 배포 파일 업로드&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Upload to AWS S3
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          aws deploy push \
            --application-name ${{ env.AWS_CODE_DEPLOY_NAME }} \
            --s3-location s3://${{ env.AWS_S3_BUCKET_NAME }}/codedeploy/$GITHUB_SHA.zip \
            --ignore-hidden-files \
            --source ${{ env.AWS_CODE_DEPLOY_NAME }}&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;# AWS EC2 CodeDeploy 배포 요청&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Delpoy to AWS EC2
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          aws deploy create-deployment \
            --application-name ${{ env.AWS_CODE_DEPLOY_NAME }} \
            --deployment-config-name CodeDeployDefault.OneAtATime \
            --deployment-group-name ${{ env.AWS_CODE_DEPLOY_GROUP }} \
            --description &quot;Deploy artscope&quot; \
            --s3-location bucket=$AWS_S3_BUCKET_NAME,key=codedeploy/$GITHUB_SHA.zip,bundleType=zip&lt;/span&gt;
          

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Autoincrement a new minor version
        &lt;span class=&quot;token key atrule&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
          echo &quot;NEW_MINOR_VERSION=$((${{ secrets.MINOR }}+1))&quot; &gt;&gt; $GITHUB_ENV&lt;/span&gt;

      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Update Minor version
        &lt;span class=&quot;token key atrule&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; hmanzur/actions&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;set&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;secret@v2.0.0
        &lt;span class=&quot;token key atrule&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;MINOR&apos;&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; env.NEW_MINOR_VERSION &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.REPO &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token key atrule&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secrets.REPO_ACCESS_TOKEN &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;중요한 부분이라면 다음과 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;빌드된 Docker 이미지 이름을 &lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 파일에 쓰기&lt;/li&gt;
&lt;li&gt;AWS S3로 배포 파일 업로드&lt;/li&gt;
&lt;li&gt;AWS EC2 CodeDeploy 배포 요청&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;업데이트된 이미지명을 기록하고 CodeDeploy의 Script에서 사용하기 위해 &lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 파일을 생성하였고 해당 파일에는 다음 내용으로 쓰여집니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;repository/image-name:1.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CodeDeploy Agent에서 배포 작업들을 실행 하기 위해 &lt;code class=&quot;language-text&quot;&gt;appspec.yml&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;scripts\&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;image.txt&lt;/code&gt; 를 함께 압축하여 AWS S3에 업로드합니다 그리고 해당 s3 파일의 경로를 알려주면 CodeDeploy Agent가 압축을 풀고 appspec에 명시된 내용을 토대로 배포를 진행합니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;5-codedeploy-실행&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-codedeploy-%EC%8B%A4%ED%96%89&quot; aria-label=&quot;5 codedeploy 실행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. CodeDeploy 실행&lt;/h2&gt;
&lt;p&gt;이제 CodeDeploy를 실행해보겠습니다. &lt;code class=&quot;language-text&quot;&gt;main&lt;/code&gt; 브랜치에 푸시를 하면 다음과 같이 Github Actions가 실행됩니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/99fd3ee320e2961d989b86ea71bbde7b/d8817/image.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVQoz2WSa3KjQAyEOUqMw3PeMIDBxsRbrtTe/0K9rcH2OpUfXQKV9M2oNVm33GH7MyodocOCUvWo7ITWz8z1KFSHY+1+6bPxryi95aMuq+2QIB+FTjoUCoU/owhXlAQ2ftrlRmpCbfcouSNhB0LCfIMbNxwqAt1wQZiuaAiWgo/SQLEpjle4bkZLaGt65jgBa0TKRBgeYMMJjpKc/BsekjVsrljwHEGAN+/w93TG97ziPs74E0+4mIBFOczaY+EBc2sxK5tym49YbIdvpZGJTzK/jJtXhkCL0Vls44LbsuHrtGIdFkTl4WsNV2lGC1e2L0UdmDOYqgbZgTcS5ZWlB4wEHnUHEy8wXJYK88ND8Y+2tB3ypmetfakyQ1qe+JkJKMESdAeWHE/TP0uoRNMv6SXId8EF5k231z56ZcufbaBl9j/wHVzSDzeuXNYGN6wJ7EeJ3L6K6YZ5+QbkDooEdD+Bz9FlQTLe/r72t/iMx9ojF731PWE5n80/ZBcTU90XKF8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/99fd3ee320e2961d989b86ea71bbde7b/fcda8/image.png&quot;
        srcset=&quot;/static/99fd3ee320e2961d989b86ea71bbde7b/12f09/image.png 148w,
/static/99fd3ee320e2961d989b86ea71bbde7b/e4a3f/image.png 295w,
/static/99fd3ee320e2961d989b86ea71bbde7b/fcda8/image.png 590w,
/static/99fd3ee320e2961d989b86ea71bbde7b/efc66/image.png 885w,
/static/99fd3ee320e2961d989b86ea71bbde7b/c83ae/image.png 1180w,
/static/99fd3ee320e2961d989b86ea71bbde7b/d8817/image.png 1238w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;CodeDeploy 배포 요청이 성공적으로 이뤄지면 다음과 같이 배포 내역을 확인할 수 있습니다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0e52345bd8c1d99339ecc02620662606/264eb/image-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVQoz42SUU/EIBCE7///Qn3QB03s3UFboC0FShl3tmeNiSaSEOjCfjO79HI3Bi8vr3h6esbb+ztyzudMKcHYHkuM8NOk6yoxrknOg8R4Z14WTPOs+8s4OjjnzyATeLCunCuWJSLKypkeIozr+rhL8SgiFLhQTT9C0AMCpulQY9w5J+uiEApPksS9l/sxHkLOe4WFIMBDJaMzI2IqorrCjAa1VhXozAA/R2zbhuvtDlbEM7aKAowbayU+opSCC51sdUcXMtxSUPeCW+iw7zv2Bti5oJfJMQyDVvK1J6S1pjEr0BNYCHQrpnUTeME9XA+gEO2UMMxZE/v+G9gTKO1g3EvJfd//DTwdKjArEP8FrgqsuHk6KbIvuP4AphNo5RdiMocVwFfJ7OWvJXc+oxZ5afOBtlfpYYMJSXooQDRNYjIHH4J9JJBOjTzSt8OtPoAJVV62XAUorqs4pHNCWzuAp0NxOwyjVuIUaJEF+AnPIQT6AguodAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/0e52345bd8c1d99339ecc02620662606/fcda8/image-1.png&quot;
        srcset=&quot;/static/0e52345bd8c1d99339ecc02620662606/12f09/image-1.png 148w,
/static/0e52345bd8c1d99339ecc02620662606/e4a3f/image-1.png 295w,
/static/0e52345bd8c1d99339ecc02620662606/fcda8/image-1.png 590w,
/static/0e52345bd8c1d99339ecc02620662606/264eb/image-1.png 867w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;배포가 성공적으로 이뤄지면 EC2에 접속하면 실행된 컨테이너와 배포 파일을 확인할 수 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;배포된 컨테이너
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29cd593a21305263c59b71ba2d316085/f0685/image-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 21.62162162162162%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxElEQVQY01WQ2aqEQAxE211xwwWXQUQRURT1QRH0//+rhgrcC/NQkNCpU+mo8zxxHAeKosA0TajrGmEYIkkSuK4LpdS/8jzHvu/ybhgGNE2D53kYhgG+70PXdSgC7/tG13UoyxKfz0fgBNq2/QOkieH0jOOIOI4FSA/FXl3Xhfd90bYt0jQVGMFZlsE0zR9gEATo+x7rumJZFgngpvRQrGXDv0SCqqpC0zRSR1EkqZTjOPLVeZ7xPA+2bZM5noWzlGVZ+ALcAGSEmrpPrwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/29cd593a21305263c59b71ba2d316085/fcda8/image-2.png&quot;
        srcset=&quot;/static/29cd593a21305263c59b71ba2d316085/12f09/image-2.png 148w,
/static/29cd593a21305263c59b71ba2d316085/e4a3f/image-2.png 295w,
/static/29cd593a21305263c59b71ba2d316085/fcda8/image-2.png 590w,
/static/29cd593a21305263c59b71ba2d316085/f0685/image-2.png 835w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;li&gt;배포 파일
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 388px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/28d6cd6030b12b057ba994c0bc0d5d2d/96c67/image-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNElEQVQ4y5VT2XLaQBCUANtIAgkjg8R9GCNuEIc4hJBsBKmAXYSn/EX+/60zu4nLOE4qyUPXbO1IvT0zPcJut8N4PIbjOJhOp+h0OqjX62i32/zc7/cxGo3QarWQy+Xgui4WiwUmkwny+Ty/EwThDefzGb7vw/M8dLtdzOdzqKqKwWCAIAjQoztGUiwWOSn7LgxDWJaFeDwOwzB4ZGSiKELYUnK+XGJM6tabDTpE0B8MYZOC7k91TEmhUIAsy2g0GrwCBkbGKnkl5DgdDziEW4Qbj8e1M+PYBz623hqr1YqrY0gkEpywUqmgXC4jlUrxxxiSySRM04TwzSrg2VRxyibxklGwV2M46BL22jXOWQVfS2ncZbNcDVPIyEqlEo+MkN1nMhlIkgRN0yC0VRlC7BoWDeDeaqHaeIBumPzMSnBjwvum/w2rIjU1Qeqo9POXE0bDIRY0mHT6FiJ94MsiouLbD7zxF/EDbF2FrKUwGdvcNs5sBpX6wZI3VzF4cQGR/1FYitJrkgI9k0WaeuVufDyQPbqk1DBzWF4JiP1Jze8wpB7F6aDHROQUCU6riZnVwOi+inREwCMRir+UeokPhC+mhk9mCs9FHceCjs+5W7hKBL52gyPlnkoGxGj03xUGtHpLcn+wDeEFj5gulujQljRp6oPxBD4Zn61frVbjNun1emg2m6hWqxhSW2zbfj+kGiXYEFLkoTtdR0JRkCQDM8iy9CNHRDrl2Ea87i/zHyNluCT8Do78TlhlYApKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/28d6cd6030b12b057ba994c0bc0d5d2d/96c67/image-3.png&quot;
        srcset=&quot;/static/28d6cd6030b12b057ba994c0bc0d5d2d/12f09/image-3.png 148w,
/static/28d6cd6030b12b057ba994c0bc0d5d2d/e4a3f/image-3.png 295w,
/static/28d6cd6030b12b057ba994c0bc0d5d2d/96c67/image-3.png 388w&quot;
        sizes=&quot;(max-width: 388px) 100vw, 388px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이렇게 AWS CodeDeploy와 Github Action, Docker를 이용해 CI/CD를 구축하였습니다.&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;시행착오&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%ED%96%89%EC%B0%A9%EC%98%A4&quot; aria-label=&quot;시행착오 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시행착오&lt;/h1&gt;
&lt;p&gt;구축 과정을 진행하며 저는 여러 오류를 겪었습니다. 그 중 몇 가지를 정리해보겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;1-awscodedeploycommanderrorsaccessdeniedexception&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-awscodedeploycommanderrorsaccessdeniedexception&quot; aria-label=&quot;1 awscodedeploycommanderrorsaccessdeniedexception permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Aws::CodeDeployCommand::Errors::AccessDeniedException&lt;/h2&gt;
&lt;h3 id=&quot;문제점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AC%B8%EC%A0%9C%EC%A0%90&quot; aria-label=&quot;문제점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;문제점&lt;/h3&gt;
&lt;p&gt;CodeDeploy로 배포 요청을 보냈지만 다음과 같은 오류가 발생했습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;aws codedeploy agent log&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-07-22T10:56:39 ERROR &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;codedeploy-agent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3744996&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: InstanceAgent::Plugins::CodeDeployPlugin::CommandPoller: Error polling &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;host&lt;/span&gt; commands: Aws::CodeDeployCommand::Errors::AccessDeniedException - Aws::CodeDeployCommand::Errors::AccessDeniedException - /opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/raise_response_errors.rb:17:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/jsonvalue_converter.rb:22:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/idempotency_token.rb:19:in `call&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/param_converter.rb:26:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/request_callback.rb:71:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/response_paging.rb:12:in `call&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/response_target.rb:24:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/request.rb:72:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;send_request&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/codedeploy-commands-1.0.0/sdks/codedeploy_commands_sdk.rb:856:in `poll_host_command&apos;&lt;/span&gt;
/opt/codedeploy-agent/lib/instance_agent/plugins/codedeploy/command_poller.rb:170:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;next_command&apos;
/opt/codedeploy-agent/lib/instance_agent/plugins/codedeploy/command_poller.rb:94:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;perform&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/lib/instance_agent/agent/base.rb:28:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:44:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; run&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:86:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;with_error_handling&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:43:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:70:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; run_with_error_handling&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:86:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;with_error_handling&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:69:in `run_with_error_handling&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:33:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; start&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:22:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;loop&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:22:in `start&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:206:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; spawn_child&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:204:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;fork&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:204:in `spawn_child&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:196:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; spawn_children&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:195:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:195:in `spawn_children&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:134:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;start&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:37:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; start&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:36:in `fork&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:36:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;start&apos;
/opt/codedeploy-agent/bin/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/lib/codedeploy-agent.rb:43:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;block &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; levels&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/command_support.rb:126:in `execute&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:284:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; call_command&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:297:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call_command&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:79:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/bin/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/lib/codedeploy-agent.rb:90:in `&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&apos;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-07-22T10:56:39 ERROR &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;codedeploy-agent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3744996&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: InstanceAgent::Plugins::CodeDeployPlugin::CommandPoller: Cannot reach InstanceService: Aws::CodeDeployCommand::Errors::AccessDeniedException - Aws::CodeDeployCommand::Errors::AccessDeniedException&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;해결방안&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88&quot; aria-label=&quot;해결방안 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해결방안&lt;/h3&gt;
&lt;p&gt;AcessDeniedException 에러가 발생했는데 이는 IAM Role에 CodeDeploy에 대한 권한이 없어서 발생한 문제였습니다. 그래서 IAM Role에 CodeDeploy에 대한 권한을 추가해주었습니다.&lt;/p&gt;
&lt;h2 id=&quot;2-awscodedeploycommanderrorsunrecognizedclientexception---the-security-token-included-in-the-request-is-invalid&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-awscodedeploycommanderrorsunrecognizedclientexception---the-security-token-included-in-the-request-is-invalid&quot; aria-label=&quot;2 awscodedeploycommanderrorsunrecognizedclientexception   the security token included in the request is invalid permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Aws::CodeDeployCommand::Errors::UnrecognizedClientException - The security token included in the request is invalid.&lt;/h2&gt;
&lt;h3 id=&quot;문제점-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%AC%B8%EC%A0%9C%EC%A0%90-1&quot; aria-label=&quot;문제점 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;문제점&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;aws codedeploy agent log&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-07-25T00:00:00 ERROR &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;codedeploy-agent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8749&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: InstanceAgent::Plugins::CodeDeployPlugin::CommandPoller: Error polling &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;host&lt;/span&gt; commands: Aws::CodeDeployCommand::Errors::UnrecognizedClientException - The security token included &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the request is invalid. - /opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/raise_response_errors.rb:17:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/jsonvalue_converter.rb:22:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/idempotency_token.rb:19:in `call&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/param_converter.rb:26:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/request_callback.rb:71:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/aws-sdk-core/plugins/response_paging.rb:12:in `call&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/plugins/response_target.rb:24:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;call&apos;
/opt/codedeploy-agent/vendor/gems/aws-sdk-core-3.121.1/lib/seahorse/client/request.rb:72:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;send_request&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/codedeploy-commands-1.0.0/sdks/codedeploy_commands_sdk.rb:856:in `poll_host_command&apos;&lt;/span&gt;
/opt/codedeploy-agent/lib/instance_agent/plugins/codedeploy/command_poller.rb:170:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;next_command&apos;
/opt/codedeploy-agent/lib/instance_agent/plugins/codedeploy/command_poller.rb:94:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;perform&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/lib/instance_agent/agent/base.rb:28:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:44:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; run&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:86:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;with_error_handling&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:43:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:70:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; run_with_error_handling&apos;
/opt/codedeploy-agent/lib/instance_agent/runner/child.rb:86:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;with_error_handling&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:69:in `run_with_error_handling&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:33:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; start&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:22:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;loop&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/child.rb:22:in `start&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:206:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; spawn_child&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:204:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;fork&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:204:in `spawn_child&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:196:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; spawn_children&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:195:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:195:in `spawn_children&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:134:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;start&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:37:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; start&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:36:in `fork&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/process_manager-0.0.13/lib/process_manager/master.rb:36:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;start&apos;
/opt/codedeploy-agent/bin/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/lib/codedeploy-agent.rb:43:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;block &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; levels&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/command_support.rb:126:in `execute&apos;&lt;/span&gt;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:284:in &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;block &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; call_command&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:297:in &lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;call_command&lt;span class=&quot;token string&quot;&gt;&apos;
/opt/codedeploy-agent/vendor/gems/gli-2.11.0/lib/gli/app_support.rb:79:in `run&apos;&lt;/span&gt;
/opt/codedeploy-agent/bin/&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;/lib/codedeploy-agent.rb:90:in `&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;main&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&apos;
&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-07-25T00:00:00 ERROR &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;codedeploy-agent&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8749&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;: InstanceAgent::Plugins::CodeDeployPlugin::CommandPoller: Cannot reach InstanceService: Aws::CodeDeployCommand::Errors::UnrecognizedClientException - The security token included &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; the request is invalid.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;aws codedeploy agent aws_wire log&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;opening connection to codedeploy-commands.ap-northeast-2.amazonaws.com:443&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
opened
starting SSL &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; codedeploy-commands.ap-northeast-2.amazonaws.com:443&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
SSL established, protocol: TLSv1.2, cipher: ECDHE-RSA-AES128-GCM-SHA256
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;- &lt;span class=&quot;token string&quot;&gt;&quot;POST / HTTP/1.1&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Content-Type: application/x-amz-json-1.1&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Accept-Encoding: &lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;User-Agent: aws-sdk-ruby3/3.121.1 ruby/3.0.2 x86_64-linux-gnu aws-sdk-codedeploycommand/1.0.0&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;X-Amz-Target: CodeDeployCommandService_v20141006.PollHostCommand&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;X-Amz-Codedeploy-Agent-Version: OFFICIAL_1.6.0-49_deb&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Host: codedeploy-commands.ap-northeast-2.amazonaws.com&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;X-Amz-Date: 20230726T071557Z&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;X-Amz-Content-Sha256: 43bee01b74391facd1d25...75a441ac49517bfc71ccf565&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Authorization: AWS4-HMAC-SHA256 Credential=AKIAX...C26VMCRNUX/20230726/ap-northeast-2/codedeploy-commands/aws4_request, SignedHeaders=content-type;host;x-amz-codedeploy-agent-version;x-amz-content-sha256;x-amz-date;x-amz-target, Signature=2271f959ef...7a6e66b278&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Content-Length: 89&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;Accept: */*&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;HTTP/1.1 400 Bad Request&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;x-amzn-RequestId: 897d8a0f-869a-47ef-80d9-c13d0ec189b7&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Date: Wed, 26 Jul 2023 07:15:57 GMT&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Content-Type: application/x-amz-json-1.1&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Content-Length: 107&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;connection: keep-alive&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token entity&quot; title=&quot;\r&quot;&gt;\r&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\n&quot;&gt;\n&lt;/span&gt;&quot;&lt;/span&gt;
reading &lt;span class=&quot;token number&quot;&gt;107&lt;/span&gt; bytes&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
-&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;{&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;__type&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;:&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;UnrecognizedClientException&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;,&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;message&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;:&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;The security token included in the request is invalid.&lt;span class=&quot;token entity&quot; title=&quot;\&amp;quot;&quot;&gt;\&quot;&lt;/span&gt;}&quot;&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;107&lt;/span&gt; bytes
Conn keep-alive
I, &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-07-26T07:15:57.958765 &lt;span class=&quot;token comment&quot;&gt;#25534]  INFO -- : [Aws::CodeDeployCommand::Client 400 0.017194 0 retries] poll_host_command(host_identifier:&quot;arn:aws:ec2:ap-northeast-2:539239817397:instance/i-0e9fe7b11be081a65&quot;) Aws::CodeDeployCommand::Errors::UnrecognizedClientException The security token included in the request is invalid.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Aws::CodeDeployCommand::Errors::UnrecognizedClientException - The security token included in the request is invalid.&lt;/code&gt;
Agent 로그(agent.log, agent&lt;em&gt;aws&lt;/em&gt;wire.log)에서도 해당 메시지가 보였습니다. &lt;/p&gt;
&lt;p&gt;AWS CodeDeploy Server로 Agent가 주기적으로 요청을 보내는데 이때, 요청에 대한 응답이 400 Bad Request로 오고 &lt;code class=&quot;language-text&quot;&gt;The security token included in the request is invalid&lt;/code&gt; 라는 메시지가 포함되어 있었습니다.&lt;/p&gt;
&lt;p&gt;이를 통해 Agent가 AWS CodeDeploy Server로 요청을 보낼 때, 요청에 대한 인증이 실패하고 있음을 알 수 있었습니다.&lt;/p&gt;
&lt;p&gt;저는 처음에 IAM 사용자나 EC2 역활이 제대로 aws configure에 등록되지 않았나 싶어서 액세스 키를 새롭게 발급해서 등록하거나, EC2 역활을 새롭게 생성해서 다시 등록해봐도 해결이 되지 않았습니다 그리고 Agent도 여러번 삭제했지만 해결이 되지 않았습니다.&lt;/p&gt;
&lt;p&gt;로그를 다시 확인하니 &lt;code class=&quot;language-text&quot;&gt;Authorization&lt;/code&gt; 요청 헤더에 포함된 &lt;code class=&quot;language-text&quot;&gt;Credentials&lt;/code&gt;를 확인해보니 제가 발급한 액세스키와 비밀키도 아니였고 EC2 역활의 액세스 키와 비밀키도 아니였습니다. 그래서 &lt;code class=&quot;language-text&quot;&gt;.aws&lt;/code&gt; 경로를 확인해봐도 로그에 나타나는 Credentials와 일치하는 액세스 키와 비밀키가 없었습니다.&lt;/p&gt;
&lt;h3 id=&quot;해결방안-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88-1&quot; aria-label=&quot;해결방안 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;해결방안&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;.aws&lt;/code&gt; 관련해서 이상한 액세스 키를 이용해 요청하니 해당 경로가 문제가 있다고 생각했습니다. 그래서 &lt;code class=&quot;language-text&quot;&gt;ubuntu&lt;/code&gt; 계정이 아닌 &lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt; 계정으로 &lt;code class=&quot;language-text&quot;&gt;/.aws&lt;/code&gt; 경로를 확인하니 &lt;code class=&quot;language-text&quot;&gt;credentials&lt;/code&gt; 파일이 존재했습니다. 해당 파일을 확인하니 요청에 담긴 Credentials의 액세스 키가 있었습니다. 이전에 root 계정으로 aws cli를 실행한 적이 있는데 이로 인해 발생한 문제였습니다. 해당 파일을 삭제하니 정상적으로 Agent가 AWS CodeDeploy Server로 요청을 보내고 응답을 받을 수 있었습니다. &lt;/p&gt;
&lt;p&gt;혹시나 저와 같은 증상이 발생한다면 &lt;code class=&quot;language-text&quot;&gt;root&lt;/code&gt; 나 aws cli를 사용했던 계정들의 &lt;code class=&quot;language-text&quot;&gt;.aws&lt;/code&gt; 폴더를 확인하면 될것 같습니다.&lt;/p&gt;
&lt;h2 id=&quot;레퍼런스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot;레퍼런스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;레퍼런스&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://jwkim96.tistory.com/272&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://jwkim96.tistory.com/272&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jojoldu.tistory.com/281&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://jojoldu.tistory.com/281&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[23년도 상반기 회고 - 한중일 캡스톤대회, ETRI 인턴 그리고 Artscope]]></title><description><![CDATA[23년도의 반이 흘렀다. 올해부터 4학년이 되었고 정신없이 지낸거 같고 깃허브의 잔디를 보면 많이한거 같지만 내가 생각했을땐 유의미한 뭐가 없었던 것 같기도 하다. 그 동안 해왔던 거를 이력서나 포토폴리오로 작성해보기도 하고 몇번 서류 합격을 받았지…]]></description><link>https://seonghoon.xyz/23-first-half/</link><guid isPermaLink="false">https://seonghoon.xyz/23-first-half/</guid><pubDate>Tue, 18 Jul 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/af89f619eddf61decf9f98c162582d74/64639/Pasted%20image%2020230708180132.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABK0lEQVQY021QSW7DMAz0K4oETeJ4kWU7tkRaS+psPfTSXlqg///LlJaBnHoYDElxSGoyinfYcBPcMUwzjL8JrtCDx1ENKPSIohlX/gfqNEGPPmGJs0XYjQGdCYl7E9GPEU0/QXWMphPuGapl1C2tucRKS64JuncJS3/dEbKezygsoSbZxAGKPdpzRM0TjlGanAgooJoc6kmukDc9R6j3iCIwqmtAPkufdWlhNoQLtjeD1zeDPDIOgbC/EHY3xsuHWYeSw+ZusHsQNp+E/Nsj//XYfjG2P4zNw6L0MvDEyJqTS6JSLlLGJXEl1+69wcHZ5Es9MI4TobSMwgh7qYW1/xAJxWX1sewtsuXf7RBWSLEVLxdfK21RNTZx2Zpn/OTWJu/KkaBm8XBwqfYH4Pa2TpcFyMMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/af89f619eddf61decf9f98c162582d74/fcda8/Pasted%20image%2020230708180132.png&quot;
        srcset=&quot;/static/af89f619eddf61decf9f98c162582d74/12f09/Pasted%20image%2020230708180132.png 148w,
/static/af89f619eddf61decf9f98c162582d74/e4a3f/Pasted%20image%2020230708180132.png 295w,
/static/af89f619eddf61decf9f98c162582d74/fcda8/Pasted%20image%2020230708180132.png 590w,
/static/af89f619eddf61decf9f98c162582d74/efc66/Pasted%20image%2020230708180132.png 885w,
/static/af89f619eddf61decf9f98c162582d74/c83ae/Pasted%20image%2020230708180132.png 1180w,
/static/af89f619eddf61decf9f98c162582d74/64639/Pasted%20image%2020230708180132.png 1568w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;23년도의 반이 흘렀다. 올해부터 4학년이 되었고 정신없이 지낸거 같고 깃허브의 잔디를 보면 많이한거 같지만 내가 생각했을땐 유의미한 뭐가 없었던 것 같기도 하다. 그 동안 해왔던 거를 이력서나 포토폴리오로 작성해보기도 하고 몇번 서류 합격을 받았지만 매번 코테에서 좋은 결과를 받지 못해서 그런가 번아웃이 오고 그래서 그동안의 내가 뭘 했는지 되돌아 볼려고 회고를 작성하면서 지금까지를 정리해보려고 한다. 23년도 상반기 회고 이지만 22년도 12월 부터 시작한다.&lt;/p&gt;
&lt;h2 id=&quot;cedc-2022-한중일-캡스톤-디자인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#cedc-2022-%ED%95%9C%EC%A4%91%EC%9D%BC-%EC%BA%A1%EC%8A%A4%ED%86%A4-%EB%94%94%EC%9E%90%EC%9D%B8&quot; aria-label=&quot;cedc 2022 한중일 캡스톤 디자인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CEDC 2022 한중일 캡스톤 디자인&lt;/h2&gt;
&lt;p&gt;23년도 2학기엔 캡스톤 디자인이라는 프로그램을 통해 &lt;code class=&quot;language-text&quot;&gt;클라우드 서버를 이용한 스마트팜 관리 플랫폼&lt;/code&gt;이라는 주제를 통해 팀 프로젝트를 진행했는데 나는 팀장으로 수행했고 백엔드 개발도 했었다. 교내 경진대회에서 좋은 평가를 받아 수상까지 하게 되었고 지도 교수님이 한번 12월에 열리는 한중일 글로벌 캡스톤 디자인 대회에서도 참가해서 발표를 해보라고 하셔서 발표날 까지 많은 준비를 했었다. &lt;/p&gt;
&lt;p&gt;22년도 CEDC 대회는 코로나로 인해 비대면 ZOOM으로 대회가 진행이 되었는데 코로나 전에는 대회가 열리는 국가에 직접 가서 발표를 했다고 한다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f4e886ed263018a79fc1d49f64d7f09b/b1584/Pasted%20image%2020230718172141.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 137.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEGUlEQVRIx31VZ3PbRhDV//8n+pixE2usjHscyyWm2AAQLCAJNnSABNj5su+AoyBPJpx52r3d02L73UB+l8sF9d/5fEaapoiiSCGO4yslgiBAGIY4nU749f9veNCgoTrq8v/jtVHiRgvGYwetZhPdbhf9fl/R4XAI07LQarXQ6XRgGAba7TZMoT2RW6aJkdwpf5VBsrvdFo4ox70eptMpnPEYI8fBdDLBlPzIwUTkY9uWOxYmcm8iH3XE6Mx1n4V+QwfjLMfCjxDGKYIohh9GCoEgJOKkPIuOPEHeC0rdOi9wOB7LHB6OZ7z9OcTrBwsd05ZwbfR6Nmz7CT3xiGmw7d71bNfQlXSwWMog/6RJguViAc/zsFyusBB+tSrpcrlUckLLFtXd+XwO3/eRZRkOh0NpkJWiIBGj/ArbhaCMlHLN6zNp/W5RFDjqkGmQXriSXHrAosxmM/V17V3dW1Lql9pT8ZA0z/Mng7qJSUOh2+1WfZFhaMpKkif2+30pJxUd9bRzNZjEMgVRqBCF4ZVnWPSOk8FccTquPKeIEyOReHKnECeUwdPpjL4zgzWcwB5NMRxLuL4YCmL5UDlyzJsePZ3r8ix8pdvtdlXbiMF30jZ/fO7i/quJdz96eP3VwucGW8JCr2oTDYsTIlCtU+k4QUma6La5YJMl2KSxUPEgCpAlEbL0qeoMUy8KgqHXFwcLx7xWIZ+kSkup6gKuVC+Qy+vNBuv1WlWOlNhUsjol9J1nbcO8aGgDBPuvzms9+Xqfkl49pEGGROhe0/32X2dWmOf6h+nps0kp+5D5yhRljuoT8mvOdG61x5TTQ06MMhiHkvTQh++tEAYyGdV00BsiSeJavjbPvKNMh0zc7A8n3D8Y+O19A6/+auL3T7JM2y21VJuycIlO14Bhlu1hyt60NCxTnbmMr9uGVpdeoHaiF3IfZqJkOCk29Eg8K8IptslCvMyl31Klj0UfxSwkC1fbNmXsOfgQOPMC7UGCR1v6Ma8ensUXuI079I0GzulUiTpyp2FF+GlKXrPD9YFSG5sGU0n+ZV+g+fM7nL4Jz3XgTUfIvQkOK3lbHt/DMX5Is/voi47FCpIQfrKSvB1U7s7nSzV64mrAIpgN3P35Emb7G5pv7tD5eI/EHSCTMEejoRhLsd4e8ertnbw3QyRiNAx8OJMZvDR/bnDpSV95LUSDjziHDSSjTzAe34gnMxnHVD1aM5mkTb6Vqu5ly8RoS7Gstinp2qHYHXHS62t/OMosuiiiDnL/EXncwTY14LsP8OM5kk2hlmkQhJL4IyLXlwJlcAYDRCsPl6PsSVkw3FqlhxK/7wcY+QNYqw7M8T9oj74L/4heMIa7WGE+c+HKJvfmM3wYzGXDGBjLe/zixUvc3t7i299fpCClwX8BnEnv94T9M90AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/f4e886ed263018a79fc1d49f64d7f09b/fcda8/Pasted%20image%2020230718172141.png&quot;
        srcset=&quot;/static/f4e886ed263018a79fc1d49f64d7f09b/12f09/Pasted%20image%2020230718172141.png 148w,
/static/f4e886ed263018a79fc1d49f64d7f09b/e4a3f/Pasted%20image%2020230718172141.png 295w,
/static/f4e886ed263018a79fc1d49f64d7f09b/fcda8/Pasted%20image%2020230718172141.png 590w,
/static/f4e886ed263018a79fc1d49f64d7f09b/efc66/Pasted%20image%2020230718172141.png 885w,
/static/f4e886ed263018a79fc1d49f64d7f09b/c83ae/Pasted%20image%2020230718172141.png 1180w,
/static/f4e886ed263018a79fc1d49f64d7f09b/b1584/Pasted%20image%2020230718172141.png 1342w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;영어로 발표를 해야하기 때문에 참가 문서, 소개 문서, 발표 PPT 등 전부를 한글로 초안을 작성하고 번역을 하는 식으로 해서 필요한 문서를 작성했다. 논문과 같은 학술 문서를 작성해본적이 없어서 팀원들의 도움과 지도교수님의 첨삭을 통해서 문서를 계속 초안에서 최종까지 날밤세면서 작성을 했다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1268347e318e44c5ad89faf2de5e2ecf/e1596/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAACAf/aAAwDAQACEAMQAAAB0EZUmuCYV//EABsQAAIDAAMAAAAAAAAAAAAAAAABAgMRBBMh/9oACAEBAAEFAnXhbJRFPB8tj7bIN+//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAwEBPwFX/8QAFREBAQAAAAAAAAAAAAAAAAAAACH/2gAIAQIBAT8BR//EAB0QAAIBBAMAAAAAAAAAAAAAAAABERIhIjEDMqH/2gAIAQEABj8C7eFLIex4qxUnZvSJ5Fkz/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFRYUH/2gAIAQEAAT8hAeu4tk0eoJMBiM+BcNblqnnJRA9AaZ//2gAMAwEAAgADAAAAEAvf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/ENSBG3//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAECAQE/EMGQPb//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhQXExUbH/2gAIAQEAAT8QBZh4ZvkrPqFiqKXVMAjKqLoF9l52ABUIAI6vOiOQRMhXrXJ//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/1268347e318e44c5ad89faf2de5e2ecf/1c72d/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg&quot;
        srcset=&quot;/static/1268347e318e44c5ad89faf2de5e2ecf/a80bd/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 148w,
/static/1268347e318e44c5ad89faf2de5e2ecf/1c91a/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 295w,
/static/1268347e318e44c5ad89faf2de5e2ecf/1c72d/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 590w,
/static/1268347e318e44c5ad89faf2de5e2ecf/a8a14/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 885w,
/static/1268347e318e44c5ad89faf2de5e2ecf/fbd2c/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 1180w,
/static/1268347e318e44c5ad89faf2de5e2ecf/e1596/998AB42A-941D-4225-BC78-972AE1942C64_1_102_o.jpg 2048w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;그렇게 해서 문서를 계속계속 수정하다 보니 발표 당일이 되었고 내 차례가 오기까지 다른 참가 조의 발표를 같이 있던 팀원 들과 모니터링 하면서 기다리고 있었다 영어로 발표를 해야하기 때문에 개인적인 시간에 영어 발음과 작성한 발표 대본을 계속 읽고 다른 사람들한테 들려주면서 연습을 했었고 전날 밤에는 꿈에서 영어로 말하는 지경까지 왔었다 (한동안 영어로 생각까지 했다..)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c66174da24900c8d60742ec8b40e053d/21e8f/Pasted%20image%2020230718172936.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADX0lEQVQozx2RWUycZRSGf2MsskqkLNPiMC1TFmkqbSxMO0BaljDAYAICNZRa0MTaNFGJMdUUTC0xMXpBTYOApkSrrYFoVS5qC9IC7ehkwhbW4Z9hth9mY1gUbXr3+MHFuThfTp7vOeeVnk+MJy4hngSVit2qJFGJJCbvQZWyl2RNMqoXVKJPRKVWkZal5WB2BoeOZJJzPJuiUj1VtQYMVUWUGHTkHlEjRcY+hyZtP5rMVJJS1aQfzkRfnMPJMr2oE5RXGznVWM9b756npa2Frusd9N7+katftfPJ559x5ct29MZyDhXkUlmZg3SyopCK1yp552IzX3/bycD93xibGMZiGWF0dIiJMTNul0zQ78Fht+J2yqK3Mzm9wNSYhRnbHF90XCNOu48yowA2XDhLXVMtfX032QiuoDhkAitOVn1OgisOfIqdZbeMTZ4RICvLigPnkpU7gxZu/HCL3u+7ebu5mcTMDAqKspGKqgyUVhu4ees7/t3w41+2E/K7WF91sRZ0sRHyEPQ6MZtGka3TO7ZLtnnGx03cG7yLzWblg9ZLRKdoKDHqkSobXuEl/VGuXmvnyVYI3zYw4BZA9w40FHAyM2vBYZthTbxvf+iQ58Wck4DXw+OtTTq6Onkqdjf5ZQVI5acqiU1J5f0PL+4Ybq9oGhnAZZ/dMVXcVnpudDM3bcEjVlWci1gXxrELy23T1cAKv/x6m4j4JLJ0LyPlFucTlayhoalJ3M0t7udgaKAf6+wELnmBZRGC372Ez2PDNje1Y/rI3C8CWhDgeRSPE9PDYfalH2D/i+lIx0ryiNdqqaiuxuNYFEAXow/uMTn2CK/iwiv/iU82E/Rt31VhQ5lkU5nin40A6wGFv9cDIignh4/loM7QIpXWlGOoryPPYBBWk4SEpV9ZYjO0wpPHa/y3FcQvQvEuO0QoMwyPDDJ0/y53fu/nm+tdtF7+mLNvNqE9mEHC3jikusYaOn/qQZ19FJPpIfLiAn+ZTTwY+YO+n3tp+7SN8xfOcbq+lnJDIVWFOl4t0REWHcMzEeGERz3LrvCniY4OIzZmF9LphhJyTuiEbhqNZ6q49F4jb9SWkpd9gONZai6fK6b7IyM9V+rpaX2drjP5DLbUoN6TQFhEBDExUQIWSWRkOJERYfwP6VZ69Iu+D2UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/c66174da24900c8d60742ec8b40e053d/fcda8/Pasted%20image%2020230718172936.png&quot;
        srcset=&quot;/static/c66174da24900c8d60742ec8b40e053d/12f09/Pasted%20image%2020230718172936.png 148w,
/static/c66174da24900c8d60742ec8b40e053d/e4a3f/Pasted%20image%2020230718172936.png 295w,
/static/c66174da24900c8d60742ec8b40e053d/fcda8/Pasted%20image%2020230718172936.png 590w,
/static/c66174da24900c8d60742ec8b40e053d/efc66/Pasted%20image%2020230718172936.png 885w,
/static/c66174da24900c8d60742ec8b40e053d/c83ae/Pasted%20image%2020230718172936.png 1180w,
/static/c66174da24900c8d60742ec8b40e053d/21e8f/Pasted%20image%2020230718172936.png 1684w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;드디어 발표 차례가 왔고 ZOOM의 화면 공유를 누르면서 발표를 시작했다. 발표를 끝나고 다른 나라의 참가하시는 분들의 질문까지 잘 답변해서 성공적으로 마무리를 했다. 발표가 끝나고 손이 벌벌떨렸는데.. 아직까지 생각하면 어떻게 했는지 의문이다. &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/952d52d1de7278047d444e826594ba0f/0faf1/Pasted%20image%2020230718173439.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACO0lEQVQozy2QWU/bUBCFDWQlOE5s33hL7Njxkg0IS2lE2VTS9qWlregiQEilVdv//wu+TlwejuZo7syZc64Wug5pOGCepuzmGa+O9nn/esnj5yv+3q/4+W3F77s3/Llb8ev7NT9uL7m5PmGvKGQ+JY9CYt8l6Nn0Om00X9mErluKTkYxi0nOcjHj3fkBDzenPH254PHTOQ8fz3i6PeP+w5LV6T6TOKF4Fhv0FK7ZxdJ30JTRwbUsIs9jFPbJhyHjeEgRx4IR0zRnnhVlzYcjsigWV8NnZx4DR+HbFsow6Gxvo1m6TqAsPNvGV6p0GweBOA5FICqFx2skyf8j0sujqBSL3B6BbeJ0OuKuRbvZQJvEDl/fzkkHDn2Jvx5K+uK275MEvvQDiReJaFRGDF1fXDlioidCXVR77ayFXm8I6mi9rs5+EXAyj1juDTmeRlwvc86PUi6OM65ernkm/zYp614WMkvlv5NAEniSRsl3WXLAoFmtogVGi4OhzdDUSSyDYbdd1lR1GAlyx5RqUng2mWMx7zuMhRciMg3sciZV670djK1NtGMRu70sSN0OfrtFbLcFBokMZk5XFk1yWR7L8ti3Zc4kE6TyZjUaGJUKOxubNDUNa2sDLbV1lrshL2YhC4l+OB1wNOkzG7kcSl0Uftk/lv6aHwhfzkMOxwFFqIjdLn0xMXAMVL2C5rXqzL0OM0Gu2sz8LqG+jSWXVa2GXa3gNmr4zTpqzetVvEYVv+zVSu6IUK9Wwaxs8g9QiRImcOD0ngAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/952d52d1de7278047d444e826594ba0f/fcda8/Pasted%20image%2020230718173439.png&quot;
        srcset=&quot;/static/952d52d1de7278047d444e826594ba0f/12f09/Pasted%20image%2020230718173439.png 148w,
/static/952d52d1de7278047d444e826594ba0f/e4a3f/Pasted%20image%2020230718173439.png 295w,
/static/952d52d1de7278047d444e826594ba0f/fcda8/Pasted%20image%2020230718173439.png 590w,
/static/952d52d1de7278047d444e826594ba0f/efc66/Pasted%20image%2020230718173439.png 885w,
/static/952d52d1de7278047d444e826594ba0f/c83ae/Pasted%20image%2020230718173439.png 1180w,
/static/952d52d1de7278047d444e826594ba0f/0faf1/Pasted%20image%2020230718173439.png 1956w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;결과는 대상을 수상 했고. 결과를 보자마자 지도해주신 교수님과 팀원 들에게 전화로 감사한 말을 전했다. 프로젝트를 여기까지 준비한 과정이 짧지 않고 2학기 동안 진행 했었고 이 과정 속에는 팀장으로 미흡한 부분도 있었고 발표를 위해 프로젝트를 밤세 준비하며 많은 신경을 쓰다보니 스트레스도 많이 받았었다 하지만 좋은 결과로 보답을 받아 좋았다.&lt;/p&gt;
&lt;h2 id=&quot;한국전자통신연구원-인턴-수행&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%9C%EA%B5%AD%EC%A0%84%EC%9E%90%ED%86%B5%EC%8B%A0%EC%97%B0%EA%B5%AC%EC%9B%90-%EC%9D%B8%ED%84%B4-%EC%88%98%ED%96%89&quot; aria-label=&quot;한국전자통신연구원 인턴 수행 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;한국전자통신연구원 인턴 수행&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d8566032398bdb79d572cc2829530496/086f9/IMG_1061.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHvvO4ID//EABcQAAMBAAAAAAAAAAAAAAAAAAABIEH/2gAIAQEAAQUCUYf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAEBAAIDAAAAAAAAAAAAAAAAASExQVFx/9oACAEBAAE/Ice09Wpyhdv/2gAMAwEAAgADAAAAEOfP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QJ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAAIDAQAAAAAAAAAAAAAAAAERADFxEP/aAAgBAQABPxAiwDB6oSbgDuW12v/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/d8566032398bdb79d572cc2829530496/1c72d/IMG_1061.jpg&quot;
        srcset=&quot;/static/d8566032398bdb79d572cc2829530496/a80bd/IMG_1061.jpg 148w,
/static/d8566032398bdb79d572cc2829530496/1c91a/IMG_1061.jpg 295w,
/static/d8566032398bdb79d572cc2829530496/1c72d/IMG_1061.jpg 590w,
/static/d8566032398bdb79d572cc2829530496/a8a14/IMG_1061.jpg 885w,
/static/d8566032398bdb79d572cc2829530496/086f9/IMG_1061.jpg 973w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;12월달에 한국전자통신연구원 (ETRI)의 동계 연구연수생 지원했었다. 한국전자통신연구원에 지원하게 된 계기는 같은 학부 연구실의 졸업하신 선배가 연구실에 계셨고 이전에 많은 조언과 관심을 주셨는데 백엔드 개발을 처음 시작 했을 때 많은 도움을 받았었다 그래서 선배가 계신 연구실에 인턴으로 같이 근무를 해보고 싶었고 매우 운이 좋게 합격하게 되어 근무하게 되었다.&lt;/p&gt;
&lt;p&gt;김해가 아닌 대전에서 2달 자취를 하면서 첫 회사 생활을 하게 되었다. 같은 대학교 형 두분과도 같이 합격하게 되어서 혼자가 아닌 셋이서 함께 출근과 퇴근 그리고 헬스... 하게 되어서 하루하루가 매우 알차고 바쁘게 지냈다.&lt;/p&gt;
&lt;p&gt;업무는 첫주 때 부터 연구실에서 적용하던 인증 서비스가 구 버전이라 최신 버전을 조사해서 한번 어떤지 써보고 발표를 해달라고 하셔서 첫날에 맥을 세팅하고 바로 업무를 시작했다.. 그렇게 하루에 업무 시간내내 코딩과 자료 조사를 하게 되었는데 업무의 강도는 연구실과 부서마다 다르겠지만 나에겐 괜찮았다. ETRI 인턴을 하기 전에 관련 분야에 대해 이미 공부를 했었기 때문에 괜찮았다 그래서 하루하루 코딩의 재미를 느끼고 평소에는 공식 문서도 깊게 안읽었지만 진짜 공식문서를 꿈에서 까지 상상할 정도로 읽었다.&lt;/p&gt;
&lt;p&gt;같이온 형들은 자기 관련 관심 전공과 다른 업무를 하고 있거나 하루종일 논문을 읽고 분석하고 계셨는데 만약 ETRI 인턴에 대해 관심이 있는 분이라면 논문에 대해서 평소 관심있거나 자주 읽는다면 지원하는 연구실의 진행하는 연구 과제를 잘 보고 지원하기를 바란다 의미있는 2달을 보내고싶다면.&lt;/p&gt;
&lt;p&gt;결론은 ETRI 인턴 한번즘은 해보는 것을 추천한다. 나는 좋은 경험과 많은 성장을 했고 대학교에서 쉽게 못 느끼는 박사님들의 지식에 감탄하며 나도 저렇게 지식이 깊었으면 하며 의의를 두었다.&lt;/p&gt;
&lt;h2 id=&quot;artscope-플랫폼-사이트-개발&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#artscope-%ED%94%8C%EB%9E%AB%ED%8F%BC-%EC%82%AC%EC%9D%B4%ED%8A%B8-%EA%B0%9C%EB%B0%9C&quot; aria-label=&quot;artscope 플랫폼 사이트 개발 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Artscope 플랫폼 사이트 개발&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/ef315b8aad0233900a7df95308f5668a/1.gif&quot; alt=&quot;Alt text&quot;&gt;&lt;/p&gt;
&lt;p&gt;22년도 여름방학때 부산 금정구 금샘미술관에 좋은 기회로 전시에 참가했다. 개발자가 미술관에 전시라니? 나의 작품은 아니고 부산시에서 활동하시는 작가님의 전시 작품을 위해 개발자로 참가했다. 관람하는 관객들의 모습을 카메라로 촬영해 다른 화면에 그 모습은 영상 이펙트를 씌워 실시간으로 화면에 보여주는 것인데. 작품과 관객이 상호작용하는 그런 것을 하자고 전시 전에 얘기를 나눴고 같이 개발자로 참가한 친구와 함께 얼굴 인식 프로그램과 인식한 사진을 서버로 전송해서 파일로 저장하는 프로그램을 개발했다. 위 움짤한 그때 전시한 작품의 모습이다. (오른쪽에는 관람객의 모습이 보이고 왼쪽엔 일정 시간 이후에 인식한 모습을 이펙트를 씌워 보여준다.)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5e1ae62dc78ff4d6449e98d6d16df72a/eee07/Pasted%20image%2020230718175726.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 112.16216216216218%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFhUlEQVQ4y62VWUxc1x3GrxdUNW4VtepDn1q1SuVGbR/aSE0qp22cuA3qQy03VtKExHZk3LgkBKiNDXZswHhsYGCMCYbBMBuz3VmZfWUY8Awz4JWBwSyOiVJsExKnUROwo7z8cmYUKep7r/TT+R/pnk/fd+7/niPdubtCbmaOD5bv8v94pJWVVRZvLbEsBNfW1lhfX2d97RvWBA/WH7D64TIf3vs391fv8snHK/z3P6t89ulHPHzwKeuf3+ez+/f44vOPkN5bvM1MbrbI1PVpcjdmuHFtukixvpojLxLYDErMfU0ErV3EHL2kgwayIQO2I9WEVI3kL5lZvmpFWlpaYmFhocj8/Pw39UKhnmdxcZHbt5dwGZU4Lp4gJqtIWJVkA2rsLYdQPPYkExX1vJ+WuZ21IM3PzzExMcHU1BRzc3PkcrkiN2/eJJ/PMzk5yfT0DB6TEltPLVFzCzF9I2lbI+baMjS/eIbZ1+v5IG4gnzQgzc7OCsGsWDQtHC6QmxJRp3JFtwXRguANMfdaO7H3HSOkP0lUV8+w9jAe5V5OV/yTpGeIO+lBMt4epEziCqOBYTKJNMngKCFbjFQ8S164yiQzTN+YZiwwQk9bHYq6PbSfLKdDIHfX0dFwgBffep13vWESLjVJuxLJb4rQf2YQl8YjGMLS7cBjCDISGsPR78al9aBRmGk+Xklt9T6O1x7kSPV+ulqqUbUdpqKyjJdqjtJ94Syei4eRFq6Ok5ItzCQC3EzHyYfNXHdpmE36yEdtpC16guY4Qe8gtsFOPHIvXrmHoFNNWLiKePrx2rsZHuom6uxCmk5FSGubGNeeYtxyjtRAEyl9C+OmdsbtvUzK51jMTXI9G2PE3U8maiUzLHMpbiEatBDwWRgJy4T8MomQLCJ7XPQoT6PuUNCraqWvsw216izqrg56etXotFpuida5kgrg03Zg6mzE5hYugwNo5AGa+zR0aHR0GQxY7YNCMBTFYLFjtLkxWJ2YHZ5iPSi7iqNZkMpcZnLUR1jE1OmVOIMavAENfp9WrNXTrTFiMBuJBoxIv3nlOCVPv8F3dlTxSIHn3mbLc5VsefYtvru9gke27efHf3oDr8NAYtiEK6rHIwT9fp3YVwMRt5mQ3U7MZScTE4392J5WpGcOs6G0Hul5wZ+PIu2oFYgv9mwN0tNv8mjpIYZcJoajBlz+fnx+LX6vEHQbCdhl3CYXQ1YXl8JCcOubaqSdZyh5ScnG3a1ibKfkxTY27Gxm884mpNJjfP+FJlxOE4mwjiHvRXzeAfxuHQGHGb9sxznowW0pCIrIW4+IjXztPCXlosv3vcvLJzrZ845o0Jfb2fx3Me5S8L1X2vF4bUwmRLygloiIG/WK2iHjMTux6X1EhuykIwXBBjvSwX5KKjVsqh7k1+X1/LKsio0V/Wza341UpuIH5RfQGPpx6DrQ97UxIJr44vk2bFodPqtX9KOTdNRCSiD9XOFBqhI/9REbWw+1U1VzgB2l2/lR+Qk215jYeKCHH1ZpUZ5X0aNqRnnmHc61NnCmqR6DukO4spIKGwRGUkWHrX6kQyY2NHj5XdkeTlfu5B+7nuQnf9iOVC1e2NvNJpFgwCIT9sgEvA6BnUjQTWYswrWJBJfH41z5GmmrMijcyWxpcPD71/axe3cpzYpGNFYrNc7LHPVe41TwOlPz7/F+4excvMXdlRXmxGk0MpxgbGxMnFaTZLITjGeyQrCl4NDKt4/J/PTVt/nZtj+SvDZTvB/urH75P/fFw4cPWb5zr1hPZceo2/tX9OdOkEqnhfAoo6OjQlDhE3toZGOdg28VRJ//G7994VWeaDbyq5YhHj9p5SmFA1sgRiwSJi5cqU4d4+BfnuJfu7Zx4exxkskk8XicRCLBV0KM/lJbuvTYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/5e1ae62dc78ff4d6449e98d6d16df72a/fcda8/Pasted%20image%2020230718175726.png&quot;
        srcset=&quot;/static/5e1ae62dc78ff4d6449e98d6d16df72a/12f09/Pasted%20image%2020230718175726.png 148w,
/static/5e1ae62dc78ff4d6449e98d6d16df72a/e4a3f/Pasted%20image%2020230718175726.png 295w,
/static/5e1ae62dc78ff4d6449e98d6d16df72a/fcda8/Pasted%20image%2020230718175726.png 590w,
/static/5e1ae62dc78ff4d6449e98d6d16df72a/efc66/Pasted%20image%2020230718175726.png 885w,
/static/5e1ae62dc78ff4d6449e98d6d16df72a/c83ae/Pasted%20image%2020230718175726.png 1180w,
/static/5e1ae62dc78ff4d6449e98d6d16df72a/eee07/Pasted%20image%2020230718175726.png 1628w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;올해는 작품 전시에 직접적으로 참가는 안하고 부산시 작가분들이나 예술을 좋아하는 일반인들이 작품을 전시하거나 공모를 할 수 있는 것을 한번 만들어 보자고 얘기를 나눴고 그 결과 Artscope라는 사이트를 만들었고 나는 백엔드 개발을 수행했다. &lt;/p&gt;
&lt;p&gt;Artscope의 백엔드 개발자로 개발하면서 사이트 특성상 작가분들의 영상 파일이나 이미지 파일이 대부분 해상도가 높고 용량이 크다는 요구사항이 있어서 AWS의 S3로 정적 파일 저장소를 구성하고 이미지나 영상 파일들을 빠르게 사이트에 뿌릴 수 있도록 AWS Cloudfront과 AWS Lambda를 통해서 이미지를 최적화 처리를 하는 시스템을 적용했다 그 결과 해상도가 높은 2K 이상의 이미지를 기존에 5초 이상 받아온 것을 0.5초 이하로 밀리세컨드 단위로 받아올 수 있도록 성능을 개선했다.
또한 모니터링과 로그에 대해서도 신경쓰게 되었는데. 로그를 한곳에 모아서 모니터링을 할 수 있도록 ELK 스택을 도입하게 되었고 운영중인 스프링 어플리케이션의 다양한 메트릭 수집과 추적을 위한 Naver의 Pinpoint도 도입해서 운용하고 있다. &lt;/p&gt;
&lt;p&gt;처음 사이트를 배포하게 되니 많은 사용자들이 찾아와 주셨는데. Artscope는 실제 미술이나 예술계에 활동하시는 작가분들이 자신의 전시 이력이나 관련 정보를 작성할 수 있는데. 사이트에서 하나하나 작품을 감상하다가 하단에 위치한 작가 프로필을 보다보면 부산시에 있는 작가 뿐만 아니라 해외에 전시를 하신 분들까지 사이트에 찾아 와서 자신의 작품을 올려주시니 감회가 새로웠다. Artscope는 평균적으로 WAU는 250명 정도였고 사이트에 평균 머무는 시간이 4분정도로 많은 관심을 가져주셨다. 사이트에 올라온 작품의 수도 약 150개 이상이 업로드 되었고 작가 정보를 입력해주신 분들은 약 40명 정도로 찾아와서 작가 정보를 기입하신 분들에게 대해 매우 감사하다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dfe8ca0d5b891668c56f716491787b33/5faa8/Pasted%20image%2020230718180941.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACAklEQVQ4y5VUi3KCMBDk/7+urVMfqIC8QXmKKKBebw9DtVVHM3OTBJLN3u0mWhDGNNWXNJsbtK12hHY+n4e4nr/SND+IaGms6HM0obLc/ltwDf4s1FotXicElvOlRWma035/kKg52q67AX7W1H+trvfUtC01TUO7XU2bJKU0ywW84hJg4fF4HDadTqch7jJ8dOJ6k9LH11hK4XFZ9IVJhmnTdLak8XROKBXmK9u9BQSrLC8oL0rK81LG5bYixw14sUeeHzLrjGzHJ9cLKIzWEgDEurbtbgETXmytXDIsm0F8YQMQACoAz49kjP/qIJTkngu0JM0EQAUAbN4IoRAAQ6/YqkPvgQnDDddKLY7izbAJKSlQOAHfE2YFMSDSQ9tA1et0wBAHAATChFEsB3Vd99Q6Q8ooOMBsxxNWAO9T79MUhsI8EuE6Zndgi+EARNO00v+KwmkAxL+IATUDZolvOERMz5bBd2RgsU0QpuX0BC6139V1zxBMTFY4ulghitfCGD1sUfB13FaV3B4YHmVAYIy7X7HtCmaurq0GJuOJTpPZgnR+IAxzRaPvqaT8bpOUURdlZrDAHEq+8zDc+BBgMDcoA/RVoEcPhhgbxYeiCvDV9O6+h1lWCCDAIH/LL88QMu+t0cqL1MdThtgALwIYvagopk5ESZQD1sEFUA/Dte/+th+vpbgsrJ9k9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/dfe8ca0d5b891668c56f716491787b33/fcda8/Pasted%20image%2020230718180941.png&quot;
        srcset=&quot;/static/dfe8ca0d5b891668c56f716491787b33/12f09/Pasted%20image%2020230718180941.png 148w,
/static/dfe8ca0d5b891668c56f716491787b33/e4a3f/Pasted%20image%2020230718180941.png 295w,
/static/dfe8ca0d5b891668c56f716491787b33/fcda8/Pasted%20image%2020230718180941.png 590w,
/static/dfe8ca0d5b891668c56f716491787b33/efc66/Pasted%20image%2020230718180941.png 885w,
/static/dfe8ca0d5b891668c56f716491787b33/c83ae/Pasted%20image%2020230718180941.png 1180w,
/static/dfe8ca0d5b891668c56f716491787b33/5faa8/Pasted%20image%2020230718180941.png 1444w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이용자들의 피드백을 수용할 수 있도록 설문조사도 만들었고 8명의 소중한 피드백을 주셨고 사이트를 현재까지 개선하고 있다. 사이트를 몇번 배포해 본적은 있지만 이렇게 오래 운영하고 있는건 처음이다. 좋은 기회로 올해도 이런 프로젝트를 진행하게 되어서 몹시 기쁘다. &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAMC/9oADAMBAAIQAxAAAAG6fdDuQcYf/8QAGRAAAwADAAAAAAAAAAAAAAAAAAECEBEh/9oACAEBAAEFAnJco0Jj7j//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwFn/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAICAwAAAAAAAAAAAAAAAAARATEQIXH/2gAIAQEAAT8hgSEtX0hILcn/2gAMAwEAAgADAAAAEMwf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EMhJf//EABURAQEAAAAAAAAAAAAAAAAAABEA/9oACAECAQE/EGzf/8QAGxABAQEAAgMAAAAAAAAAAAAAAREAITFRcYH/2gAIAQEAAT8QSjQnY4jpY4GMwiAnhut7F0JUH5k3/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Alt text&quot;
        title=&quot;Alt text&quot;
        src=&quot;/static/02be733908a0ac3739a35c75b7188c99/1c72d/IMG_5895.jpg&quot;
        srcset=&quot;/static/02be733908a0ac3739a35c75b7188c99/a80bd/IMG_5895.jpg 148w,
/static/02be733908a0ac3739a35c75b7188c99/1c91a/IMG_5895.jpg 295w,
/static/02be733908a0ac3739a35c75b7188c99/1c72d/IMG_5895.jpg 590w,
/static/02be733908a0ac3739a35c75b7188c99/a8a14/IMG_5895.jpg 885w,
/static/02be733908a0ac3739a35c75b7188c99/fbd2c/IMG_5895.jpg 1180w,
/static/02be733908a0ac3739a35c75b7188c99/d2602/IMG_5895.jpg 4032w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
Artscope는 실제 작가분들의 작품을 전시하거나 공모 받고 있고 (사이트에 작품을 업로드하게 되면 금샘미술관에 공모하겠는지 묻고 있다) 그 결과 7월 한달 동안 부산 금정구 금샘미술관에 실제 작품들이 전시하고 있다. 관심이 있는 분이라면 &lt;a href=&quot;https://artscope.kr&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://artscope.kr&lt;/a&gt; 를 찾아와 주시거나 부산에 거주하고 있다면 금샘미술관으로 가보시길!&lt;/p&gt;
&lt;h2 id=&quot;이제는&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%A0%9C%EB%8A%94&quot; aria-label=&quot;이제는 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이제는.&lt;/h2&gt;
&lt;p&gt;4학년으로 취업 준비를 하고 있다. 저번주에 진행한 2023 토스 SLASH 코딩 테스트를 봐었는데 알고리즘 문제와 서술형 문제에 생각보다 해맸고 좋은 결과를 받지 못했다. 토스라는 앱을 고등학교 처음 토스앱이 출시할 때 부터 사용하고 있고(그때 당시에 등록할 수 있는 은행이 별로 없던걸로 기억) 내 삶에 매우 편리한 부분을 제공해서 이 회사에 많은 관심을 가지고 있고 꼭 백엔드 개발자로 들어가고 싶다는 생각이 예전부터 있었다. 이번 코테를 통해서 아직 내가 많이 부족하다는 것을 느꼈고 와중에 번아웃 + 감기가 오게 되서 그런지 코테 이후론 개발이나 공부를 안하고 집에서 휴식을 취하고 있었다. 이제는 내 현재를 잘 파악하고 정비해서 천천히라도 내가 꿈꾸는 회사에 도전하고 다시 번아웃을 이기고 달려보려고 한다. 글을 잘 못쓰지만 마지막까지 읽어주신 분들에게 감사하며 글을 마친다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[K8S] ArgoCD Notification을 이용해 Discord Webhook으로 알림을 보내보자]]></title><description><![CDATA[개요 ArgoCD에서는 알림 기능을 제공하는데 해당 기능을 사용하면 ArgoCD에서 사용되는 Application(예: Argo를 통해 배포한 k8s object)을 지속적으로 모니터링하고 상태의 변경 사항을 알릴 수 있다. ArgoCD에서는 Tri…]]></description><link>https://seonghoon.xyz/argocd-notification/</link><guid isPermaLink="false">https://seonghoon.xyz/argocd-notification/</guid><pubDate>Wed, 24 May 2023 12:09:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 530px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2467631c3503542f429a304ae2cb56ea/b6a9b/2023-05-24-12-30-01.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABrklEQVQoz3WS3ZKaQBCFff+7PEBu8x6pJGtla1fWReUfFBAUFQaZAc3NSU8DG0wqF18duqc53T0wWzy/45Dtcb5UKE4XVOIKqdqBbqBFI/tYfeQ6zk1RbYfZl0+fsZh/g+X4MFcbJGmG+irZ+FIKaiRQVjWqumE9nUturp913RRtOls7CVzPh+NqAmwsB5btwqbY80PYjseNzJVFccTn640NL4i46bVRj4bznyYWhkEseWVBk4zoYr1afijw/cccL68GGa+5Tr+sTXTNaMqG5jqiCT1k+ZETY8FYpFWvF4RbpPucG435cbIHwxfDoTUsxElGBy3EX/fSo6i44/OaX1b/nH8YLk2aLo1xKgr6ggpKDtBzqyYq5cBjXtNMJ/z67OPJcPH0HmF7lIgODRPkDZx9g/DQq47HMy/rY5fUJy1Kvfa4sq/wltywjDu87SSMrcRr1BMXCsdSse7PEvmFIE1PEhlpQqrzpejvkQ1Xdoog2iHcpvQr7OCHMdwg5jiOEyYK6RepBKTU60lIPc1Er7SuqHvTmajpHlrFxXK4O43UdyP/0N3u/+U2cL//wm9geDmtueksCAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2023 05 24 12 30 01&quot;
        title=&quot;2023 05 24 12 30 01&quot;
        src=&quot;/static/2467631c3503542f429a304ae2cb56ea/b6a9b/2023-05-24-12-30-01.png&quot;
        srcset=&quot;/static/2467631c3503542f429a304ae2cb56ea/12f09/2023-05-24-12-30-01.png 148w,
/static/2467631c3503542f429a304ae2cb56ea/e4a3f/2023-05-24-12-30-01.png 295w,
/static/2467631c3503542f429a304ae2cb56ea/b6a9b/2023-05-24-12-30-01.png 530w&quot;
        sizes=&quot;(max-width: 530px) 100vw, 530px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h1 id=&quot;개요&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9C%EC%9A%94&quot; aria-label=&quot;개요 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;개요&lt;/h1&gt;
&lt;p&gt;ArgoCD에서는 알림 기능을 제공하는데 해당 기능을 사용하면 ArgoCD에서 사용되는 Application(예: Argo를 통해 배포한 k8s object)을 지속적으로 모니터링하고 상태의 변경 사항을 알릴 수 있다. ArgoCD에서는 Trigger와 Template이라는 매커니즘을 사용해 알림을 보내야하는 시기를 구성할 수 있다. &lt;a href=&quot;https://argo-cd.readthedocs.io/en/release-2.6/operator-manual/notifications/catalog/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;공식문서&lt;/a&gt;에서 참고하면 이런 Trigger와 Template을 이용한 예제가 있으니 참고하거나 사용자가 직접 알림 매커니즘을 구성해서 사용할 수 있다.&lt;/p&gt;
&lt;p&gt;제공하는 여러 서비스들에 알림을 보낼 수 있는데 자주 쓰는거로는 이메일이나, 깃허브, 그라파나, 프로메테우스의 AlertManager, Slack 그리고 Webhook 이 있다.
이중에서 Webhook을 이용해서 ArgoCD의 배포 상태 변경에 대해 디스코드로 알림을 보내보자!&lt;/p&gt;
&lt;h1 id=&quot;get-started&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#get-started&quot; aria-label=&quot;get started permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Get Started&lt;/h1&gt;
&lt;p&gt;이 글에서 운영환경은 다음과 같다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;argocd v2.6.5&lt;/li&gt;
&lt;li&gt;argo-notifications-controller v2.6.5&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;argocd-notification-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#argocd-notification-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;argocd notification 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ArgoCD Notification 설정&lt;/h2&gt;
&lt;p&gt;우선 ArgoCD Notification Controller에 알려줘야할 쿠버네티스 시크릿을 다음과 같은 내용을 생성해서 적용한다.&lt;/p&gt;
&lt;h3 id=&quot;argo-notifications-secretyaml&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#argo-notifications-secretyaml&quot; aria-label=&quot;argo notifications secretyaml permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;argo-notifications-secret.yaml&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Secret
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;notifications&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;secret
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
&lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Opaque
&lt;span class=&quot;token key atrule&quot;&gt;stringData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;notifiers.yaml&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
    webhook:
    - name: discord-webhook
      url: &amp;lt;여기에 웹훅 URL 입력&gt;
      headers:
      - name: Content-Type
        value: application/json&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;argocd-notifications-secret&lt;/code&gt; 이라는 이름의 Secret 파일을 생성해준다
그 후 &lt;code class=&quot;language-text&quot;&gt;kubectl apply&lt;/code&gt;로 Object를 적용한다&lt;/p&gt;
&lt;h3 id=&quot;argocd-notifications-cmyaml&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#argocd-notifications-cmyaml&quot; aria-label=&quot;argocd notifications cmyaml permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;argocd-notifications-cm.yaml&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ConfigMap
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;notifications&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;cm
  &lt;span class=&quot;token key atrule&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; argocd
&lt;span class=&quot;token key atrule&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;service.webhook.discord-webhook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
    url: &amp;lt;여기에 윕훅 URL 입력&gt;
    headers:
    - name: Content-Type
      value: application/json&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 configmap을 작성하는데. &lt;code class=&quot;language-text&quot;&gt;service.webhook.&amp;lt;webhook-name&gt;&lt;/code&gt; 형식으 로 아까 작성한 Secret과 동일하게 작성해준다. 이 부분은 ArgoCD에 Webhook을 등록한다.&lt;/p&gt;
&lt;p&gt;그 다음 Notification의 Trigger를 설정해준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;trigger.sync-operation-change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
    - when: app.status.operationState.phase in [&apos;Running&apos;, &apos;Succeeded&apos;, &apos;Error&apos;, &apos;Failed&apos;]
      send: [ discord-alert ]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sync-operation-change&lt;/code&gt; 트리거에서 조건은 Application의 상태가 &lt;code class=&quot;language-text&quot;&gt;Running, Succeded, Error, Failed&lt;/code&gt; 로 설정했고 위와 같은 상태에 도달했을때 discord-alert라는 template을 통해 알림을 전송한다. &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;template.discord-alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;token scalar string&quot;&gt;
    webhook:
      discord-webhook:
        method: POST
        body: |
          {
            &quot;embeds&quot;: [
              {
                &quot;title:&quot;: &quot;ArgoCD Notification - {{ .app.metadata.name }}&quot;,
                &quot;description&quot;: &quot; **{{ .app.metadata.name }}** 의 상태가 **{{ .app.status.operationState.phase }}** 로 변경되었습니다.&quot;,
                &quot;color&quot;: &quot;{{ if eq .app.status.operationState.phase &quot;Running&quot; }} 1127128 {{end}} {{ if eq .app.status.operationState.phase &quot;Succeeded&quot; }} 3066993 {{end}} {{ if eq .app.status.operationState.phase &quot;Error&quot; }} 15158332 {{end}} {{ if eq .app.status.operationState.phase &quot;Failed&quot; }} 15158332 {{end}}&quot;
              }
            ]
          }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 template을 정의하는데 template의 이름은 discord-webhook이고 &lt;code class=&quot;language-text&quot;&gt;webhook: &amp;lt;wehbook-name&gt;&lt;/code&gt; 을 통해서 해당 Template의 service를 정의한다. discord에서 webhook 메시지를 작성하는 방법은 &lt;a href=&quot;https://discord.com/developers/docs/resources/webhook&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;공식문서&lt;/a&gt;를 참고하면 된다.&lt;/p&gt;
&lt;p&gt;이렇게 해서 &lt;code class=&quot;language-text&quot;&gt;argocd-notifications-cm&lt;/code&gt; 을 작성했다면 적용해주면 된다.
그 후 ArgoCD의 대시보드에 접속해서 원하는 애플리케이션을 다음과 같이 따라해서 알림을 적용하면 된다.
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/15680cb4496739790e1d10691b4503d8/58213/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQElEQVQoz3VSCW7CMBDM/19Hq3CklBZRaAgpJMTxfUzXTkwlpFpazV6zl1woY6C1hjEW+TnnIKVECAHe+38lxiNPkyjrYIlXKDKEkDDWIswFOdlNe016JKXCMz5LzsHcvFDaTF0IoyO+7j7gWDdJz5Nkovd56pA2iVNNOfgrqJQC5xyegiH41G1kI263Dh1J3/UwdBYhxOQjO2Pf9+lkjwklFXx+TCocmxacGg1cgNEJRpKYG+1RTn4Xp45bzLyIhaKgPh0gvvbgJLo+gh0+cd1tgesFoT3DNd8P8W0NO2OO+UsNdz7BUX4hGYNbLaB3G6j3NexHBbOrMKxLsjfkr8BWrxiWL+CbEuJtiXu5SOj3W2jKMcRRVQlLvrSy1wpOSdCh6M9YsK7DT3NJuqe1k9+aCWc9EAbiRTR0/6h7+im/Arpr1TDtikQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2&quot;
        title=&quot;2&quot;
        src=&quot;/static/15680cb4496739790e1d10691b4503d8/fcda8/2.png&quot;
        srcset=&quot;/static/15680cb4496739790e1d10691b4503d8/12f09/2.png 148w,
/static/15680cb4496739790e1d10691b4503d8/e4a3f/2.png 295w,
/static/15680cb4496739790e1d10691b4503d8/fcda8/2.png 590w,
/static/15680cb4496739790e1d10691b4503d8/efc66/2.png 885w,
/static/15680cb4496739790e1d10691b4503d8/58213/2.png 902w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
이미 생성된 애플리케이션이나 새로 생성할 애플리케이션에 Notification Subscriptions을 적용하면 된다. &lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;notification.argoproj.io/&amp;lt;trigger-name&gt;.&amp;lt;service-name&gt;= &quot;&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;이렇게 하여 디스코드로 웹훅 알림을 전송하는 설정은 끝났다 이제 확인을 해보자&lt;/p&gt;
&lt;h2 id=&quot;notification-result&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#notification-result&quot; aria-label=&quot;notification result permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notification Result&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 467px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d3bd168b9bcf53725ced936d2e831cb/85ff8/2023-05-24-12-32-44.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVQoz22SCW6DQAxFc+qepmepeoAogZCVAllIOuzrQAJh5tcMBKlqQV+2bOt5gZmUEgBJ2f8eMXld1yEIQjDPB2MeypIPFUJMmvXAIH2ibQXSJEEURYjjmBTCvcbwQ4HHo0ZVk6oKRVGCc65gTdMooByH6e3MYS3e3n18GgUsZwtdN2DbDsnEUjvCOlKjjMBBhCzL/8wvR1DXiQHI7wIfixpmWMIqr7gcb7BPZ5zO5Lsu6YL9wcKXdYTtnHAwbWx2B+xNC+vtHtudCdNykOWlajB7dWrotdMbvq8eThcX1xujlRmCMEEYxaRExS4u1TAfcZJRLobnB2Qj8KoegK/9Sy7guBXu95r8GkVZ0Z0q5AVHkuZKKsaHWBSnKpbTZD1MCPkbmBUScz3Cer3CfKFDNzbQVxu1orHeqfXmCw0LbaViS83Aimr6lZkXTB9mAjatJOhTnbmjbmJUf+yXL+SQUzE55ulXeT67CfgDpJlfwrMIPg8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;2023 05 24 12 32 44&quot;
        title=&quot;2023 05 24 12 32 44&quot;
        src=&quot;/static/3d3bd168b9bcf53725ced936d2e831cb/85ff8/2023-05-24-12-32-44.png&quot;
        srcset=&quot;/static/3d3bd168b9bcf53725ced936d2e831cb/12f09/2023-05-24-12-32-44.png 148w,
/static/3d3bd168b9bcf53725ced936d2e831cb/e4a3f/2023-05-24-12-32-44.png 295w,
/static/3d3bd168b9bcf53725ced936d2e831cb/85ff8/2023-05-24-12-32-44.png 467w&quot;
        sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
ArgoCD로 배포된 애플리케이션 상태가 변경되면 알림이 전송되는데 &lt;code class=&quot;language-text&quot;&gt;Sync&lt;/code&gt;  버튼을 눌러 강제로 상태 변경을 일으키면 위와 같이 알림이 전송된다.&lt;/p&gt;
&lt;p&gt;간단하게 Discord로 알림을 전송하는 방법을 알아봤고 ArgoCD의 애플리케이션 상태를 자세히 분기해 알림을 적용하고 싶다면 &lt;a href=&quot;https://argo-cd.readthedocs.io/en/release-2.6/operator-manual/notifications/catalog/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;공식문서&lt;/a&gt;를 참조하면 좋을 것 같다. 그리고 Template을 작성할때 &lt;code class=&quot;language-text&quot;&gt;{{ ... }}&lt;/code&gt; 로 Kubernetes 애플리케이션에 대한 내부 속성들을 가져왔는데 이러한 속성들을 사용하는 방법에 대해서 궁금하면 &lt;a href=&quot;https://kubernetes.io/ko/docs/reference/kubectl/jsonpath/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;K8S JSONPATH&lt;/a&gt; 를 참고하면 된다.!&lt;/p&gt;
&lt;h1 id=&quot;레퍼런스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot;레퍼런스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;레퍼런스&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://argo-cd.readthedocs.io/en/release-2.6/operator-manual/notifications/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://argo-cd.readthedocs.io/en/release-2.6/operator-manual/notifications/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[Spring] 간단한 이미지 업로드 및 정적 리소스를 통한 이미지 조회를 구현해보자.]]></title><description><![CDATA[필자가 진행하는 토이 프로젝트 냥피스에서는 이미지를 업로드 하는 기능과 이미지 조회 기능을 제공한다.
해당 기능을 구현하기 위해서 도움이 될만한 내용이 있으므로 이 기능을 구현하기 위한 분들은 읽어보면 좋을 것이다. Get Started 1. 이미지…]]></description><link>https://seonghoon.xyz/image-upload-view/</link><guid isPermaLink="false">https://seonghoon.xyz/image-upload-view/</guid><pubDate>Tue, 02 May 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;필자가 진행하는 토이 프로젝트 냥피스에서는 이미지를 업로드 하는 기능과 이미지 조회 기능을 제공한다.
해당 기능을 구현하기 위해서 도움이 될만한 내용이 있으므로 이 기능을 구현하기 위한 분들은 읽어보면 좋을 것이다.&lt;/p&gt;
&lt;h1 id=&quot;get-started&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#get-started&quot; aria-label=&quot;get started permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Get Started&lt;/h1&gt;
&lt;h2 id=&quot;1-이미지-업로드-구현하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;1 이미지 업로드 구현하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. 이미지 업로드 구현하기&lt;/h2&gt;
&lt;p&gt;만약에 글을 생성할때 이미지 파일과 같이 단일 API로 처리할 수 있다. 이러한 요구사항은
이미지 업로드 시에 MultiPartFile 뿐만 아니라 DTO도 함께 처리할 수 있도록 코드를 작성하면된다
다음 내용들은 이러한 요구사항을 토대로 작성했다.&lt;/p&gt;
&lt;h3 id=&quot;11-multipart-config-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#11-multipart-config-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;11 multipart config 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.1 MultiPart Config 설정&lt;/h3&gt;
&lt;p&gt;우선 MultiPartFile에 대해 최대 사이즈 설정을 해준다.
이미지 파일을 업로드하기 때문에 기본값보다 높은 용량으로 제한해준다.
다음과 같이 설정을 추가한다. (&lt;a href=&quot;https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/web/servlet/MultipartProperties.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;MultipartProperties&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;  &lt;span class=&quot;token key atrule&quot;&gt;spring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
	  &lt;span class=&quot;token key atrule&quot;&gt;servlet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
	    &lt;span class=&quot;token key atrule&quot;&gt;multipart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
	      &lt;span class=&quot;token key atrule&quot;&gt;max-file-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10MB
	      &lt;span class=&quot;token key atrule&quot;&gt;max-request-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10MB&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;max-file-size: 업로드된 파일에 허용되는 최대 크기를 지정. (기본값은 1MB)&lt;/li&gt;
&lt;li&gt;max-request-size: multipart/form-data 요청에 허용되는 최대 크기를 지정. (기본값은 10MB)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;그외 MultiPart 업로드에 대한 설정이 있다. 기본적으로 Multipart 기능이 활성화 (&lt;code class=&quot;language-text&quot;&gt;spring.servlet.multipart.enabled : true&lt;/code&gt;) 되어있다.
업로드된 파일의 임시 저장 공간을 설정할 수 있는 설정도 있다. (multipart.location) 추가적으로 관리가 필요하면 해당 경로도 지정하면 좋다. 임시적으로 저장되는 경로라 요청이 처리 된 후에는 자동으로 파일이 삭제된다.&lt;/p&gt;
&lt;h3 id=&quot;12-upload-controller&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#12-upload-controller&quot; aria-label=&quot;12 upload controller permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.2 Upload Controller&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;consumes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MediaType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MULTIPART_FORM_DATA_VALUE&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;upload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestPart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dto&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; dto&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestPart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MultipartFile&lt;/span&gt; image&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// 확장자 추출&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; originalFilename &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; image&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getOriginalFilename&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; originalFilename&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lastIndexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; ext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; originalFilename&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;ext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;jpg&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;이미지 파일만 업로드 가능합니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BAD_REQUEST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; savePath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./images/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; storeFileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;UUID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomUUID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; ext&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LocalDateTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DateTimeFormatter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ofPattern&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; 
            &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; savePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; storeFileName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;File&lt;/span&gt; temp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savePath &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;temp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                temp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mkdirs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt; fileOutputStream &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            fileOutputStream&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            fileOutputStream&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

            dto&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setImageUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/images/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; storeFileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;이미지 저장에 실패했습니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTERNAL_SERVER_ERROR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        
		&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;MultipartFile에 대해 확장자 유효성 검증을 처리하고 파일 저장을 하는 로직이 있다. 메서드 파라미터를 보면은 이미지 파일 뿐만 아니라 DTO 객체도 받아오는데. MultiPartFile과 JSON 요청을 같이 처리할려면  &lt;code class=&quot;language-text&quot;&gt;@ReqeustPart&lt;/code&gt; (@RequestBody가 아니다!)로 DTO를 받아야한다. 그렇지 않으면 스프링에서 예외가 발생한다. MultiPartFile로 DTO를 받고 해당 DTO는 요청시에 Content-Type을 application/json으로 지정하면 정상적으로 스프링에서 처리된다. 추가적으로 유효성 검증을 할때 파일의 위변조까지 체크할려면 추가적으로 &lt;a href=&quot;https://tika.apache.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Apache Tika 라이브러리&lt;/a&gt;를 이용하면 된다.&lt;/p&gt;
&lt;p&gt;이미지가 저장되는 경로는 프로젝트 경로의 &lt;code class=&quot;language-text&quot;&gt;images/2023-05-01/&lt;/code&gt; 형식의 폴더로 저장되고 저장되는 파일명은 중복성을 고려하여 UUID를 이용해서 저장된다. 따라서 파일이 업로드 되면 다음과 같이 저장되는 모습이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;./
├── README.md
├── build/
├── gradle/
├── gradlew
├── gradlew.bat
├── images
│   └── &lt;span class=&quot;token number&quot;&gt;2023&lt;/span&gt;-05-01
│       ├── 0e04033c-c69b-4840-a17d-8052fb32653e.jpeg
│       ├── 27fe8ce7-8bca-4642-8f0d-756fb0a4e1a2.jpeg
│       ├── 34d274ca-6602-4305-979d-f28cdbdf8a91.jpeg
│       ├── 70558e10-d795-4358-b443-07e6fc469ee2.jpeg
│       ├── 88c6b931-b000-45c6-a5fb-ace650b54cb7.jpeg
│       ├── 9452b9c8-3a09-4fb1-9052-231945701526.jpeg
│       ├── 9572aa83-982c-4a45-8e9d-1164d1b375a0.jpeg
│       ├── 97c0f0b6-e601-40ae-808f-1f92ec94974b.jpeg
│       ├── d83dbdc6-ee63-49f4-b8e5-73c8049d069a.jpeg
│       ├── ec24b9f6-c57e-4935-8e0c-1d27d08daee5.jpeg
│       ├── fae23d62-57ec-4a93-9a96-cd7068c93dc7.jpeg
│       └── ffa7a8bf-f984-4c08-9cb1-de66655ae81f.jpeg
├── settings.gradle
└── src
    ├── main
    │   ├── &lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt;
    │   └── resources
    └── &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt;
        └── &lt;span class=&quot;token function&quot;&gt;java&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;스프링을 jar 파일로 실행해서 기능을 수행한다면 jar 파일이 위치한 경로에서 저장된다.&lt;/p&gt;
&lt;h3 id=&quot;13-이미지-업로드-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#13-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-api&quot; aria-label=&quot;13 이미지 업로드 api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.3 이미지 업로드 API&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b85f153c1b21d99e0d20273c2099679f/f4b77/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3klEQVQ4y6VTSW4VMRD18bgQB0DiGFwA1uzCjk0gApJI6BMhhihRyO/ZPXloux/1nDgTUfQlLD1Vd7nquUblvYdzDlprDMOAXQ7ti6LAOI5YQhDNCoQe8ANU0zTo2haTXLYi+V/XNaqqSpKPzPOMaZpuQCLqCWdmPH874NmrDi/2Rig9ioE4zH4Rwg5lXaEoS1QiSUqnTMLIrLX3sHiHN0cWL99NeH1oocYv+9CHH2GODrAsC5YY4EadDFfJJMYIloXY5Sj38wR6c4zw+/uVZr29JAkfyWeVF3gdf53Aip//+hkY5PH1qq5eslR/tgU6aQhPpIOAUVEaYxLpeq0nUlN+fEPxaR/Nh/eIQhhFx/RJqjabDbaXl5Kiv43i2pG1Y5NyswjqnERtpO7scLxjT6mY0sMoMnLKOeoceRCikMYF//iox4j+B+qpjj2s3W5dlkIyfKbGbxf8o2PC+8kZmVdCZnBxMPKf5zHzqPLi/GYjdK/R6i59swE0zAPNbSFJBh+23qWHaceJSIS671HKRlBBzOwiCUTSkOQ5gqdKQ7I0NiyP5zZwn7dbdD3HIu5cs7v1TRFylnxcYWV/+9NT1E2Hs3LCRT2hHR2q3qLUBs1gUct3lu3g0n0I8V4D/wK+6Y/sxgfh6wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;1&quot;
        title=&quot;1&quot;
        src=&quot;/static/b85f153c1b21d99e0d20273c2099679f/fcda8/1.png&quot;
        srcset=&quot;/static/b85f153c1b21d99e0d20273c2099679f/12f09/1.png 148w,
/static/b85f153c1b21d99e0d20273c2099679f/e4a3f/1.png 295w,
/static/b85f153c1b21d99e0d20273c2099679f/fcda8/1.png 590w,
/static/b85f153c1b21d99e0d20273c2099679f/f4b77/1.png 770w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
위와 같이 이미지 업로드 API를 호출한 모습이다. 이미지 뿐만아니라 추가적인 JSON 형식의 요청도 처리하는 API 이다.
이러한 API (Form-data에 json 형식의 dto와 image를 사용하는 것)를 사용하는 Frontend 에서는 다음 코드를 참고하여 사용하면 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// axios를 이용한 api 호출 코드&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; axios &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; FormData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;form-data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FormData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dto&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;{\n  &quot;description&quot;: &quot;string&quot;,\n  &quot;name&quot;: &quot;string&quot;,\n  &quot;prize&quot;: 1000\n}&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token literal-property property&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;image&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createReadStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;BAE171ED-8C6A-4D86-B855-79E26B3D2FD5.jpeg&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;post&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;maxBodyLength&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;Infinity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://localhost:8080/api/wanted&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; data
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;2-이미지-조회-구현하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%A1%B0%ED%9A%8C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0&quot; aria-label=&quot;2 이미지 조회 구현하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. 이미지 조회 구현하기&lt;/h2&gt;
&lt;p&gt;저장된 이미지를 조회하기 위해서 저장된 이미지 파일들을 정적 리소스로 관리하여 불러올 수 있도록 스프링 서버를 설정한다.&lt;/p&gt;
&lt;p&gt;위 이미지 업로드를 구현하면 이미지의 저장경로는 &lt;code class=&quot;language-text&quot;&gt;/images/2023-05-02/5a3f680c-6d6a-4de4-a283-6d6f12c221c1.jpeg&lt;/code&gt; 와 같이 구성되는데. 해당 경로 그대로 &lt;code class=&quot;language-text&quot;&gt;localhost:8080/images/2023-05-02/5a3f680c-6d6a-4de4-a283-6d6f12c221c1.jpeg&lt;/code&gt;  와 같이 호출할 수 있도록 기능을 구현하였다.
즉 스프링 정적 리소스를 조회할때 images/ 경로로 요청이 들어오면은 images/ 폴더 경로에 있는 리소스들을 조회할 수 있도록 설정한다.&lt;/p&gt;
&lt;h3 id=&quot;21-uploadpath-config-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#21-uploadpath-config-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;21 uploadpath config 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.1 UploadPath Config 설정&lt;/h3&gt;
&lt;p&gt;application.yaml에 다음 설정을 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;uploadPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;./images/ &lt;span class=&quot;token comment&quot;&gt;# Linux, Mac 경로&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약에 윈도우 환경에서 서버를 실행한다면 다음과 같은 경로로 지정해야한다.
&lt;code class=&quot;language-text&quot;&gt;file:///./images/&lt;/code&gt; 또는 &lt;code class=&quot;language-text&quot;&gt;file:///C:images/&lt;/code&gt; &lt;/p&gt;
&lt;h3 id=&quot;22-webmvcconfiguration&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#22-webmvcconfiguration&quot; aria-label=&quot;22 webmvcconfiguration permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.2 WebMvcConfiguration&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebMvcConfig&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebMvcConfigurer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;${uploadPath}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; uploadPath&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addResourceHandlers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ResourceHandlerRegistry&lt;/span&gt; registry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        registry
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addResourceHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/images/**&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addResourceLocations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;uploadPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;WebMvcConfigurer&lt;/code&gt;를 구현한 &lt;code class=&quot;language-text&quot;&gt;@Configuration&lt;/code&gt; 클래스를 작성한다.
설정한 uploadPath 속성값을 불러오고 &lt;code class=&quot;language-text&quot;&gt;addResourceHandlers&lt;/code&gt; 메소드를 오버라이드하여 &lt;code class=&quot;language-text&quot;&gt;/images/**&lt;/code&gt; 경로의 요청들은 지정한 uploadPath로 리소스 파일을 찾을 수 있도록 코드를 작성했다.&lt;/p&gt;
&lt;p&gt;즉 &lt;a href=&quot;&quot;&gt;localhost:8080/images/2023-05-02/5a3f680c-6d6a-4de4-a283-6d6f12c221c1.jpeg&lt;/a&gt; 링크를 누르면 업로드된 이미지가 조회될 것이다. &lt;/p&gt;
&lt;p&gt;만약에 Spring Security를 사용하면 httpSecurity에서 &lt;code class=&quot;language-text&quot;&gt;/images/**&lt;/code&gt; 경로를 permitAll 처리를 해줘야한다.&lt;/p&gt;
&lt;h3 id=&quot;23-이미지-조회-결과&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#23-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%A1%B0%ED%9A%8C-%EA%B2%B0%EA%B3%BC&quot; aria-label=&quot;23 이미지 조회 결과 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.3 이미지 조회 결과&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cbbb376d81bfeaeeee272a8a6a150aa3/108f8/0.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAADAklEQVQ4y32T60/TVxjHebc3y5Zs/8qyLCG+MfGNZstimNE5ooky5hKU2fgGBhOzsCJBmbOAFypdkeINuworhGGg4VJbCr1Kf21/l15p6/TNRMla+Oz8CjMxiif55nsueT7neZ6TU7W29oLn2yoUn5DO5Mhkc+RWC+TyBfKFItlcvrJezesqbp9t+d9Pn/Hi5Uv+eb5WUVV5Y4MNoVKpRDiq4Q0k8AVlFv2ycIVFXQFZ7G/JsxTH7Yux4Isz7V4hrubRR6lcrnCq2B76Qoon8YdkAhGV5ZCCP6wJ1/AFFAFX8S4nBCjGvC/BnFdmal4iphUr8ZubmxWv+n+iAxOySmQlhhRTiUqa8DQrK+ISkbHPHxfAGB4BfSSy9/g1XN4E8dQWcENwdNZrQEURoGgMVVFIahqZdI50qkA6rauIJoKj8SxhKUNIyuH2q8jpJ6+Ab2QoRSUiocekkkmSqg7MkkmlmJlw8MBmYXZyQlyooKaeEYhmmVuWkTPvAIaCy3g9buYeOkkqCaRImJEhC22NdRzZ/QmnavZg7e0mEo5VerckoGr26U49LBP0u/G4XdwyX6b/wlmM51o429JCq+Ekpw5+TlvDMX49b2TQYiUYiDDpHBcPqbxK6M2SgwssLUyxNOtk/55dfPzBR5z+7hgX25ppP32C800/0HqmkS/37qN2/xfcvNZDKvuOkvPxBWTfnzwYNHG8tpbdn1VztfNnHAO9DF/uYuS6iaaGE3z43vtUf1qNfXiI7OpOJZdL/JubR1u0c6PvN3ovduAYvsn0qB374AD3bvQxNjSA3TaMoaGRn5p/pL+vt/KQby15fX0dQ2M93e0tWPuvMfaHHdfkX9isNozGbjo7uui/Ymb0vgPn2Di/my1cvzqAz+t9O1D/et+Ixh89sJfROzbmXbPcvX2P1tZfaDjZTFNzO8YOE9YhOw9nvNy568B0ycSj2ZmdgbdM5zAbDUxPjHGlp4f6b7/nQM0Rvqo5yuHDx/n6UB119QbMlhGc4zNc6urE7Zp6DfgfybCu/09L0U8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;0&quot;
        title=&quot;0&quot;
        src=&quot;/static/cbbb376d81bfeaeeee272a8a6a150aa3/fcda8/0.png&quot;
        srcset=&quot;/static/cbbb376d81bfeaeeee272a8a6a150aa3/12f09/0.png 148w,
/static/cbbb376d81bfeaeeee272a8a6a150aa3/e4a3f/0.png 295w,
/static/cbbb376d81bfeaeeee272a8a6a150aa3/fcda8/0.png 590w,
/static/cbbb376d81bfeaeeee272a8a6a150aa3/108f8/0.png 777w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이미지 업로드와 조회를 간단하게 구현해봤다. 이러한 기능들을 실제 배포를 위해서 구현한다면 이미지의 특성상 요청 크기가 매우 무겁기 때문에 미들웨어로 CDN과 같은 캐싱 서버를 둬서 리소스를 캐싱해서 제공하거나, 이미지의 크기가 요즘은 4K 이상은 넘기는 경우가 있으니 클라이언트에 보낼때 이미지 리사이징 기능을 적용하는 방법들을 고안해야한다....! &lt;/p&gt;
&lt;h1 id=&quot;레퍼런스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot;레퍼런스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;레퍼런스&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://velog.io/@orol116/Spring-%EC%9D%B4%EB%AF%B8%EC%A7%80%ED%8C%8C%EC%9D%BC-%EC%97%85%EB%A1%9C%EB%93%9C&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://velog.io/@orol116/Spring-이미지파일-업로드&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gilssang97.tistory.com/43&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://gilssang97.tistory.com/43&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://creampuffy.tistory.com/119&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://creampuffy.tistory.com/119&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://velog.io/@nestour95/Spring-boot-%EC%A0%95%EC%A0%81-%EB%A6%AC%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%99%B8%EB%B6%80-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC%EB%A1%9C-%EB%B6%80%ED%84%B0-%EB%B6%88%EB%9F%AC%EC%98%A4%EA%B8%B0&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://velog.io/@nestour95/Spring-boot-정적-리소스를-외부-디렉토리로-부터-불러오기&lt;/a&gt;&lt;/p&gt;</content:encoded></item></channel></rss>